{"version":3,"file":"mail.24.6baf59095446008b644d.js","mappings":"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","sources":["webpack://nextcloud-mail/./src/components/NavigationOutbox.vue?80ab","webpack://nextcloud-mail/src/components/icons/ImportantIcon.vue","webpack://nextcloud-mail/./src/components/icons/ImportantIcon.vue?e1c6","webpack://nextcloud-mail/./src/components/icons/ImportantIcon.vue?81bf","webpack://nextcloud-mail/./src/components/icons/ImportantIcon.vue","webpack://nextcloud-mail/./src/components/Navigation.vue","webpack://nextcloud-mail/src/components/NavigationAccount.vue","webpack://nextcloud-mail/./src/components/NavigationAccount.vue?a614","webpack://nextcloud-mail/./src/components/NavigationAccount.vue?a8cb","webpack://nextcloud-mail/./src/components/NavigationAccount.vue?d234","webpack://nextcloud-mail/./src/components/NavigationAccount.vue","webpack://nextcloud-mail/./src/components/NavigationAccountExpandCollapse.vue?a03c","webpack://nextcloud-mail/src/components/NavigationAccountExpandCollapse.vue","webpack://nextcloud-mail/./src/components/NavigationAccountExpandCollapse.vue?7b7c","webpack://nextcloud-mail/./src/components/NavigationAccountExpandCollapse.vue?1e6b","webpack://nextcloud-mail/./src/components/NavigationAccountExpandCollapse.vue","webpack://nextcloud-mail/./src/components/NavigationMailbox.vue","webpack://nextcloud-mail/src/components/MoveMailboxModal.vue","webpack://nextcloud-mail/./src/components/MoveMailboxModal.vue?f43e","webpack://nextcloud-mail/./src/components/MoveMailboxModal.vue?b8e6","webpack://nextcloud-mail/./src/components/MoveMailboxModal.vue","webpack://nextcloud-mail/./src/directives/drag-and-drop/droppable-mailbox/droppable-mailbox.js","webpack://nextcloud-mail/./src/directives/drag-and-drop/droppable-mailbox/index.js","webpack://nextcloud-mail/src/components/NavigationMailbox.vue","webpack://nextcloud-mail/./src/components/NavigationMailbox.vue?371c","webpack://nextcloud-mail/./src/components/NavigationMailbox.vue?bed4","webpack://nextcloud-mail/./src/components/NavigationMailbox.vue?8269","webpack://nextcloud-mail/./src/components/NavigationOutbox.vue","webpack://nextcloud-mail/src/components/NavigationOutbox.vue","webpack://nextcloud-mail/./src/components/NavigationOutbox.vue?215d","webpack://nextcloud-mail/./src/components/NavigationOutbox.vue?f581","webpack://nextcloud-mail/./src/components/NavigationOutbox.vue?b84b","webpack://nextcloud-mail/./src/components/AppSettingsMenu.vue","webpack://nextcloud-mail/./src/util/pkcs12.js","webpack://nextcloud-mail/src/components/smime/SmimeCertificateModal.vue","webpack://nextcloud-mail/./src/components/smime/SmimeCertificateModal.vue?5da8","webpack://nextcloud-mail/./src/components/smime/SmimeCertificateModal.vue?8b2d","webpack://nextcloud-mail/./src/components/smime/SmimeCertificateModal.vue?7a50","webpack://nextcloud-mail/./src/components/smime/SmimeCertificateModal.vue","webpack://nextcloud-mail/./src/components/TrustedSenders.vue","webpack://nextcloud-mail/src/components/TrustedSenders.vue","webpack://nextcloud-mail/./src/components/TrustedSenders.vue?02eb","webpack://nextcloud-mail/./src/components/TrustedSenders.vue?9ff2","webpack://nextcloud-mail/./src/components/TrustedSenders.vue?cccc","webpack://nextcloud-mail/./src/components/InternalAddress.vue","webpack://nextcloud-mail/src/components/InternalAddress.vue","webpack://nextcloud-mail/./src/components/InternalAddress.vue?2b5f","webpack://nextcloud-mail/./src/components/InternalAddress.vue?0848","webpack://nextcloud-mail/./src/components/InternalAddress.vue?abbc","webpack://nextcloud-mail/src/components/AppSettingsMenu.vue","webpack://nextcloud-mail/./src/components/AppSettingsMenu.vue?b034","webpack://nextcloud-mail/./src/components/AppSettingsMenu.vue?4837","webpack://nextcloud-mail/./src/components/AppSettingsMenu.vue?4f94","webpack://nextcloud-mail/./src/components/Navigation.vue?8190","webpack://nextcloud-mail/src/components/Navigation.vue","webpack://nextcloud-mail/./src/components/Navigation.vue?36ca","webpack://nextcloud-mail/./src/components/Navigation.vue?7f19","webpack://nextcloud-mail/./src/components/TrustedSenders.vue?d691","webpack://nextcloud-mail/./src/components/InternalAddress.vue?aeb4","webpack://nextcloud-mail/./src/components/NewMessageButtonHeader.vue","webpack://nextcloud-mail/src/components/NewMessageButtonHeader.vue","webpack://nextcloud-mail/./src/components/NewMessageButtonHeader.vue?5268","webpack://nextcloud-mail/./src/components/NewMessageButtonHeader.vue?70a9","webpack://nextcloud-mail/./src/components/NewMessageButtonHeader.vue?0f94","webpack://nextcloud-mail/./src/util/acl.js","webpack://nextcloud-mail/./src/components/NavigationMailbox.vue?194e","webpack://nextcloud-mail/./src/directives/drag-and-drop/util/dragEventBus.js","webpack://nextcloud-mail/./src/service/TrustedSenderService.js","webpack://nextcloud-mail/./src/components/MailboxPicker.vue","webpack://nextcloud-mail/src/components/MailboxPicker.vue","webpack://nextcloud-mail/./src/components/MailboxPicker.vue?930e","webpack://nextcloud-mail/./src/components/MailboxPicker.vue?db63","webpack://nextcloud-mail/./src/components/MailboxPicker.vue?0d5a","webpack://nextcloud-mail/./src/i18n/MailboxTranslator.js","webpack://nextcloud-mail/./src/components/AppSettingsMenu.vue?fd71","webpack://nextcloud-mail/./src/components/smime/SmimeCertificateModal.vue?be26","webpack://nextcloud-mail/./src/components/NavigationAccountExpandCollapse.vue?02a7","webpack://nextcloud-mail/./src/components/Navigation.vue?c779","webpack://nextcloud-mail/./src/components/NewMessageButtonHeader.vue?5509","webpack://nextcloud-mail/./src/components/NavigationAccount.vue?e5de","webpack://nextcloud-mail/./src/components/MailboxPicker.vue?f49e"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.navigation-outbox__unread-counter[data-v-3df17d20]{margin-right:calc(var(--default-grid-baseline)*2)}.outbox-opacity-icon[data-v-3df17d20]{opacity:.7}.outbox-opacity-icon[data-v-3df17d20]:hover{opacity:1}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/NavigationOutbox.vue\"],\"names\":[],\"mappings\":\"AAEC,oDACC,iDAAA,CAIF,sCACC,UAAA,CACA,4CACC,SAAA\",\"sourcesContent\":[\"\\n.navigation-outbox {\\n\\t&__unread-counter {\\n\\t\\tmargin-right: calc(var(--default-grid-baseline)*2);\\n\\t}\\n}\\n\\n.outbox-opacity-icon {\\n\\topacity: .7;\\n\\t&:hover {\\n\\t\\topacity: 1;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","<!--\n  - SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template functional>\n\t<span :aria-hidden=\"!props.title\"\n\t\t:aria-label=\"props.title\"\n\t\t:class=\"[data.class, data.staticClass]\"\n\t\tclass=\"material-design-icon important-icon\"\n\t\trole=\"img\"\n\t\tv-bind=\"data.attrs\"\n\t\tv-on=\"listeners\">\n\t\t<svg :fill=\"props.fillColor\"\n\t\t\tclass=\"material-design-icon__svg\"\n\t\t\t:width=\"props.size\"\n\t\t\t:height=\"props.size\"\n\t\t\tviewBox=\"0 0 16 16\">\n\t\t\t<path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\n\t\t\t<path d=\"M2 13h7.8a1.4 1.4 0 001.1-.6L14 8l-3.1-4.4A1.4 1.4 0 009.8 3H2l3.4 5z\" />\n\t\t</svg>\n\t</span>\n</template>\n\n<script>\nexport default {\n\tname: 'ImportantIcon',\n\tprops: {\n\t\ttitle: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t\tsize: {\n\t\t\ttype: Number,\n\t\t\tdefault: 20,\n\t\t},\n\t\tfillColor: {\n\t\t\ttype: String,\n\t\t\tdefault: 'currentColor',\n\t\t},\n\t},\n}\n</script>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportantIcon.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportantIcon.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ImportantIcon.vue?vue&type=template&id=2a0fe480&functional=true\"\nimport script from \"./ImportantIcon.vue?vue&type=script&lang=js\"\nexport * from \"./ImportantIcon.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  true,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(_c,_vm){return _c('span',_vm._g(_vm._b({staticClass:\"material-design-icon important-icon\",class:[_vm.data.class, _vm.data.staticClass],attrs:{\"aria-hidden\":!_vm.props.title,\"aria-label\":_vm.props.title,\"role\":\"img\"}},'span',_vm.data.attrs,false),_vm.listeners),[_c('svg',{staticClass:\"material-design-icon__svg\",attrs:{\"fill\":_vm.props.fillColor,\"width\":_vm.props.size,\"height\":_vm.props.size,\"viewBox\":\"0 0 16 16\"}},[_c('path',{attrs:{\"d\":\"M0 0h24v24H0V0z\",\"fill\":\"none\"}}),_vm._v(\" \"),_c('path',{attrs:{\"d\":\"M2 13h7.8a1.4 1.4 0 001.1-.6L14 8l-3.1-4.4A1.4 1.4 0 009.8 3H2l3.4 5z\"}})])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('AppNavigation',{scopedSlots:_vm._u([{key:\"search\",fn:function(){return [_c('NewMessageButtonHeader')]},proxy:true},{key:\"list\",fn:function(){return [_vm._l((_vm.unifiedMailboxes),function(mailbox){return _c('NavigationMailbox',{key:'mailbox-' + mailbox.databaseId,attrs:{\"account\":_vm.unifiedAccount,\"mailbox\":mailbox}})}),_vm._v(\" \"),_vm._l((_vm.menu),function(group){return [(group.account)?_c('NavigationAccount',{key:group.account.id,attrs:{\"account\":group.account,\"first-mailbox\":group.mailboxes[0],\"is-first\":_vm.isFirst(group.account),\"is-last\":_vm.isLast(group.account),\"is-disabled\":_vm.isDisabled(group.account)}}):_vm._e(),_vm._v(\" \"),(!_vm.isDisabled(group.account))?[_vm._l((group.mailboxes),function(item){return [_c('NavigationMailbox',{directives:[{name:\"show\",rawName:\"v-show\",value:(\n\t\t\t\t\t\t\t!group.isCollapsible ||\n\t\t\t\t\t\t\t\t!group.account.collapsed ||\n\t\t\t\t\t\t\t\t!_vm.isCollapsed(group.account, item)\n\t\t\t\t\t\t),expression:\"\\n\\t\\t\\t\\t\\t\\t\\t!group.isCollapsible ||\\n\\t\\t\\t\\t\\t\\t\\t\\t!group.account.collapsed ||\\n\\t\\t\\t\\t\\t\\t\\t\\t!isCollapsed(group.account, item)\\n\\t\\t\\t\\t\\t\\t\"}],key:'mailbox-' + item.databaseId,attrs:{\"account\":group.account,\"mailbox\":item}}),_vm._v(\" \"),(!group.account.isUnified && item.specialRole === 'inbox')?_c('NavigationMailbox',{key:item.databaseId + '-starred',attrs:{\"account\":group.account,\"mailbox\":item,\"filter\":\"starred\"}}):_vm._e()]}),_vm._v(\" \"),(!group.account.isUnified && group.isCollapsible)?_c('NavigationAccountExpandCollapse',{key:'collapse-' + group.account.id,attrs:{\"account\":group.account}}):_vm._e()]:_vm._e()]})]},proxy:true},{key:\"footer\",fn:function(){return [(_vm.outboxMessages.length !== 0)?_c('div',{staticClass:\"outbox__border\"},[_c('NavigationOutbox',{staticClass:\"outbox\"})],1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"mail-settings\"},[_c('AppNavigationItem',{staticClass:\"mail-settings__button\",attrs:{\"close-after-click\":true,\"name\":_vm.t('mail', 'Mail settings')},on:{\"click\":_vm.showMailSettings},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconSetting',{attrs:{\"size\":16}})]},proxy:true}])})],1)]},proxy:true}])},[_vm._v(\" \"),_vm._v(\" \"),_vm._v(\" \"),_c('AppSettingsMenu',{attrs:{\"open\":_vm.showSettings},on:{\"update:open\":function($event){_vm.showSettings=$event}}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<Fragment>\n\t\t<NcAppNavigationCaption v-if=\"visible\"\n\t\t\t:id=\"id\"\n\t\t\t:key=\"id\"\n\t\t\t:name=\"account.emailAddress\"\n\t\t\t@update:open=\"onMenuToggle\">\n\t\t\t<!-- Actions -->\n\t\t\t<template #actions>\n\t\t\t\t<template v-if=\"isDisabled\">\n\t\t\t\t\t<ActionText :name=\"t('mail', 'Provisioned account is disabled')\">\n\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t<IconInfo :size=\"16\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t{{ t('mail', 'Please login using a password to enable this account. The current session is using passwordless authentication, e.g. SSO or WebAuthn.') }}\n\t\t\t\t\t</ActionText>\n\t\t\t\t</template>\n\t\t\t\t<template v-else>\n\t\t\t\t\t<ActionText v-if=\"!account.isUnified\" :name=\"t('mail', 'Quota')\">\n\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t<IconInfo :size=\"16\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t{{ quotaText }}\n\t\t\t\t\t</ActionText>\n\t\t\t\t\t<ActionButton :close-after-click=\"true\"\n\t\t\t\t\t\t@click=\"showAccountSettings(true)\">\n\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t<IconSettings :size=\"16\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t{{ t('mail', 'Account settings') }}\n\t\t\t\t\t</ActionButton>\n\t\t\t\t\t<ActionCheckbox :checked=\"account.showSubscribedOnly\"\n\t\t\t\t\t\t:disabled=\"savingShowOnlySubscribed\"\n\t\t\t\t\t\t@update:checked=\"changeShowSubscribedOnly\">\n\t\t\t\t\t\t{{ t('mail', 'Show only subscribed mailboxes') }}\n\t\t\t\t\t</ActionCheckbox>\n\t\t\t\t\t<ActionButton v-if=\"!editing && nameLabel\" @click=\"openCreateMailbox\">\n\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t<IconFolderAdd :size=\"16\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t{{ t('mail', 'Add mailbox') }}\n\t\t\t\t\t</ActionButton>\n\t\t\t\t\t<ActionInput v-if=\"editing && nameInput\"\n\t\t\t\t\t\t:value.sync=\"createMailboxName\"\n\t\t\t\t\t\t@submit.prevent.stop=\"createMailbox\">\n\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t<IconFolderAdd :size=\"16\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t{{ t('mail', 'Mailbox name') }}\n\t\t\t\t\t</ActionInput>\n\t\t\t\t\t<ActionText v-if=\"showSaving\">\n\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t<IconLoading :size=\"16\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t{{ t('mail', 'Saving') }}\n\t\t\t\t\t</ActionText>\n\t\t\t\t\t<ActionButton v-if=\"!isFirst\" @click=\"changeAccountOrderUp\">\n\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t<MenuUp :size=\"16\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t{{ t('mail', 'Move up') }}\n\t\t\t\t\t</ActionButton>\n\t\t\t\t\t<ActionButton v-if=\"!isLast\" @click=\"changeAccountOrderDown\">\n\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t<MenuDown :size=\"16\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t{{ t('mail', 'Move down') }}\n\t\t\t\t\t</ActionButton>\n\t\t\t\t\t<ActionButton v-if=\"!account.provisioningId\" @click=\"removeAccount\">\n\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t<IconDelete :size=\"16\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t{{ t('mail', 'Remove account') }}\n\t\t\t\t\t</ActionButton>\n\t\t\t\t</template>\n\t\t\t</template>\n\t\t</NcAppNavigationCaption>\n\t\t<AccountSettings :open=\"showSettings\" :account=\"account\" @update:open=\"showAccountSettings($event)\" />\n\t</Fragment>\n</template>\n\n<script>\nimport { NcAppNavigationCaption, NcActionButton as ActionButton, NcActionCheckbox as ActionCheckbox, NcActionInput as ActionInput, NcActionText as ActionText, NcLoadingIcon as IconLoading } from '@nextcloud/vue'\nimport { formatFileSize } from '@nextcloud/files'\nimport { generateUrl } from '@nextcloud/router'\nimport { Fragment } from 'vue-frag'\n\nimport logger from '../logger.js'\nimport { fetchQuota } from '../service/AccountService.js'\nimport IconInfo from 'vue-material-design-icons/Information.vue'\nimport IconSettings from 'vue-material-design-icons/Cog.vue'\nimport IconFolderAdd from 'vue-material-design-icons/Folder.vue'\nimport MenuDown from 'vue-material-design-icons/ChevronDown.vue'\nimport MenuUp from 'vue-material-design-icons/ChevronUp.vue'\nimport IconDelete from 'vue-material-design-icons/Delete.vue'\nimport { DialogBuilder, showError } from '@nextcloud/dialogs'\nimport { mapStores } from 'pinia'\nimport useMainStore from '../store/mainStore.js'\n\nexport default {\n\tname: 'NavigationAccount',\n\tcomponents: {\n\t\tNcAppNavigationCaption,\n\t\tFragment,\n\t\tActionButton,\n\t\tActionCheckbox,\n\t\tActionInput,\n\t\tActionText,\n\t\tAccountSettings: () => import(/* webpackChunkName: \"account-settings\" */ './AccountSettings.vue'),\n\t\tIconInfo,\n\t\tIconSettings,\n\t\tIconFolderAdd,\n\t\tMenuDown,\n\t\tMenuUp,\n\t\tIconDelete,\n\t\tIconLoading,\n\t},\n\tprops: {\n\t\taccount: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tfirstMailbox: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => undefined,\n\t\t},\n\t\tisFirst: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tisLast: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tisDisabled: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tmenuOpen: false,\n\t\t\tloading: {\n\t\t\t\tdelete: false,\n\t\t\t},\n\t\t\tsavingShowOnlySubscribed: false,\n\t\t\tquota: undefined,\n\t\t\tediting: false,\n\t\t\tshowSaving: false,\n\t\t\tcreateMailboxName: '',\n\t\t\tshowMailboxes: false,\n\t\t\tnameInput: false,\n\t\t\tnameLabel: true,\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapStores(useMainStore),\n\t\tshowSettings() {\n\t\t\treturn this.mainStore.showSettingsForAccount(this.account.id)\n\t\t},\n\t\tvisible() {\n\t\t\treturn this.account.isUnified !== true && this.account.visible !== false\n\t\t},\n\t\tid() {\n\t\t\treturn 'account-' + this.account.id\n\t\t},\n\t\tquotaText() {\n\t\t\tif (this.quota === undefined) {\n\t\t\t\treturn t('mail', 'Loading …')\n\t\t\t}\n\t\t\tif (this.quota === false) {\n\t\t\t\treturn t('mail', 'Not supported by the server')\n\t\t\t}\n\n\t\t\treturn t('mail', '{usage} of {limit} used', {\n\t\t\t\tusage: formatFileSize(this.quota.usage),\n\t\t\t\tlimit: formatFileSize(this.quota.limit),\n\t\t\t})\n\t\t},\n\t},\n\tmethods: {\n\t\tasync createMailbox(e) {\n\t\t\tthis.nameInput = false\n\t\t\tthis.showSaving = true\n\t\t\tconst name = this.createMailboxName\n\t\t\tlogger.info('creating mailbox ' + name)\n\t\t\tthis.menuOpen = false\n\t\t\ttry {\n\t\t\t\tawait this.mainStore.createMailbox({\n\t\t\t\t\taccount: this.account, name,\n\t\t\t\t})\n\t\t\t} catch (error) {\n\t\t\t\tshowError(t('mail', 'Unable to create mailbox. The name likely contains invalid characters. Please try another name.'))\n\t\t\t\tlogger.error('could not create mailbox', { error })\n\t\t\t\tthrow error\n\t\t\t} finally {\n\t\t\t\tthis.showSaving = false\n\t\t\t\tthis.nameInput = false\n\t\t\t\tthis.editing = false\n\t\t\t\tthis.createMailboxName = ''\n\t\t\t}\n\t\t\tlogger.info(`mailbox ${name} created`)\n\t\t},\n\t\topenCreateMailbox() {\n\t\t\tthis.editing = true\n\t\t\tthis.nameInput = true\n\t\t\tthis.showSaving = false\n\t\t},\n\t\tasync removeAccount() {\n\t\t\tconst id = this.account.id\n\t\t\tlogger.info('delete account', { account: this.account })\n\t\t\tconst dialog = new DialogBuilder()\n\t\t\t\t.setName(t('mail', 'Remove account'))\n\t\t\t\t.setText(t('mail', 'The account for {email} and cached email data will be removed from Nextcloud, but not from your email provider.', { email: this.account.emailAddress }))\n\t\t\t\t.setButtons([\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: t('mail', 'Cancel'),\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: t('mail', 'Remove {email}', { email: this.account.emailAddress }),\n\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\tcallback: async () => {\n\t\t\t\t\t\t\tthis.loading.delete = true\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tawait this.mainStore.deleteAccount(this.account)\n\t\t\t\t\t\t\t\tlogger.info(`account ${id} deleted, redirecting …`)\n\n\t\t\t\t\t\t\t\t// TODO: update store and handle this more efficiently\n\t\t\t\t\t\t\t\tlocation.href = generateUrl('/apps/mail')\n\t\t\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t\t\tlogger.error('could not delete account', { error })\n\t\t\t\t\t\t\t} finally {\n\t\t\t\t\t\t\t\tthis.loading.delete = false\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t])\n\t\t\t\t.build()\n\t\t\tawait dialog.show()\n\t\t},\n\t\tchangeAccountOrderUp() {\n\t\t\tthis.mainStore.moveAccount({ account: this.account, up: true })\n\t\t\t\t.catch((error) => logger.error('could not move account up', { error }))\n\t\t},\n\t\tchangeAccountOrderDown() {\n\t\t\tthis.mainStore.moveAccount({ account: this.account })\n\t\t\t\t.catch((error) => logger.error('could not move account down', { error }))\n\t\t},\n\t\tchangeShowSubscribedOnly(onlySubscribed) {\n\t\t\tthis.savingShowOnlySubscribed = true\n\t\t\tthis.mainStore.patchAccount({\n\t\t\t\taccount: this.account,\n\t\t\t\tdata: {\n\t\t\t\t\tshowSubscribedOnly: onlySubscribed,\n\t\t\t\t},\n\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.savingShowOnlySubscribed = false\n\t\t\t\t\tlogger.info('show only subscribed mailboxes updated to ' + onlySubscribed)\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tlogger.error('could not update subscription mode', { error })\n\t\t\t\t\tthis.savingShowOnlySubscribed = false\n\t\t\t\t\tthrow error\n\t\t\t\t})\n\t\t},\n\t\tonMenuToggle(open) {\n\t\t\tif (open) {\n\t\t\t\tconsole.debug('accounts menu opened, fetching quota')\n\t\t\t\tthis.fetchQuota()\n\t\t\t}\n\t\t},\n\t\tasync fetchQuota() {\n\t\t\tconst quota = await fetchQuota(this.account.id)\n\t\t\tconsole.debug('quota fetched', {\n\t\t\t\tquota,\n\t\t\t})\n\n\t\t\tif (quota === undefined) {\n\t\t\t\t// Server does not support this\n\t\t\t\tthis.quota = false\n\t\t\t} else {\n\t\t\t\tthis.quota = quota\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Show the settings for the given account\n\t\t *\n\t\t * @param {boolean} show true to show, false to hide\n\t\t */\n\t\tshowAccountSettings(show) {\n\t\t\tif (show) {\n\t\t\t\tthis.mainStore.showSettingsForAccountMutation(this.account.id)\n\t\t\t} else {\n\t\t\t\tthis.mainStore.showSettingsForAccountMutation(null)\n\t\t\t}\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\">\n// Fix very long button labels overflowing the modal\n.dialog {\n\t&__actions {\n\t\tflex-wrap: wrap;\n\n\t\t> button {\n\t\t\tflex: 1 auto;\n\t\t}\n\t}\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationAccount.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationAccount.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationAccount.vue?vue&type=style&index=0&id=11bef212&prod&lang=scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationAccount.vue?vue&type=style&index=0&id=11bef212&prod&lang=scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./NavigationAccount.vue?vue&type=template&id=11bef212\"\nimport script from \"./NavigationAccount.vue?vue&type=script&lang=js\"\nexport * from \"./NavigationAccount.vue?vue&type=script&lang=js\"\nimport style0 from \"./NavigationAccount.vue?vue&type=style&index=0&id=11bef212&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('Fragment',[(_vm.visible)?_c('NcAppNavigationCaption',{key:_vm.id,attrs:{\"id\":_vm.id,\"name\":_vm.account.emailAddress},on:{\"update:open\":_vm.onMenuToggle},scopedSlots:_vm._u([{key:\"actions\",fn:function(){return [(_vm.isDisabled)?[_c('ActionText',{attrs:{\"name\":_vm.t('mail', 'Provisioned account is disabled')},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconInfo',{attrs:{\"size\":16}})]},proxy:true}],null,false,3625221864)},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Please login using a password to enable this account. The current session is using passwordless authentication, e.g. SSO or WebAuthn.'))+\"\\n\\t\\t\\t\\t\")])]:[(!_vm.account.isUnified)?_c('ActionText',{attrs:{\"name\":_vm.t('mail', 'Quota')},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconInfo',{attrs:{\"size\":16}})]},proxy:true}],null,false,3625221864)},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.quotaText)+\"\\n\\t\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),_c('ActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":function($event){return _vm.showAccountSettings(true)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconSettings',{attrs:{\"size\":16}})]},proxy:true}],null,false,2580691459)},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Account settings'))+\"\\n\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('ActionCheckbox',{attrs:{\"checked\":_vm.account.showSubscribedOnly,\"disabled\":_vm.savingShowOnlySubscribed},on:{\"update:checked\":_vm.changeShowSubscribedOnly}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Show only subscribed mailboxes'))+\"\\n\\t\\t\\t\\t\")]),_vm._v(\" \"),(!_vm.editing && _vm.nameLabel)?_c('ActionButton',{on:{\"click\":_vm.openCreateMailbox},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconFolderAdd',{attrs:{\"size\":16}})]},proxy:true}],null,false,1502609841)},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Add mailbox'))+\"\\n\\t\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.editing && _vm.nameInput)?_c('ActionInput',{attrs:{\"value\":_vm.createMailboxName},on:{\"update:value\":function($event){_vm.createMailboxName=$event},\"submit\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.createMailbox.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconFolderAdd',{attrs:{\"size\":16}})]},proxy:true}],null,false,1502609841)},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Mailbox name'))+\"\\n\\t\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.showSaving)?_c('ActionText',{scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconLoading',{attrs:{\"size\":16}})]},proxy:true}],null,false,4291381056)},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Saving'))+\"\\n\\t\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(!_vm.isFirst)?_c('ActionButton',{on:{\"click\":_vm.changeAccountOrderUp},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('MenuUp',{attrs:{\"size\":16}})]},proxy:true}],null,false,882525435)},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Move up'))+\"\\n\\t\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(!_vm.isLast)?_c('ActionButton',{on:{\"click\":_vm.changeAccountOrderDown},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('MenuDown',{attrs:{\"size\":16}})]},proxy:true}],null,false,2631425228)},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Move down'))+\"\\n\\t\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(!_vm.account.provisioningId)?_c('ActionButton',{on:{\"click\":_vm.removeAccount},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconDelete',{attrs:{\"size\":16}})]},proxy:true}],null,false,3099325823)},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Remove account'))+\"\\n\\t\\t\\t\\t\")]):_vm._e()]]},proxy:true}],null,false,3816268409)}):_vm._e(),_vm._v(\" \"),_c('AccountSettings',{attrs:{\"open\":_vm.showSettings,\"account\":_vm.account},on:{\"update:open\":function($event){return _vm.showAccountSettings($event)}}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationAccountExpandCollapse.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationAccountExpandCollapse.vue?vue&type=script&lang=js\"","<!--\n  - SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<AppNavigationItem :name=\"title\" @click=\"toggleCollapse\" />\n</template>\n\n<script>\nimport { NcAppNavigationItem as AppNavigationItem } from '@nextcloud/vue'\nimport logger from '../logger.js'\nimport useMainStore from '../store/mainStore.js'\nimport { mapStores } from 'pinia'\n\nexport default {\n\tname: 'NavigationAccountExpandCollapse',\n\tcomponents: {\n\t\tAppNavigationItem,\n\t},\n\tprops: {\n\t\taccount: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tcomputed: {\n\t\t...mapStores(useMainStore),\n\t\tid() {\n\t\t\treturn 'collapse-' + this.account.id\n\t\t},\n\t\ttitle() {\n\t\t\tif (this.account.collapsed && this.account.showSubscribedOnly) {\n\t\t\t\treturn t('mail', 'Show all subscribed mailboxes')\n\t\t\t} else if (this.account.collapsed && !this.account.showSubscribedOnly) {\n\t\t\t\treturn t('mail', 'Show all mailboxes')\n\t\t\t}\n\t\t\treturn t('mail', 'Collapse mailboxes')\n\t\t},\n\t},\n\tmethods: {\n\t\tasync toggleCollapse() {\n\t\t\tlogger.debug('toggling collapsed mailboxes for account ' + this.account.id)\n\t\t\ttry {\n\t\t\t\tawait this.mainStore.toggleAccountCollapsedMutation(this.account.id)\n\t\t\t\tawait this.mainStore.setAccountSetting({\n\t\t\t\t\taccountId: this.account.id,\n\t\t\t\t\tkey: 'collapsed',\n\t\t\t\t\tvalue: this.account.collapsed,\n\t\t\t\t})\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error('could not update account settings', {\n\t\t\t\t\terror,\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n:deep(.app-navigation-entry__title) {\n\tcolor: var(--color-text-maxcontrast);\n}\n</style>\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationAccountExpandCollapse.vue?vue&type=style&index=0&id=13e744b3&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationAccountExpandCollapse.vue?vue&type=style&index=0&id=13e744b3&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./NavigationAccountExpandCollapse.vue?vue&type=template&id=13e744b3&scoped=true\"\nimport script from \"./NavigationAccountExpandCollapse.vue?vue&type=script&lang=js\"\nexport * from \"./NavigationAccountExpandCollapse.vue?vue&type=script&lang=js\"\nimport style0 from \"./NavigationAccountExpandCollapse.vue?vue&type=style&index=0&id=13e744b3&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"13e744b3\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('AppNavigationItem',{attrs:{\"name\":_vm.title},on:{\"click\":_vm.toggleCollapse}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.visible)?_c('AppNavigationItem',{directives:[{name:\"droppable-mailbox\",rawName:\"v-droppable-mailbox\",value:({\n\t\tmailboxId: _vm.mailbox.databaseId,\n\t\taccountId: _vm.mailbox.accountId,\n\t\tisValidDropTarget: _vm.isValidDropTarget,\n\t}),expression:\"{\\n\\t\\tmailboxId: mailbox.databaseId,\\n\\t\\taccountId: mailbox.accountId,\\n\\t\\tisValidDropTarget,\\n\\t}\"}],key:_vm.genId(_vm.mailbox),attrs:{\"id\":_vm.genId(_vm.mailbox),\"allow-collapse\":_vm.hasSubMailboxes,\"menu-open\":_vm.menuOpen,\"force-menu\":true,\"name\":_vm.title,\"to\":_vm.to,\"open\":_vm.showSubMailboxes},on:{\"update:menuOpen\":[function($event){_vm.menuOpen=$event},_vm.onMenuToggle],\"update:menu-open\":function($event){_vm.menuOpen=$event},\"update:open\":function($event){_vm.showSubMailboxes=$event}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('div',[(_vm.mailbox.isPriorityInbox)?_c('ImportantIcon',{attrs:{\"size\":16}}):(_vm.mailbox.id === _vm.UNIFIED_INBOX_ID)?_c('IconAllInboxes',{attrs:{\"size\":16}}):(_vm.mailbox.specialRole === 'inbox' && !_vm.mailbox.isPriorityInbox && _vm.filter !=='starred')?_c('IconInbox',{attrs:{\"size\":16}}):(_vm.filter === 'starred')?_c('IconFavorite',{attrs:{\"size\":16}}):(_vm.mailbox.databaseId === _vm.account.draftsMailboxId)?_c('IconDraft',{attrs:{\"size\":16}}):(_vm.mailbox.databaseId === _vm.account.sentMailboxId)?_c('IconSend',{attrs:{\"size\":16}}):(_vm.mailbox.databaseId === _vm.account.archiveMailboxId)?_c('IconArchive',{attrs:{\"size\":16}}):(_vm.mailbox.databaseId === _vm.account.trashMailboxId)?_c('IconDelete',{attrs:{\"size\":16}}):(_vm.mailbox.databaseId === _vm.account.junkMailboxId)?_c('IconJunk',{attrs:{\"size\":16}}):(_vm.mailbox.databaseId === _vm.account.snoozeMailboxId)?_c('AlarmIcon',{attrs:{\"size\":16}}):(_vm.mailbox.shared)?_c('IconFolderShared',{attrs:{\"size\":16}}):_c('IconFolder',{attrs:{\"size\":16}})],1)]},proxy:true},{key:\"actions\",fn:function(){return [(!_vm.account.isUnified && _vm.mailbox.specialRole !== 'flagged')?_c('ActionText',{attrs:{\"name\":_vm.mailbox.name},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconInfo',{attrs:{\"title\":_vm.statsText,\"size\":16}})]},proxy:true}],null,false,2435065698)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.statsText)+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.mailbox.specialRole !== 'flagged' && !_vm.account.isUnified && _vm.hasSeenAcl)?_c('ActionButton',{attrs:{\"name\":_vm.t('mail', 'Mark all as read'),\"disabled\":_vm.loadingMarkAsRead},on:{\"click\":_vm.markAsRead},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconEmailCheck',{attrs:{\"size\":16}})]},proxy:true}],null,false,598907980)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Mark all messages of this mailbox as read'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(!_vm.editing && !_vm.account.isUnified && _vm.hasDelimiter && _vm.mailbox.specialRole !== 'flagged' && _vm.hasSubmailboxActionAcl)?_c('ActionButton',{on:{\"click\":_vm.openCreateMailbox},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconFolderAdd',{attrs:{\"size\":16}})]},proxy:true}],null,false,1502609841)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Add submailbox'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.editing)?_c('ActionInput',{attrs:{\"value\":_vm.createMailboxName},on:{\"update:value\":function($event){_vm.createMailboxName=$event},\"submit\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.createMailbox.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconFolderAdd',{attrs:{\"size\":16}})]},proxy:true}],null,false,1502609841)}):_vm._e(),_vm._v(\" \"),(_vm.renameLabel && !_vm.hasSubMailboxes && !_vm.account.isUnified && _vm.hasRenameAcl)?_c('ActionButton',{on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.openRenameInput.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconFolderRename',{attrs:{\"size\":16}})]},proxy:true}],null,false,3513914528)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Rename'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.renameInput)?_c('ActionInput',{attrs:{\"value\":_vm.mailboxName},on:{\"update:value\":function($event){_vm.mailboxName=$event},\"submit\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.renameMailbox.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconFolderRename',{attrs:{\"title\":_vm.t('mail', 'Rename'),\"size\":16}})]},proxy:true}],null,false,2300758806)}):_vm._e(),_vm._v(\" \"),(_vm.showSaving)?_c('ActionText',{scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconLoading',{attrs:{\"size\":16}})]},proxy:true}],null,false,4291381056)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Saving'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(!_vm.account.isUnified && _vm.hasDelimiter && !_vm.mailbox.specialRole && !_vm.hasSubMailboxes && _vm.hasDeleteAcl)?_c('ActionButton',{attrs:{\"id\":_vm.genId(_vm.mailbox),\"close-after-click\":true},on:{\"click\":function($event){$event.preventDefault();return _vm.onOpenMoveModal.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconExternal',{attrs:{\"size\":16}})]},proxy:true}],null,false,553833851)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Move mailbox'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(!_vm.account.isUnified && _vm.mailbox.specialRole !== 'flagged')?_c('ActionButton',{attrs:{\"disabled\":_vm.repairing},on:{\"click\":_vm.repair},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconWrench',{attrs:{\"size\":16}})]},proxy:true}],null,false,2197471619)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Repair mailbox'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.debug && !_vm.account.isUnified && _vm.mailbox.specialRole !== 'flagged')?_c('ActionButton',{attrs:{\"name\":_vm.t('mail', 'Clear cache'),\"disabled\":_vm.clearingCache},on:{\"click\":_vm.clearCache},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconFolderSync',{attrs:{\"size\":16}})]},proxy:true}],null,false,3002918039)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Clear locally cached data, in case there are issues with synchronization.'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.notVirtual)?_c('ActionCheckbox',{attrs:{\"checked\":_vm.isSubscribed,\"disabled\":_vm.changeSubscription},on:{\"update:checked\":_vm.changeFolderSubscription}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Subscribed'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.notVirtual && _vm.notInbox)?_c('ActionCheckbox',{attrs:{\"checked\":_vm.mailbox.syncInBackground,\"disabled\":_vm.changingSyncInBackground},on:{\"update:checked\":_vm.changeSyncInBackground}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Sync in background'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.mailbox.specialRole !== 'flagged' && !_vm.account.isUnified && _vm.hasClearMailboxAcl)?_c('ActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":_vm.clearMailbox},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('EraserVariant',{attrs:{\"size\":16}})]},proxy:true}],null,false,3179343720)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Clear mailbox'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(!_vm.account.isUnified && !_vm.mailbox.specialRole && !_vm.hasSubMailboxes && _vm.hasDeleteAcl)?_c('ActionButton',{on:{\"click\":_vm.deleteMailbox},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconDelete',{attrs:{\"size\":16}})]},proxy:true}],null,false,3099325823)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Delete mailbox'))+\"\\n\\t\\t\")]):_vm._e()]},proxy:true},{key:\"counter\",fn:function(){return [(_vm.showUnreadCounter && _vm.subCounter)?_c('CounterBubble',[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.mailbox.unread)+\" (\"+_vm._s(_vm.subCounter)+\")\\n\\t\\t\")]):(_vm.showUnreadCounter)?_c('CounterBubble',[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.mailbox.unread)+\"\\n\\t\\t\")]):_vm._e()]},proxy:true},{key:\"extra\",fn:function(){return [(_vm.showMoveModal)?_c('MoveMailboxModal',{attrs:{\"account\":_vm.account,\"mailbox\":_vm.mailbox},on:{\"close\":_vm.onCloseMoveModal}}):_vm._e()]},proxy:true}],null,false,467124025)},[_vm._v(\" \"),_vm._v(\" \"),_vm._v(\" \"),_vm._v(\" \"),_vm._l((_vm.subMailboxes),function(subMailbox){return _c('NavigationMailbox',{key:_vm.genId(subMailbox),attrs:{\"account\":_vm.account,\"mailbox\":subMailbox}})})],2):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<MailboxPicker :account=\"account\"\n\t\t:selected.sync=\"destMailboxId\"\n\t\t:loading=\"moving\"\n\t\t:picked-mailbox=\"mailbox\"\n\t\t:allow-root=\"true\"\n\t\t:label-select=\"t('mail', 'Move')\"\n\t\t:label-select-loading=\"t('mail', 'Moving')\"\n\t\t@select=\"onMove\"\n\t\t@close=\"onClose\" />\n</template>\n\n<script>\nimport logger from '../logger.js'\nimport MailboxPicker from './MailboxPicker.vue'\nimport { mapStores } from 'pinia'\nimport useMainStore from '../store/mainStore.js'\n\nexport default {\n\tname: 'MoveMailboxModal',\n\tcomponents: {\n\t\tMailboxPicker,\n\t},\n\tprops: {\n\t\taccount: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tmailbox: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tmoving: false,\n\t\t\tdestMailboxId: undefined,\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapStores(useMainStore),\n\t},\n\tmethods: {\n\t\tonClose() {\n\t\t\tthis.$emit('close')\n\t\t},\n\t\tasync onMove() {\n\t\t\tthis.moving = true\n\t\t\tif (this.mailbox.id !== this.destMailboxId) {\n\t\t\t\ttry {\n\t\t\t\t\tif (!this.destMailboxId) {\n\t\t\t\t\t\tconst newName = this.mailbox.displayName\n\t\t\t\t\t\tawait this.mainStore.renameMailbox({\n\t\t\t\t\t\t\taccount: this.account,\n\t\t\t\t\t\t\tmailbox: this.mailbox,\n\t\t\t\t\t\t\tnewName,\n\t\t\t\t\t\t})\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst destMailbox = this.mainStore.getMailbox(this.destMailboxId)\n\t\t\t\t\t\tconst newName = destMailbox.name + this.mailbox.delimiter + this.mailbox.displayName\n\t\t\t\t\t\tawait this.mainStore.renameMailbox({\n\t\t\t\t\t\t\taccount: this.account,\n\t\t\t\t\t\t\tmailbox: this.mailbox,\n\t\t\t\t\t\t\tnewName,\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tlogger.error('could not move mailbox', {\n\t\t\t\t\t\terror,\n\t\t\t\t\t})\n\t\t\t\t} finally {\n\t\t\t\t\tthis.moving = false\n\t\t\t\t\tthis.$emit('close')\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tgenId(mailbox) {\n\t\t\treturn 'mailbox-' + mailbox.databaseId\n\t\t },\n\t},\n}\n</script>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MoveMailboxModal.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MoveMailboxModal.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./MoveMailboxModal.vue?vue&type=template&id=25f62035\"\nimport script from \"./MoveMailboxModal.vue?vue&type=script&lang=js\"\nexport * from \"./MoveMailboxModal.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('MailboxPicker',{attrs:{\"account\":_vm.account,\"selected\":_vm.destMailboxId,\"loading\":_vm.moving,\"picked-mailbox\":_vm.mailbox,\"allow-root\":true,\"label-select\":_vm.t('mail', 'Move'),\"label-select-loading\":_vm.t('mail', 'Moving')},on:{\"update:selected\":function($event){_vm.destMailboxId=$event},\"select\":_vm.onMove,\"close\":_vm.onClose}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport useMainStore from '../../../store/mainStore.js'\nimport logger from '../../../logger.js'\nimport dragEventBus from '../util/dragEventBus.js'\n\nimport { createPinia, setActivePinia } from 'pinia'\n\nsetActivePinia(createPinia())\nconst mainStore = useMainStore()\n\nexport class DroppableMailbox {\n\n\tconstructor(el, componentInstance, options) {\n\t\tthis.el = el\n\t\tthis.options = options\n\t\tthis.registerListeners.bind(this)(el)\n\t\tthis.setInitialAttributes()\n\t}\n\n\tsetInitialAttributes() {\n\t\tthis.draggableInfo = {}\n\t\tthis.setStatus('enabled')\n\t}\n\n\tupdate(el, instance) {\n\t\tthis.setInitialAttributes()\n\t\tthis.options = instance.options\n\t}\n\n\tregisterListeners(el) {\n\t\tdragEventBus.on('drag-start', this.onDragStart.bind(this))\n\t\tdragEventBus.on('drag-end', this.onDragEnd.bind(this))\n\n\t\t// event listeners need to be attached to the first child element\n\t\t// (a button or an anchor tag) instead of the root el, because there\n\t\t// can be sub-mailboxes within the root element of the directive\n\t\tel.firstChild.addEventListener('dragover', this.onDragOver.bind(this))\n\t\tel.firstChild.addEventListener('dragleave', this.onDragLeave.bind(this))\n\t\tel.firstChild.addEventListener('drop', this.onDrop.bind(this))\n\t}\n\n\tremoveListeners(el) {\n\t\tdragEventBus.off('drag-start', this.onDragStart)\n\t\tdragEventBus.off('drag-end', this.onDragEnd)\n\n\t\tel.firstChild.removeEventListener('dragover', this.onDragOver)\n\t\tel.firstChild.removeEventListener('dragleave', this.onDragLeave)\n\t\tel.firstChild.removeEventListener('drop', this.onDrop)\n\t}\n\n\tsetStatus(status) {\n\t\tthis.el.setAttribute('droppable-mailbox', status)\n\t}\n\n\tonDragStart(draggableInfo) {\n\t\tthis.draggableInfo = draggableInfo\n\n\t\tif (!this.canBeDropped()) {\n\t\t\tthis.setStatus('disabled')\n\t\t}\n\t}\n\n\tcanBeDropped() {\n\t\treturn this.isSameAccount() && this.options.isValidDropTarget\n\t}\n\n\tisSameAccount() {\n\t\treturn this.draggableInfo.accountId === this.options.accountId\n\t}\n\n\t/**\n\t * Is the user currently dragging a valid object?\n\t *\n\t * @return {boolean}\n\t */\n\tget isCurrentlyDragging() {\n\t\treturn Object.keys(this.draggableInfo).length > 0\n\t}\n\n\tonDragEnd() {\n\t\tthis.setInitialAttributes()\n\t}\n\n\tonDragOver(event) {\n\t\tif (!this.isCurrentlyDragging) {\n\t\t\treturn\n\t\t}\n\n\t\tevent.preventDefault()\n\n\t\t// Prevent dropping into current folder\n\t\tif (this.draggableInfo.mailboxId === this.options.mailboxId) {\n\t\t\treturn\n\t\t}\n\n\t\tif (this.options.isValidDropTarget) {\n\t\t\tthis.setStatus('dragover')\n\t\t}\n\n\t\tevent.dataTransfer.dropEffect = 'move'\n\t}\n\n\tonDragLeave(event) {\n\t\tif (!this.isCurrentlyDragging) {\n\t\t\treturn\n\t\t}\n\n\t\tevent.preventDefault()\n\t\tthis.setStatus('enabled')\n\t}\n\n\tasync onDrop(event) {\n\t\tif (!this.isCurrentlyDragging) {\n\t\t\treturn\n\t\t}\n\n\t\tevent.preventDefault()\n\n\t\t// Prevent dropping into current folder\n\t\tif (this.draggableInfo.mailboxId === this.options.mailboxId) {\n\t\t\treturn\n\t\t}\n\n\t\tthis.setInitialAttributes()\n\t\tconst envelopesBeingDragged = JSON.parse(event.dataTransfer.getData('text'))\n\t\tdragEventBus.emit('envelopes-dropped', { envelopes: envelopesBeingDragged })\n\n\t\ttry {\n\t\t\tconst processedEnvelopes = envelopesBeingDragged.map(async envelope => {\n\t\t\t\tconst processed = await this.processDroppedItem(envelope)\n\t\t\t\treturn processed\n\t\t\t})\n\t\t\tawait Promise.all(processedEnvelopes)\n\t\t} catch (error) {\n\t\t\tlogger.error('could not process dropped messages', error)\n\t\t} finally {\n\t\t\tdragEventBus.emit('envelopes-moved', {\n\t\t\t\tmailboxId: this.options.mailboxId,\n\t\t\t\tmovedEnvelopes: envelopesBeingDragged,\n\t\t\t})\n\t\t}\n\t}\n\n\tasync processDroppedItem(envelope) {\n\t\tconst item = document.querySelector(`[data-envelope-id=\"${envelope.databaseId}\"]`)\n\t\titem.setAttribute('draggable-envelope', 'pending')\n\n\t\ttry {\n\t\t\tawait mainStore.moveThread({\n\t\t\t\tenvelope,\n\t\t\t\tdestMailboxId: this.options.mailboxId,\n\t\t\t})\n\t\t} catch (error) {\n\t\t\titem.removeAttribute('draggable-envelope')\n\t\t\tlogger.error('could not move messages', error)\n\t\t}\n\t}\n\n}\n","/**\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport { DroppableMailbox } from './droppable-mailbox.js'\n\nlet instance\n\nexport const DroppableMailboxDirective = {\n\tbind(el, binding, vnode) {\n\t\tinstance = new DroppableMailbox(el, vnode.context, binding.value)\n\t},\n\tcomponentUpdated(el, binding) {\n\t\tinstance.options = binding.value\n\t\tinstance.update(el, instance)\n\t},\n}\n\nexport default DroppableMailbox\n","<!--\n  - SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<AppNavigationItem v-if=\"visible\"\n\t\t:id=\"genId(mailbox)\"\n\t\t:key=\"genId(mailbox)\"\n\t\tv-droppable-mailbox=\"{\n\t\t\tmailboxId: mailbox.databaseId,\n\t\t\taccountId: mailbox.accountId,\n\t\t\tisValidDropTarget,\n\t\t}\"\n\t\t:allow-collapse=\"hasSubMailboxes\"\n\t\t:menu-open.sync=\"menuOpen\"\n\t\t:force-menu=\"true\"\n\t\t:name=\"title\"\n\t\t:to=\"to\"\n\t\t:open.sync=\"showSubMailboxes\"\n\t\t@update:menuOpen=\"onMenuToggle\">\n\t\t<template #icon>\n\t\t\t<div>\n\t\t\t\t<ImportantIcon v-if=\"mailbox.isPriorityInbox\"\n\t\t\t\t\t:size=\"16\" />\n\t\t\t\t<IconAllInboxes v-else-if=\"mailbox.id === UNIFIED_INBOX_ID\"\n\t\t\t\t\t:size=\"16\" />\n\t\t\t\t<IconInbox v-else-if=\"mailbox.specialRole === 'inbox' && !mailbox.isPriorityInbox && filter !=='starred'\"\n\t\t\t\t\t:size=\"16\" />\n\t\t\t\t<IconFavorite v-else-if=\"filter === 'starred'\"\n\t\t\t\t\t:size=\"16\" />\n\t\t\t\t<IconDraft v-else-if=\"mailbox.databaseId === account.draftsMailboxId\"\n\t\t\t\t\t:size=\"16\" />\n\t\t\t\t<IconSend v-else-if=\"mailbox.databaseId === account.sentMailboxId\"\n\t\t\t\t\t:size=\"16\" />\n\t\t\t\t<IconArchive v-else-if=\"mailbox.databaseId === account.archiveMailboxId\"\n\t\t\t\t\t:size=\"16\" />\n\t\t\t\t<IconDelete v-else-if=\"mailbox.databaseId === account.trashMailboxId\"\n\t\t\t\t\t:size=\"16\" />\n\t\t\t\t<IconJunk v-else-if=\"mailbox.databaseId === account.junkMailboxId\"\n\t\t\t\t\t:size=\"16\" />\n\t\t\t\t<AlarmIcon v-else-if=\"mailbox.databaseId === account.snoozeMailboxId\"\n\t\t\t\t\t:size=\"16\" />\n\t\t\t\t<IconFolderShared v-else-if=\"mailbox.shared\"\n\t\t\t\t\t:size=\"16\" />\n\t\t\t\t<IconFolder v-else\n\t\t\t\t\t:size=\"16\" />\n\t\t\t</div>\n\t\t</template>\n\t\t<!-- actions -->\n\t\t<template #actions>\n\t\t\t<ActionText v-if=\"!account.isUnified && mailbox.specialRole !== 'flagged'\"\n\t\t\t\t:name=\"mailbox.name\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<IconInfo :title=\"statsText\"\n\t\t\t\t\t\t:size=\"16\" />\n\t\t\t\t</template>\n\t\t\t\t{{ statsText }}\n\t\t\t</ActionText>\n\n\t\t\t<ActionButton v-if=\"mailbox.specialRole !== 'flagged' && !account.isUnified && hasSeenAcl\"\n\t\t\t\t:name=\"t('mail', 'Mark all as read')\"\n\t\t\t\t:disabled=\"loadingMarkAsRead\"\n\t\t\t\t@click=\"markAsRead\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<IconEmailCheck :size=\"16\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail', 'Mark all messages of this mailbox as read') }}\n\t\t\t</ActionButton>\n\t\t\t<ActionButton v-if=\"!editing && !account.isUnified && hasDelimiter && mailbox.specialRole !== 'flagged' && hasSubmailboxActionAcl\"\n\t\t\t\t@click=\"openCreateMailbox\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<IconFolderAdd :size=\"16\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail', 'Add submailbox') }}\n\t\t\t</ActionButton>\n\t\t\t<ActionInput v-if=\"editing\"\n\t\t\t\t:value.sync=\"createMailboxName\"\n\t\t\t\t@submit.prevent.stop=\"createMailbox\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<IconFolderAdd :size=\"16\" />\n\t\t\t\t</template>\n\t\t\t</ActionInput>\n\t\t\t<ActionButton v-if=\"renameLabel && !hasSubMailboxes && !account.isUnified && hasRenameAcl\"\n\t\t\t\t@click.prevent.stop=\"openRenameInput\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<IconFolderRename :size=\"16\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail', 'Rename') }}\n\t\t\t</ActionButton>\n\t\t\t<ActionInput v-if=\"renameInput\"\n\t\t\t\t:value.sync=\"mailboxName\"\n\t\t\t\t@submit.prevent.stop=\"renameMailbox\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<IconFolderRename :title=\"t('mail', 'Rename')\"\n\t\t\t\t\t\t:size=\"16\" />\n\t\t\t\t</template>\n\t\t\t</ActionInput>\n\t\t\t<ActionText v-if=\"showSaving\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<IconLoading :size=\"16\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail', 'Saving') }}\n\t\t\t</ActionText>\n\t\t\t<ActionButton v-if=\"!account.isUnified && hasDelimiter && !mailbox.specialRole && !hasSubMailboxes && hasDeleteAcl\"\n\t\t\t\t:id=\"genId(mailbox)\"\n\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t@click.prevent=\"onOpenMoveModal\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<IconExternal :size=\"16\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail', 'Move mailbox') }}\n\t\t\t</ActionButton>\n\t\t\t<ActionButton v-if=\"!account.isUnified && mailbox.specialRole !== 'flagged'\"\n\t\t\t\t:disabled=\"repairing\"\n\t\t\t\t@click=\"repair\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<IconWrench :size=\"16\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail', 'Repair mailbox') }}\n\t\t\t</ActionButton>\n\t\t\t<ActionButton v-if=\"debug && !account.isUnified && mailbox.specialRole !== 'flagged'\"\n\t\t\t\t:name=\"t('mail', 'Clear cache')\"\n\t\t\t\t:disabled=\"clearingCache\"\n\t\t\t\t@click=\"clearCache\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<IconFolderSync :size=\"16\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail', 'Clear locally cached data, in case there are issues with synchronization.') }}\n\t\t\t</ActionButton>\n\n\t\t\t<ActionCheckbox v-if=\"notVirtual\"\n\t\t\t\t:checked=\"isSubscribed\"\n\t\t\t\t:disabled=\"changeSubscription\"\n\t\t\t\t@update:checked=\"changeFolderSubscription\">\n\t\t\t\t{{ t('mail', 'Subscribed') }}\n\t\t\t</ActionCheckbox>\n\n\t\t\t<ActionCheckbox v-if=\"notVirtual && notInbox\"\n\t\t\t\t:checked=\"mailbox.syncInBackground\"\n\t\t\t\t:disabled=\"changingSyncInBackground\"\n\t\t\t\t@update:checked=\"changeSyncInBackground\">\n\t\t\t\t{{ t('mail', 'Sync in background') }}\n\t\t\t</ActionCheckbox>\n\n\t\t\t<ActionButton v-if=\"mailbox.specialRole !== 'flagged' && !account.isUnified && hasClearMailboxAcl\"\n\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t@click=\"clearMailbox\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<EraserVariant :size=\"16\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail', 'Clear mailbox') }}\n\t\t\t</ActionButton>\n\n\t\t\t<ActionButton v-if=\"!account.isUnified && !mailbox.specialRole && !hasSubMailboxes && hasDeleteAcl\"\n\t\t\t\t@click=\"deleteMailbox\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<IconDelete :size=\"16\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail', 'Delete mailbox') }}\n\t\t\t</ActionButton>\n\t\t</template>\n\t\t<template #counter>\n\t\t\t<CounterBubble v-if=\"showUnreadCounter && subCounter\">\n\t\t\t\t{{ mailbox.unread }}&nbsp;({{ subCounter }})\n\t\t\t</CounterBubble>\n\t\t\t<CounterBubble v-else-if=\"showUnreadCounter\">\n\t\t\t\t{{ mailbox.unread }}\n\t\t\t</CounterBubble>\n\t\t</template>\n\t\t<template #extra>\n\t\t\t<MoveMailboxModal v-if=\"showMoveModal\"\n\t\t\t\t:account=\"account\"\n\t\t\t\t:mailbox=\"mailbox\"\n\t\t\t\t@close=\"onCloseMoveModal\" />\n\t\t</template>\n\t\t<!-- submailboxes -->\n\t\t<NavigationMailbox v-for=\"subMailbox in subMailboxes\"\n\t\t\t:key=\"genId(subMailbox)\"\n\t\t\t:account=\"account\"\n\t\t\t:mailbox=\"subMailbox\" />\n\t</AppNavigationItem>\n</template>\n\n<script>\n\nimport { NcAppNavigationItem as AppNavigationItem, NcCounterBubble as CounterBubble, NcActionButton as ActionButton, NcActionCheckbox as ActionCheckbox, NcActionInput as ActionInput, NcActionText as ActionText, NcLoadingIcon as IconLoading } from '@nextcloud/vue'\nimport IconEmailCheck from 'vue-material-design-icons/EmailCheck.vue'\nimport IconExternal from 'vue-material-design-icons/OpenInNew.vue'\nimport IconFolder from 'vue-material-design-icons/Folder.vue'\nimport IconFolderShared from 'vue-material-design-icons/FolderAccount.vue'\nimport IconFolderAdd from 'vue-material-design-icons/FolderMultiple.vue'\nimport IconFavorite from 'vue-material-design-icons/Star.vue'\nimport IconFolderRename from 'vue-material-design-icons/FolderEdit.vue'\nimport IconFolderSync from 'vue-material-design-icons/FolderSync.vue'\nimport IconDelete from 'vue-material-design-icons/Delete.vue'\nimport IconInfo from 'vue-material-design-icons/Information.vue'\nimport IconDraft from 'vue-material-design-icons/Pencil.vue'\nimport IconArchive from 'vue-material-design-icons/PackageDown.vue'\nimport IconInbox from 'vue-material-design-icons/Home.vue'\nimport IconJunk from 'vue-material-design-icons/Fire.vue'\nimport IconAllInboxes from 'vue-material-design-icons/InboxMultiple.vue'\nimport EraserVariant from 'vue-material-design-icons/EraserVariant.vue'\nimport ImportantIcon from './icons/ImportantIcon.vue'\nimport IconSend from 'vue-material-design-icons/Send.vue'\nimport IconWrench from 'vue-material-design-icons/Wrench.vue'\nimport MoveMailboxModal from './MoveMailboxModal.vue'\nimport { PRIORITY_INBOX_ID, UNIFIED_INBOX_ID } from '../store/constants.js'\nimport { mailboxHasRights } from '../util/acl.js'\nimport { clearCache } from '../service/MessageService.js'\nimport { getMailboxStatus, repairMailbox } from '../service/MailboxService.js'\nimport logger from '../logger.js'\nimport { translatePlural as n } from '@nextcloud/l10n'\nimport { translate as translateMailboxName } from '../i18n/MailboxTranslator.js'\nimport { showInfo, showError } from '@nextcloud/dialogs'\nimport { DroppableMailboxDirective as droppableMailbox } from '../directives/drag-and-drop/droppable-mailbox/index.js'\nimport dragEventBus from '../directives/drag-and-drop/util/dragEventBus.js'\nimport AlarmIcon from 'vue-material-design-icons/Alarm.vue'\nimport { mapStores } from 'pinia'\nimport useMainStore from '../store/mainStore.js'\n\nexport default {\n\tname: 'NavigationMailbox',\n\tcomponents: {\n\t\tAppNavigationItem,\n\t\tCounterBubble,\n\t\tActionText,\n\t\tActionButton,\n\t\tActionCheckbox,\n\t\tActionInput,\n\t\tIconSend,\n\t\tIconDelete,\n\t\tIconEmailCheck,\n\t\tIconExternal,\n\t\tIconFolderAdd,\n\t\tIconFolderRename,\n\t\tIconFolderSync,\n\t\tIconInfo,\n\t\tIconAllInboxes,\n\t\tIconFavorite,\n\t\tIconFolder,\n\t\tIconFolderShared,\n\t\tIconDraft,\n\t\tIconArchive,\n\t\tIconJunk,\n\t\tIconInbox,\n\t\tIconWrench,\n\t\tEraserVariant,\n\t\tImportantIcon,\n\t\tIconLoading,\n\t\tMoveMailboxModal,\n\t\tAlarmIcon,\n\t},\n\tdirectives: {\n\t\tdroppableMailbox,\n\t},\n\tprops: {\n\t\taccount: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tmailbox: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tfilter: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t\trequired: false,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tdebug: window?.OC?.debug || false,\n\t\t\tmailboxStats: undefined,\n\t\t\tloadingMarkAsRead: false,\n\t\t\tclearingCache: false,\n\t\t\tshowSaving: false,\n\t\t\tchangeSubscription: false,\n\t\t\tchangingSyncInBackground: false,\n\t\t\tediting: false,\n\t\t\tshowSubMailboxes: false,\n\t\t\tmenuOpen: false,\n\t\t\trenameLabel: true,\n\t\t\trenameInput: false,\n\t\t\tmailboxName: this.mailbox.displayName,\n\t\t\tshowMoveModal: false,\n\t\t\thasDelimiter: !!this.mailbox.delimiter,\n\t\t\tUNIFIED_INBOX_ID,\n\t\t\tcreateMailboxName: '',\n\t\t\trepairing: false,\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapStores(useMainStore),\n\t\tvisible() {\n\t\t\treturn (\n\t\t\t\t(this.account.showSubscribedOnly === false\n\t\t\t\t|| (this.mailbox.attributes && this.mailbox.attributes.includes('\\\\subscribed'))) && this.isUnifiedButOnlyInbox\n\t\t\t)\n\t\t},\n\t\tnotInbox() {\n\t\t\treturn this.mailbox.name.toLowerCase() !== 'inbox'\n\t\t},\n\t\tnotVirtual() {\n\t\t\treturn !this.account.isUnified && this.mailbox.specialRole !== 'flagged' && !this.filter\n\t\t},\n\t\ttitle() {\n\t\t\tif (this.filter === 'starred') {\n\t\t\t\t// Little hack to trick the translation logic into a different path\n\t\t\t\treturn translateMailboxName({\n\t\t\t\t\t...this.mailbox,\n\t\t\t\t\tspecialUse: ['flagged'],\n\t\t\t\t})\n\t\t\t}\n\t\t\treturn translateMailboxName(this.mailbox)\n\t\t},\n\t\tto() {\n\t\t\treturn {\n\t\t\t\tname: 'mailbox',\n\t\t\t\tparams: {\n\t\t\t\t\tmailboxId: this.mailbox.databaseId,\n\t\t\t\t\tfilter: this.filter ? this.filter : undefined,\n\t\t\t\t},\n\t\t\t}\n\t\t},\n\t\thasSubMailboxes() {\n\t\t\treturn this.subMailboxes.length > 0\n\t\t},\n\t\tsubMailboxes() {\n\t\t\treturn this.mainStore.getSubMailboxes(this.mailbox.databaseId)\n\t\t},\n\t\tstatsText() {\n\t\t\tif (this.mailboxStats && 'total' in this.mailboxStats && 'unread' in this.mailboxStats) {\n\t\t\t\tif (this.mailboxStats.unread === 0) {\n\t\t\t\t\treturn n('mail', '{total} message', '{total} messages', this.mailboxStats.total, {\n\t\t\t\t\t\ttotal: this.mailboxStats.total,\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\treturn n(\n\t\t\t\t\t\t'mail',\n\t\t\t\t\t\t'{unread} unread of {total}',\n\t\t\t\t\t\t'{unread} unread of {total}',\n\t\t\t\t\t\tthis.mailboxStats.unread,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttotal: this.mailboxStats.total,\n\t\t\t\t\t\t\tunread: this.mailboxStats.unread,\n\t\t\t\t\t\t},\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn t('mail', 'Loading …')\n\t\t},\n\t\tisSubscribed() {\n\t\t\treturn this.mailbox.attributes && this.mailbox.attributes.includes('\\\\subscribed')\n\t\t},\n\t\tisDroppableSpecialMailbox() {\n\t\t\tif (this.filter === 'starred') {\n\t\t\t\treturn false\n\t\t\t}\n\t\t\treturn ![\n\t\t\t\tthis.account.draftsMailboxId,\n\t\t\t\tthis.account.sentMailboxId,\n\t\t\t].includes(this.mailbox.databaseId)\n\t\t},\n\t\tisActive() {\n\t\t\treturn this.$route.params.mailboxId === this.mailbox.databaseId\n\t\t},\n\t\tisValidDropTarget() {\n\t\t\tif (this.isActive || !this.hasInsertAcl) {\n\t\t\t\treturn false\n\t\t\t}\n\t\t\treturn this.isDroppableSpecialMailbox || (!this.mailbox.specialRole && !this.account.isUnified)\n\t\t},\n\t\tisUnifiedButOnlyInbox() {\n\t\t\tif (!this.mailbox.isUnified) {\n\t\t\t\treturn true\n\t\t\t}\n\t\t\treturn this.mailbox.specialUse.includes('inbox') && this.mainStore.getAccounts.length > 2\n\t\t},\n\t\tshowUnreadCounter() {\n\t\t\tif (this.filter === 'starred' || this.mailbox.specialRole === 'trash') {\n\t\t\t\treturn false\n\t\t\t}\n\t\t\treturn this.mailbox.unread > 0 || this.subCounter > 0\n\t\t},\n\t\tsubCounter() {\n\t\t\treturn this.subMailboxes.reduce((carry, mb) => carry + mb.unread, 0)\n\t\t},\n\t\thasRenameAcl() {\n\t\t\tif (!this.mailbox.myAcls) {\n\t\t\t\treturn true\n\t\t\t}\n\t\t\tconst parent = this.mainStore.getParentMailbox(this.mailbox.databaseId)\n\t\t\tif (!parent || !parent.myAcls) {\n\t\t\t\treturn mailboxHasRights(this.mailbox, 'x')\n\t\t\t}\n\n\t\t\treturn mailboxHasRights(this.mailbox, 'x')\n\t\t\t\t&& mailboxHasRights(parent, 'k')\n\t\t},\n\t\thasInsertAcl() {\n\t\t\treturn mailboxHasRights(this.mailbox, 'i')\n\t\t},\n\t\thasSeenAcl() {\n\t\t\treturn mailboxHasRights(this.mailbox, 's')\n\t\t},\n\t\thasSubmailboxActionAcl() {\n\t\t\treturn mailboxHasRights(this.mailbox, 'k')\n\t\t},\n\t\thasDeleteAcl() {\n\t\t\treturn mailboxHasRights(this.mailbox, 'x')\n\t\t},\n\t\thasClearMailboxAcl() {\n\t\t\treturn mailboxHasRights(this.mailbox, 'te')\n\t\t},\n\t},\n\tmounted() {\n\t\tdragEventBus.on('drag-start', this.onDragStart)\n\t\tdragEventBus.on('drag-end', this.onDragEnd)\n\t\tdragEventBus.on('envelopes-moved', this.onEnvelopesMoved)\n\t},\n\tbeforeDestroy() {\n\t\tdragEventBus.off('drag-start', this.onDragStart)\n\t\tdragEventBus.off('drag-end', this.onDragEnd)\n\t\tdragEventBus.off('envelopes-moved', this.onEnvelopesMoved)\n\t},\n\tmethods: {\n\t\t/**\n\t\t * Generate unique key id for a specific mailbox\n\t\t *\n\t\t * @param {object} mailbox the mailbox to gen id for\n\t\t * @return {string}\n\t\t */\n\t\tgenId(mailbox) {\n\t\t\treturn 'mailbox-' + mailbox.databaseId\n\t\t},\n\n\t\t/**\n\t\t * On menu toggle, fetch stats\n\t\t *\n\t\t * @param {boolean} open menu opened state\n\t\t */\n\t\tonMenuToggle(open) {\n\t\t\tif (open) {\n\t\t\t\tthis.fetchMailboxStats()\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Fetch mailbox unread/read stats\n\t\t */\n\t\tasync fetchMailboxStats() {\n\t\t\tthis.mailboxStats = null\n\t\t\tif (this.account.isUnified || this.mailbox.specialRole === 'flagged') {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tconst stats = await getMailboxStatus(this.mailbox.databaseId)\n\t\t\t\tlogger.debug(`loaded mailbox stats for ${this.mailbox.databaseId}`, { stats })\n\t\t\t\tthis.mailboxStats = stats\n\t\t\t} catch (error) {\n\t\t\t\tthis.mailboxStats = { error: true }\n\t\t\t\tlogger.error(`could not load mailbox stats for ${this.mailbox.databaseId}`, error)\n\t\t\t}\n\t\t},\n\n\t\tasync createMailbox(e) {\n\t\t\tthis.editing = true\n\t\t\tconst name = this.createMailboxName\n\t\t\tconst withPrefix = this.mailbox.name + this.mailbox.delimiter + name\n\t\t\tlogger.info(`creating mailbox ${withPrefix} as submailbox of ${this.mailbox.databaseId}`)\n\t\t\tthis.menuOpen = false\n\t\t\ttry {\n\t\t\t\tawait this.mainStore.createMailbox({\n\t\t\t\t\taccount: this.account,\n\t\t\t\t\tname: withPrefix,\n\t\t\t\t})\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error(`could not create mailbox ${withPrefix}`, { error })\n\t\t\t\tthrow error\n\t\t\t} finally {\n\t\t\t\tthis.editing = false\n\t\t\t\tthis.showSaving = false\n\t\t\t}\n\t\t\tlogger.info(`mailbox ${withPrefix} created`)\n\t\t\tthis.showSubMailboxes = true\n\t\t},\n\t\topenCreateMailbox() {\n\t\t\tthis.editing = true\n\t\t\tthis.showSaving = false\n\t\t},\n\t\tmarkAsRead() {\n\t\t\tthis.loadingMarkAsRead = true\n\n\t\t\tthis.mainStore.markMailboxRead({\n\t\t\t\taccountId: this.account.id,\n\t\t\t\tmailboxId: this.mailbox.databaseId,\n\t\t\t})\n\t\t\t\t.then(() => logger.info(`mailbox ${this.mailbox.databaseId} marked as read`))\n\t\t\t\t.catch((error) => logger.error(`could not mark mailbox ${this.mailbox.databaseId} as read`, { error }))\n\t\t\t\t.then(() => (this.loadingMarkAsRead = false))\n\t\t},\n\t\tasync changeFolderSubscription(subscribed) {\n\t\t\ttry {\n\t\t\t\tthis.changeSubscription = true\n\n\t\t\t\tawait this.mainStore.changeMailboxSubscription({\n\t\t\t\t\tmailbox: this.mailbox,\n\t\t\t\t\tsubscribed,\n\t\t\t\t})\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error(`could not update subscription of mailbox ${this.mailbox.databaseId}`, { error })\n\t\t\t\tthrow error\n\t\t\t} finally {\n\t\t\t\tthis.changeSubscription = false\n\t\t\t}\n\t\t},\n\t\tasync changeSyncInBackground(syncInBackground) {\n\t\t\ttry {\n\t\t\t\tthis.changingSyncInBackground = true\n\n\t\t\t\tawait this.mainStore.patchMailbox({\n\t\t\t\t\tmailbox: this.mailbox,\n\t\t\t\t\tattributes: {\n\t\t\t\t\t\tsyncInBackground,\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error(`could not update background sync flag of mailbox ${this.mailbox.databaseId}`, { error })\n\t\t\t\tthrow error\n\t\t\t} finally {\n\t\t\t\tthis.changingSyncInBackground = false\n\t\t\t}\n\t\t},\n\t\tasync clearCache() {\n\t\t\ttry {\n\t\t\t\tthis.clearingCache = true\n\t\t\t\tlogger.debug('clearing message cache', {\n\t\t\t\t\taccountId: this.account.id,\n\t\t\t\t\tmailboxId: this.mailbox.databaseId,\n\t\t\t\t})\n\n\t\t\t\tawait clearCache(this.account.id, this.mailbox.databaseId)\n\n\t\t\t\t// TODO: there might be a nicer way to handle this\n\t\t\t\twindow.location.reload(false)\n\t\t\t} finally {\n\t\t\t\tthis.clearCache = false\n\t\t\t}\n\t\t},\n\t\tclearMailbox() {\n\t\t\tconst id = this.mailbox.databaseId\n\t\t\tOC.dialogs.confirmDestructive(\n\t\t\t\tt('mail', 'All messages in mailbox will be deleted.'),\n\t\t\t\tt('mail', 'Clear mailbox {name}', { name: this.mailbox.displayName }),\n\t\t\t\t{\n\t\t\t\t\ttype: OC.dialogs.YES_NO_BUTTONS,\n\t\t\t\t\tconfirm: t('mail', 'Clear mailbox'),\n\t\t\t\t\tconfirmClasses: 'error',\n\t\t\t\t\tcancel: t('mail', 'Cancel'),\n\t\t\t\t},\n\t\t\t\t(result) => {\n\t\t\t\t\tif (result) {\n\t\t\t\t\t\treturn this.mainStore.clearMailbox({ mailbox: this.mailbox })\n\t\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\t\tlogger.info(`mailbox ${id} cleared`)\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.catch((error) => logger.error('could not clear mailbox', { error }))\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t)\n\t\t},\n\t\tdeleteMailbox() {\n\t\t\tconst id = this.mailbox.databaseId\n\t\t\tlogger.info('delete mailbox', { mailbox: this.mailbox })\n\t\t\tOC.dialogs.confirmDestructive(\n\t\t\t\tt('mail', 'The mailbox and all messages in it will be deleted.'),\n\t\t\t\tt('mail', 'Delete mailbox'),\n\t\t\t\t{\n\t\t\t\t\ttype: OC.dialogs.YES_NO_BUTTONS,\n\t\t\t\t\tconfirm: t('mail', 'Delete mailbox {name}', { name: this.mailbox.displayName }),\n\t\t\t\t\tconfirmClasses: 'error',\n\t\t\t\t\tcancel: t('mail', 'Cancel'),\n\t\t\t\t},\n\t\t\t\t(result) => {\n\t\t\t\t\tif (result) {\n\t\t\t\t\t\treturn this.mainStore.deleteMailbox({ mailbox: this.mailbox })\n\t\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\t\tlogger.info(`mailbox ${id} deleted`)\n\t\t\t\t\t\t\t\tif (parseInt(this.$route.params.mailboxId, 10) === this.mailbox.databaseId) {\n\t\t\t\t\t\t\t\t\tthis.$router.push({\n\t\t\t\t\t\t\t\t\t\tname: 'mailbox',\n\t\t\t\t\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\t\t\t\t\tmailboxId: PRIORITY_INBOX_ID,\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.catch((error) => logger.error('could not delete mailbox', { error }))\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t)\n\t\t},\n\t\tasync renameMailbox() {\n\t\t\tthis.renameInput = false\n\t\t\tthis.showSaving = true\n\n\t\t\ttry {\n\t\t\t\tlet newName = this.mailboxName\n\t\t\t\tif (this.mailbox.path) {\n\t\t\t\t\tnewName = this.mailbox.path + this.mailbox.delimiter + newName\n\t\t\t\t}\n\t\t\t\tawait this.mainStore.renameMailbox({\n\t\t\t\t\taccount: this.account,\n\t\t\t\t\tmailbox: this.mailbox,\n\t\t\t\t\tnewName,\n\t\t\t\t})\n\t\t\t\tthis.renameLabel = true\n\t\t\t\tthis.renameInput = false\n\t\t\t} catch (error) {\n\t\t\t\tshowInfo(t('mail', 'An error occurred, unable to rename the mailbox.'))\n\t\t\t\tconsole.error(error)\n\t\t\t} finally {\n\t\t\t\tthis.showSaving = false\n\t\t\t}\n\t\t},\n\t\topenRenameInput() {\n\t\t\t// Hide label and show input\n\t\t\tthis.renameLabel = false\n\t\t\tthis.renameInput = true\n\t\t\tthis.showSaving = false\n\t\t},\n\t\tonOpenMoveModal() {\n\t\t\tthis.showMoveModal = true\n\t\t},\n\t\tonCloseMoveModal() {\n\t\t\tthis.showMoveModal = false\n\t\t},\n\t\tonDragStart({ accountId }) {\n\t\t\tif (accountId !== this.mailbox.accountId) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tthis.mainStore.expandAccountMutation(accountId)\n\t\t\tthis.showSubMailboxes = true\n\t\t},\n\t\tonDragEnd({ accountId }) {\n\t\t\tif (accountId !== this.mailbox.accountId) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tthis.showSubMailboxes = false\n\t\t},\n\t\tonEnvelopesMoved({ mailboxId, movedEnvelopes }) {\n\t\t\tif (this.mailbox.databaseId !== mailboxId) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tconst openedMessageHasBeenMoved = movedEnvelopes.find((movedEnvelope) => {\n\t\t\t\treturn movedEnvelope.envelopeId === this.$route.params.threadId\n\t\t\t})\n\t\t\t// navigate to the mailbox root\n\t\t\t// if the currently displayed message has been moved\n\t\t\tif (this.$route.name === 'message' && openedMessageHasBeenMoved) {\n\t\t\t\tthis.$router.push({\n\t\t\t\t\tname: 'mailbox',\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tmailboxId: this.$route.params.mailboxId,\n\t\t\t\t\t\tfilter: this.$route.params?.filter,\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Delete all vanished emails that are still cached.\n\t\t *\n\t\t * @return {Promise<void>}\n\t\t */\n\t\tasync repair() {\n\t\t\tthis.repairing = true\n\n\t\t\tconst mailboxId = this.mailbox.databaseId\n\t\t\ttry {\n\t\t\t\tawait repairMailbox(mailboxId)\n\n\t\t\t\t// Reload the page to start with a clean mailbox state\n\t\t\t\tawait this.$router.push({\n\t\t\t\t\tname: 'mailbox',\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tmailboxId: this.$route.params.mailboxId,\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t\twindow.location.reload()\n\t\t\t} catch (error) {\n\t\t\t\t// Only reset state in case of an error because the page will be reloaded anyway\n\t\t\t\tthis.repairing = false\n\n\t\t\t\t// Handle rate limit: 429 Too Many Requests\n\t\t\t\t// Ref https://axios-http.com/docs/handling_errors\n\t\t\t\tif (error.response?.status === 429) {\n\t\t\t\t\tshowError(t('mail', 'Please wait 10 minutes before repairing again'))\n\t\t\t\t} else {\n\t\t\t\t\tthrow error\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t},\n}\n</script>\n<style lang=\"scss\" scoped>\n.counter-bubble__counter {\n\tmax-width: initial;\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationMailbox.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationMailbox.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationMailbox.vue?vue&type=style&index=0&id=573bab89&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationMailbox.vue?vue&type=style&index=0&id=573bab89&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./NavigationMailbox.vue?vue&type=template&id=573bab89&scoped=true\"\nimport script from \"./NavigationMailbox.vue?vue&type=script&lang=js\"\nexport * from \"./NavigationMailbox.vue?vue&type=script&lang=js\"\nimport style0 from \"./NavigationMailbox.vue?vue&type=style&index=0&id=573bab89&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"573bab89\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('AppNavigationItem',{key:\"navigation-outbox\",attrs:{\"id\":\"navigation-outbox\",\"name\":_vm.t('mail', 'Outbox'),\"to\":_vm.to},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconOutbox',{staticClass:\"outbox-opacity-icon\",attrs:{\"size\":16}})]},proxy:true},{key:\"counter\",fn:function(){return [(_vm.count)?_c('CounterBubble',{staticClass:\"navigation-outbox__unread-counter\"},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.count)+\"\\n\\t\\t\")]):_vm._e()]},proxy:true}])})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<AppNavigationItem id=\"navigation-outbox\"\n\t\tkey=\"navigation-outbox\"\n\t\t:name=\"t('mail', 'Outbox')\"\n\t\t:to=\"to\">\n\t\t<template #icon>\n\t\t\t<IconOutbox class=\"outbox-opacity-icon\"\n\t\t\t\t:size=\"16\" />\n\t\t</template>\n\t\t<template #counter>\n\t\t\t<CounterBubble v-if=\"count\"\n\t\t\t\tclass=\"navigation-outbox__unread-counter\">\n\t\t\t\t{{ count }}\n\t\t\t</CounterBubble>\n\t\t</template>\n\t</AppNavigationItem>\n</template>\n\n<script>\nimport { NcAppNavigationItem as AppNavigationItem, NcCounterBubble as CounterBubble } from '@nextcloud/vue'\nimport IconOutbox from 'vue-material-design-icons/InboxArrowUp.vue'\n\nimport useOutboxStore from '../store/outboxStore.js'\nimport { mapStores } from 'pinia'\n\nexport default {\n\tname: 'NavigationOutbox',\n\tcomponents: {\n\t\tAppNavigationItem,\n\t\tCounterBubble,\n\t\tIconOutbox,\n\t},\n\tcomputed: {\n\t\t...mapStores(useOutboxStore),\n\t\tcount() {\n\t\t\treturn this.outboxStore.getAllMessages.length\n\t\t},\n\t\tto() {\n\t\t\treturn {\n\t\t\t\tname: 'outbox',\n\t\t\t}\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.navigation-outbox {\n\t&__unread-counter {\n\t\tmargin-right: calc(var(--default-grid-baseline)*2);\n\t}\n}\n\n.outbox-opacity-icon {\n\topacity: .7;\n\t&:hover {\n\t\topacity: 1;\n\t}\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationOutbox.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationOutbox.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationOutbox.vue?vue&type=style&index=0&id=3df17d20&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationOutbox.vue?vue&type=style&index=0&id=3df17d20&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./NavigationOutbox.vue?vue&type=template&id=3df17d20&scoped=true\"\nimport script from \"./NavigationOutbox.vue?vue&type=script&lang=js\"\nexport * from \"./NavigationOutbox.vue?vue&type=script&lang=js\"\nimport style0 from \"./NavigationOutbox.vue?vue&type=style&index=0&id=3df17d20&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3df17d20\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"app-settings\"},[_c('NcAppSettingsDialog',{attrs:{\"id\":\"app-settings-dialog\",\"name\":_vm.t('mail', 'Mail settings'),\"show-navigation\":true,\"open\":_vm.showSettings},on:{\"update:open\":function($event){_vm.showSettings=$event}}},[_c('NcAppSettingsSection',{attrs:{\"id\":\"account-creation\",\"name\":_vm.t('mail', 'Accounts')}},[(_vm.allowNewMailAccounts)?_c('NcButton',{staticClass:\"app-settings-button\",attrs:{\"type\":\"primary\",\"to\":\"/setup\",\"aria-label\":_vm.t('mail', 'Add mail account')},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconAdd',{attrs:{\"size\":16}})]},proxy:true}],null,false,2399017255)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Add mail account'))+\"\\n\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),_c('h6',[_vm._v(_vm._s(_vm.t('mail', 'Account settings')))]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(_vm.t('mail', 'Settings for:')))]),_vm._v(\" \"),_vm._l((_vm.getAccounts),function(account){return _c('li',{key:account.id},[(account && account.emailAddress)?_c('NcButton',{staticClass:\"app-settings-button\",attrs:{\"type\":\"secondary\",\"aria-label\":_vm.t('mail', 'Account settings')},on:{\"click\":function($event){return _vm.openAccountSettings(account.id)}}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(account.emailAddress)+\"\\n\\t\\t\\t\\t\")]):_vm._e()],1)})],2),_vm._v(\" \"),_c('NcAppSettingsSection',{attrs:{\"id\":\"appearance-and-accessibility\",\"name\":_vm.t('mail', 'General')}},[_c('h6',[_vm._v(_vm._s(_vm.t('mail', 'Layout')))]),_vm._v(\" \"),_c('NcCheckboxRadioSwitch',{attrs:{\"value\":\"no-split\",\"button-variant\":true,\"name\":\"mail-layout\",\"type\":\"radio\",\"checked\":_vm.layoutMode,\"button-variant-grouped\":\"vertical\"},on:{\"update:checked\":function($event){return _vm.setLayout('no-split')}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('CompactMode',{attrs:{\"size\":16}})]},proxy:true}])},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'List'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),_c('NcCheckboxRadioSwitch',{attrs:{\"value\":\"vertical-split\",\"button-variant\":true,\"name\":\"mail-layout\",\"type\":\"radio\",\"checked\":_vm.layoutMode,\"button-variant-grouped\":\"vertical\"},on:{\"update:checked\":function($event){return _vm.setLayout('vertical-split')}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('VerticalSplit',{attrs:{\"size\":16}})]},proxy:true}])},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Vertical split'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),_c('NcCheckboxRadioSwitch',{attrs:{\"value\":\"horizontal-split\",\"button-variant\":true,\"name\":\"mail-layout\",\"type\":\"radio\",\"checked\":_vm.layoutMode,\"button-variant-grouped\":\"vertical\"},on:{\"update:checked\":function($event){return _vm.setLayout('horizontal-split')}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('HorizontalSplit',{attrs:{\"size\":16}})]},proxy:true}])},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Horizontal split'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),_c('h6',[_vm._v(_vm._s(_vm.t('mail', 'Sorting')))]),_vm._v(\" \"),_c('div',{staticClass:\"sorting\"},[_c('NcCheckboxRadioSwitch',{staticClass:\"sorting__switch\",attrs:{\"checked\":_vm.sortOrder,\"value\":\"newest\",\"name\":\"order_radio\",\"type\":\"radio\"},on:{\"update:checked\":_vm.onSortByDate}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Newest'))+\"\\n\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('NcCheckboxRadioSwitch',{staticClass:\"sorting__switch\",attrs:{\"checked\":_vm.sortOrder,\"value\":\"oldest\",\"name\":\"order_radio\",\"type\":\"radio\"},on:{\"update:checked\":_vm.onSortByDate}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Oldest'))+\"\\n\\t\\t\\t\\t\")])],1),_vm._v(\" \"),_c('h6',[_vm._v(_vm._s(_vm.t('mail', 'Search in body')))]),_vm._v(\" \"),(_vm.loadingPrioritySettings)?_c('p',{staticClass:\"app-settings\"},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.prioritySettingsText)+\"\\n\\t\\t\\t\")]):_c('p',{staticClass:\"app-settings\"},[_c('input',{staticClass:\"checkbox\",attrs:{\"id\":\"priority-inbox-toggle\",\"type\":\"checkbox\"},domProps:{\"checked\":_vm.searchPriorityBody},on:{\"change\":_vm.onToggleSearchPriorityBody}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"priority-inbox-toggle\"}},[_vm._v(_vm._s(_vm.prioritySettingsText))])]),_vm._v(\" \"),_c('h6',[_vm._v(_vm._s(_vm.t('mail', 'Reply text position')))]),_vm._v(\" \"),(_vm.loadingReplySettings)?_c('p',{staticClass:\"app-settings reply-settings\"},[_c('IconLoading',{attrs:{\"size\":16}}),_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.replySettingsText)+\"\\n\\t\\t\\t\")],1):_c('p',{staticClass:\"app-settings\"},[_c('input',{staticClass:\"checkbox\",attrs:{\"id\":\"bottom-reply-enabled\",\"type\":\"checkbox\"},domProps:{\"checked\":_vm.useBottomReplies},on:{\"change\":_vm.onToggleButtonReplies}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"bottom-reply-enabled\"}},[_vm._v(_vm._s(_vm.replySettingsText))])]),_vm._v(\" \"),_c('h6',[_vm._v(_vm._s(_vm.t('mail', 'Gravatar settings')))]),_vm._v(\" \"),(_vm.loadingAvatarSettings)?_c('p',{staticClass:\"app-settings avatar-settings\"},[_c('IconLoading',{attrs:{\"size\":16}}),_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Use Gravatar and favicon avatars'))+\"\\n\\t\\t\\t\")],1):_c('p',{staticClass:\"app-settings\"},[_c('input',{staticClass:\"checkbox\",attrs:{\"id\":\"gravatar-enabled\",\"type\":\"checkbox\"},domProps:{\"checked\":_vm.useExternalAvatars},on:{\"change\":_vm.onToggleExternalAvatars}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"gravatar-enabled\"}},[_vm._v(_vm._s(_vm.t('mail', 'Use Gravatar and favicon avatars')))])]),_vm._v(\" \"),_c('h6',[_vm._v(_vm._s(_vm.t('mail', 'Mailto')))]),_vm._v(\" \"),_c('p',{staticClass:\"settings-hint\"},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Register as application for mail links'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),_c('NcButton',{staticClass:\"app-settings-button\",attrs:{\"type\":\"secondary\",\"aria-label\":_vm.t('mail', 'Register as application for mail links')},on:{\"click\":_vm.registerProtocolHandler},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconEmail',{attrs:{\"size\":16}})]},proxy:true}])},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Register'))+\"\\n\\t\\t\\t\")])],1),_vm._v(\" \"),_c('NcAppSettingsSection',{attrs:{\"id\":\"privacy-and-security\",\"name\":_vm.t('mail', 'Privacy and security')}},[_c('h6',[_vm._v(_vm._s(_vm.t('mail', 'Data collection consent')))]),_vm._v(\" \"),_c('p',{staticClass:\"settings-hint\"},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Allow the app to collect data about your interactions. Based on this data, the app will adapt to your preferences. The data will only be stored locally.'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),(_vm.loadingOptOutSettings)?_c('p',{staticClass:\"app-settings\"},[_c('IconLoading',{attrs:{\"size\":16}}),_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.optOutSettingsText)+\"\\n\\t\\t\\t\")],1):_c('p',{staticClass:\"app-settings\"},[_c('input',{staticClass:\"checkbox\",attrs:{\"id\":\"data-collection-toggle\",\"type\":\"checkbox\"},domProps:{\"checked\":_vm.useDataCollection},on:{\"change\":_vm.onToggleCollectData}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"data-collection-toggle\"}},[_vm._v(_vm._s(_vm.optOutSettingsText))])]),_vm._v(\" \"),_c('h6',[_vm._v(_vm._s(_vm.t('mail', 'Trusted senders')))]),_vm._v(\" \"),_c('TrustedSenders'),_vm._v(\" \"),_c('h6',[_vm._v(_vm._s(_vm.t('mail', 'Internal addresses')))]),_vm._v(\" \"),_c('p',{staticClass:\"settings-hint\"},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Highlight external email addresses by enabling this feature, manage your internal addresses and domains to ensure recognized contacts stay unmarked.'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),_c('p',{staticClass:\"app-settings\"},[_c('input',{staticClass:\"checkbox\",attrs:{\"id\":\"internal-address-toggle\",\"type\":\"checkbox\"},domProps:{\"checked\":_vm.useInternalAddresses},on:{\"change\":_vm.onToggleInternalAddress}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"internal-address-toggle\"}},[_vm._v(_vm._s(_vm.internalAddressText))])]),_vm._v(\" \"),_c('InternalAddress'),_vm._v(\" \"),_c('h6',[_vm._v(_vm._s(_vm.t('mail', 'S/MIME')))]),_vm._v(\" \"),_c('NcButton',{staticClass:\"app-settings-button\",attrs:{\"type\":\"secondary\",\"aria-label\":_vm.t('mail', 'Manage S/MIME certificates')},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();_vm.displaySmimeCertificateModal = true}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconLock',{attrs:{\"size\":16}})]},proxy:true}])},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Manage S/MIME certificates'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),(_vm.displaySmimeCertificateModal)?_c('SmimeCertificateModal',{on:{\"close\":function($event){_vm.displaySmimeCertificateModal = false}}}):_vm._e(),_vm._v(\" \"),_c('h6',[_vm._v(_vm._s(_vm.t('mail', 'Mailvelope')))]),_vm._v(\" \"),_c('div',{staticClass:\"mailvelope-section\"},[(_vm.mailvelopeIsAvailable)?_c('div',[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Mailvelope is enabled for the current domain!'))+\"\\n\\t\\t\\t\\t\")]):_c('div',[_c('p',[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Looking for a way to encrypt your emails?'))+\"\\n\\t\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('p',[_c('a',{staticClass:\"button\",attrs:{\"href\":\"https://www.mailvelope.com/\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Install Mailvelope browser extension by clicking here'))+\"\\n\\t\\t\\t\\t\\t\\t\")])]),_vm._v(\" \"),_c('p',[_c('a',{staticClass:\"button\",on:{\"click\":_vm.mailvelopeAuthorizeDomain}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Enable Mailvelope for the current domain'))+\"\\n\\t\\t\\t\\t\\t\\t\")])])])])],1),_vm._v(\" \"),_c('NcAppSettingsSection',{attrs:{\"id\":\"autotagging-settings\",\"name\":_vm.t('mail', 'Assistance features')}},[(_vm.toggleAutoTagging)?_c('p',{staticClass:\"app-settings\"},[_c('IconLoading',{attrs:{\"size\":16}})],1):_c('p',{staticClass:\"app-settings\"},[_c('input',{staticClass:\"checkbox\",attrs:{\"id\":\"auto-tagging-toggle\",\"type\":\"checkbox\"},domProps:{\"checked\":_vm.useAutoTagging},on:{\"change\":_vm.onToggleAutoTagging}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"auto-tagging-toggle\"}},[_vm._v(_vm._s(_vm.autoTaggingText))])]),_vm._v(\" \"),(_vm.followUpFeatureAvailable)?_c('p',{staticClass:\"app-settings\"},[_c('input',{staticClass:\"checkbox\",attrs:{\"id\":\"follow-up-reminder-toggle\",\"type\":\"checkbox\"},domProps:{\"checked\":_vm.useFollowUpReminders},on:{\"change\":_vm.onToggleFollowUpReminders}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"follow-up-reminder-toggle\"}},[_vm._v(_vm._s(_vm.followUpReminderText))])]):_vm._e()]),_vm._v(\" \"),_c('NcAppSettingsSection',{attrs:{\"id\":\"about-settings\",\"name\":_vm.t('mail', 'About')}},[_c('p',[_vm._v(_vm._s(_vm.t('mail', 'This application includes CKEditor, an open-source editor. Copyright © CKEditor contributors. Licensed under GPLv2.')))])]),_vm._v(\" \"),_c('NcAppSettingsSection',{attrs:{\"id\":\"keyboard-shortcut-settings\",\"name\":_vm.t('mail', 'Keyboard shortcuts')}},[_c('dl',[_c('div',[_c('dt',[_c('kbd',[_vm._v(\"C\")])]),_vm._v(\" \"),_c('dd',[_vm._v(_vm._s(_vm.t('mail', 'Compose new message')))])]),_vm._v(\" \"),_c('div',[_c('dt',[_c('kbd',[_vm._v(\"←\")])]),_vm._v(\" \"),_c('dd',[_vm._v(_vm._s(_vm.t('mail', 'Newer message')))])]),_vm._v(\" \"),_c('div',[_c('dt',[_c('kbd',[_vm._v(\"→\")])]),_vm._v(\" \"),_c('dd',[_vm._v(_vm._s(_vm.t('mail', 'Older message')))])]),_vm._v(\" \"),_c('div',[_c('dt',[_c('kbd',[_vm._v(\"S\")])]),_vm._v(\" \"),_c('dd',[_vm._v(_vm._s(_vm.t('mail', 'Toggle star')))])]),_vm._v(\" \"),_c('div',[_c('dt',[_c('kbd',[_vm._v(\"U\")])]),_vm._v(\" \"),_c('dd',[_vm._v(_vm._s(_vm.t('mail', 'Toggle unread')))])]),_vm._v(\" \"),_c('div',[_c('dt',[_c('kbd',[_vm._v(\"A\")])]),_vm._v(\" \"),_c('dd',[_vm._v(_vm._s(_vm.t('mail', 'Archive')))])]),_vm._v(\" \"),_c('div',[_c('dt',[_c('kbd',[_vm._v(\"Del\")])]),_vm._v(\" \"),_c('dd',[_vm._v(_vm._s(_vm.t('mail', 'Delete')))])]),_vm._v(\" \"),_c('div',[_c('dt',[_c('kbd',[_vm._v(\"Ctrl\")]),_vm._v(\" + \"),_c('kbd',[_vm._v(\"F\")])]),_vm._v(\" \"),_c('dd',[_vm._v(_vm._s(_vm.t('mail', 'Search')))])]),_vm._v(\" \"),_c('div',[_c('dt',[_c('kbd',[_vm._v(\"Ctrl\")]),_vm._v(\" + \"),_c('kbd',[_vm._v(\"Enter\")])]),_vm._v(\" \"),_c('dd',[_vm._v(_vm._s(_vm.t('mail', 'Send')))])]),_vm._v(\" \"),_c('div',[_c('dt',[_c('kbd',[_vm._v(\"R\")])]),_vm._v(\" \"),_c('dd',[_vm._v(_vm._s(_vm.t('mail', 'Refresh')))])])])])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport forge from 'node-forge'\n\n/**\n * Convert a PKCS #12 certificate from DER to PEM format.\n * This function will extract the certificate and private key.\n *\n * It will fail if the given certificate contains more than one certificate or private key which is\n * not very common as OpenSSL does not support it.\n *\n * @param {ArrayBuffer} pkcs12Der The PKCS #12 certificate in DER format\n * @param {string=} password Password to use for decrypting the certificate\n * @return {{certificate: string, privateKey: string}} The certificate and private key in PEM format\n */\nexport function convertPkcs12ToPem(pkcs12Der, password) {\n\tconst der = new forge.util.ByteBuffer(pkcs12Der)\n\tconst asn1 = forge.asn1.fromDer(der)\n\tconst p12 = forge.pkcs12.pkcs12FromAsn1(asn1, password)\n\n\tconst getBags = (bagType) => p12.getBags({ bagType })[bagType]\n\tconst certBags = getBags(forge.pki.oids.certBag)\n\tconst keyBags = getBags(forge.pki.oids.pkcs8ShroudedKeyBag)\n\n\tif (certBags.length === 0) {\n\t\tthrow new InvalidPkcs12CertificateError('The PKCS #12 certificate must contain at least one certificate')\n\t}\n\n\tif (keyBags.length !== 1) {\n\t\tthrow new InvalidPkcs12CertificateError('The PKCS #12 certificate must contain a single key')\n\t}\n\n\treturn {\n\t\tcertificate: certBags.map((certBag) => forge.pki.certificateToPem(certBag.cert)).join('\\r\\n'),\n\t\tprivateKey: forge.pki.privateKeyToPem(keyBags[0].key),\n\t}\n}\n\nexport class InvalidPkcs12CertificateError extends Error {\n\n\tconstructor() {\n\t\tsuper()\n\t\tthis.name = InvalidPkcs12CertificateError.name\n\t}\n\n}\n","<!--\n  - SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<NcModal @close=\"$emit('close')\">\n\t\t<div class=\"certificate-modal\">\n\t\t\t<div v-if=\"!showImportScreen\" class=\"certificate-modal__list\">\n\t\t\t\t<h2>{{ t('mail', 'S/MIME certificates') }}</h2>\n\n\t\t\t\t<table class=\"certificate-modal__list__table\">\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>{{ t('mail', 'Certificate name') }}</th>\n\t\t\t\t\t\t\t<th>{{ t('mail', 'E-mail address') }}</th>\n\t\t\t\t\t\t\t<th>{{ t('mail', 'Valid until') }}</th>\n\t\t\t\t\t\t\t<th />\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<tr v-for=\"certificate in certificates\" :key=\"certificate.id\">\n\t\t\t\t\t\t\t<td :title=\"certificate.info.commonName\">\n\t\t\t\t\t\t\t\t{{ certificate.info.commonName }}\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td :title=\"certificate.info.emailAddress\">\n\t\t\t\t\t\t\t\t{{ certificate.info.emailAddress }}\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td :title=\"moment.unix(certificate.info.notAfter).format('LL')\">\n\t\t\t\t\t\t\t\t{{ moment.unix(certificate.info.notAfter).format('LL') }}\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<NcButton type=\"tertiary-no-background\"\n\t\t\t\t\t\t\t\t\t:aria-label=\"t('mail', 'Delete certificate')\"\n\t\t\t\t\t\t\t\t\t@click=\"deleteCertificate(certificate.id)\">\n\t\t\t\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t\t\t\t<DeleteIcon :title=\"t('mail', 'Delete certificate')\"\n\t\t\t\t\t\t\t\t\t\t\t:size=\"16\" />\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t</NcButton>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t\t<NcEmptyContent v-if=\"certificates.length === 0\"\n\t\t\t\t\tclass=\"certificate__empty\"\n\t\t\t\t\t:name=\"t('mail', 'No certificate imported yet')\" />\n\t\t\t\t<div class=\"certificate-modal__list__actions\">\n\t\t\t\t\t<NcButton type=\"primary\"\n\t\t\t\t\t\t:aria-label=\"t('mail', 'Import certificate')\"\n\t\t\t\t\t\t@click=\"showImportScreen = true\">\n\t\t\t\t\t\t{{ t('mail', 'Import certificate') }}\n\t\t\t\t\t</NcButton>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<form v-else\n\t\t\t\tclass=\"certificate-modal__import\"\n\t\t\t\t@submit.prevent=\"uploadCertificate\">\n\t\t\t\t<h2>{{ t('mail', 'Import S/MIME certificate') }}</h2>\n\n\t\t\t\t<fieldset class=\"certificate-modal__import__type\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<input id=\"certificate-type-pkcs12\"\n\t\t\t\t\t\t\tv-model=\"certificateType\"\n\t\t\t\t\t\t\tname=\"certificate-type\"\n\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t:value=\"TYPE_PKCS12\">\n\t\t\t\t\t\t<label for=\"certificate-type-pkcs12\">\n\t\t\t\t\t\t\t{{ t('mail', 'PKCS #12 Certificate') }}\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<input id=\"certificate-type-pem\"\n\t\t\t\t\t\t\tv-model=\"certificateType\"\n\t\t\t\t\t\t\tname=\"certificate-type\"\n\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t:value=\"TYPE_PEM\">\n\t\t\t\t\t\t<label for=\"certificate-type-pem\">\n\t\t\t\t\t\t\t{{ t('mail', 'PEM Certificate') }}\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t</fieldset>\n\n\t\t\t\t<fieldset>\n\t\t\t\t\t<label for=\"certificate\">{{ t('mail', 'Certificate') }}</label>\n\t\t\t\t\t<input id=\"certificate\"\n\t\t\t\t\t\tref=\"certificate\"\n\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\t@change=\"certificate = $event.target.files[0]\">\n\t\t\t\t</fieldset>\n\n\t\t\t\t<fieldset v-if=\"certificateType === TYPE_PEM\">\n\t\t\t\t\t<label for=\"private-key\">{{ t('mail', 'Private key (optional)') }}</label>\n\t\t\t\t\t<input id=\"private-key\"\n\t\t\t\t\t\tref=\"privateKey\"\n\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\t@change=\"privateKey = $event.target.files[0]\">\n\t\t\t\t</fieldset>\n\n\t\t\t\t<fieldset v-if=\"certificateType === TYPE_PKCS12\">\n\t\t\t\t\t<label for=\"password\">{{ t('mail', 'Password') }}</label>\n\t\t\t\t\t<NcPasswordField :value.sync=\"password\" :label=\"t('mail', 'Password')\" />\n\t\t\t\t</fieldset>\n\n\t\t\t\t<div class=\"certificate-modal__import__hints\">\n\t\t\t\t\t<p v-if=\"certificateType === TYPE_PEM\">\n\t\t\t\t\t\t{{ t('mail', 'The private key is only required if you intend to send signed and encrypted emails using this certificate.') }}\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"certificate-modal__import__actions\">\n\t\t\t\t\t<NcButton type=\"tertiary-no-background\"\n\t\t\t\t\t\t:aria-label=\"t('mail', 'Back')\"\n\t\t\t\t\t\t@click=\"resetImportForm\">\n\t\t\t\t\t\t{{ t('mail', 'Back') }}\n\t\t\t\t\t</NcButton>\n\t\t\t\t\t<NcButton type=\"primary\"\n\t\t\t\t\t\t:aria-label=\"t('mail', 'Submit')\"\n\t\t\t\t\t\tnative-type=\"submit\"\n\t\t\t\t\t\t:disabled=\"loading || !inputFormIsValid\">\n\t\t\t\t\t\t{{ t('mail', 'Submit') }}\n\t\t\t\t\t</NcButton>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</div>\n\t</NcModal>\n</template>\n\n<script>\nimport { NcButton, NcModal, NcPasswordField, NcEmptyContent } from '@nextcloud/vue'\nimport { showError, showSuccess } from '@nextcloud/dialogs'\nimport logger from '../../logger.js'\nimport moment from '@nextcloud/moment'\nimport DeleteIcon from 'vue-material-design-icons/Delete.vue'\nimport { convertPkcs12ToPem, InvalidPkcs12CertificateError } from '../../util/pkcs12.js'\nimport useMainStore from '../../store/mainStore.js'\nimport { mapStores, mapState } from 'pinia'\n\nconst TYPE_PKCS12 = 'pkcs12'\nconst TYPE_PEM = 'pem'\n\nexport default {\n\tname: 'SmimeCertificateModal',\n\tcomponents: {\n\t\tNcModal,\n\t\tNcButton,\n\t\tNcPasswordField,\n\t\tNcEmptyContent,\n\t\tDeleteIcon,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tTYPE_PKCS12,\n\t\t\tTYPE_PEM,\n\n\t\t\tmoment,\n\t\t\tshowImportScreen: false,\n\t\t\tloading: false,\n\t\t\tcertificateType: TYPE_PKCS12,\n\t\t\tcertificate: undefined,\n\t\t\tprivateKey: undefined,\n\t\t\tpassword: '',\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapStores(useMainStore),\n\t\t...mapState(useMainStore, {\n\t\t\tcertificates: 'getSmimeCertificates',\n\t\t}),\n\t\tinputFormIsValid() {\n\t\t\treturn !!this.certificate\n\t\t},\n\t},\n\tasync mounted() {\n\t\t// Refresh S/MIME certificates for good measure\n\t\tawait this.mainStore.fetchSmimeCertificates()\n\t},\n\tmethods: {\n\t\tasync deleteCertificate(id) {\n\t\t\tawait this.mainStore.deleteSmimeCertificate(id)\n\t\t},\n\t\tasync uploadCertificate() {\n\t\t\tlet certificate = this.$refs.certificate.files[0]\n\t\t\tlet privateKey\n\t\t\tif (this.certificateType === TYPE_PKCS12) {\n\t\t\t\ttry {\n\t\t\t\t\tconst result = convertPkcs12ToPem(await certificate.arrayBuffer(), this.password)\n\t\t\t\t\tcertificate = new Blob([result.certificate])\n\t\t\t\t\tprivateKey = new Blob([result.privateKey])\n\t\t\t\t} catch (error) {\n\t\t\t\t\tif (error.name === InvalidPkcs12CertificateError.name) {\n\t\t\t\t\t\tlogger.error('PKCS #12 certificate contains multiple certs or keys', { error })\n\t\t\t\t\t\tshowError(t('mail', 'The provided PKCS #12 certificate must contain at least one certificate and exactly one private key.'))\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlogger.debug('Is probably not a PKCS #12 certificate or the password is wrong', { error })\n\t\t\t\t\t\tshowError(t('mail', 'Failed to import the certificate. Please check the password.'))\n\t\t\t\t\t}\n\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t} else if (this.certificateType === TYPE_PEM) {\n\t\t\t\tprivateKey = this.$refs.privateKey.files[0]\n\t\t\t} else {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tthis.loading = true\n\t\t\ttry {\n\t\t\t\tawait this.mainStore.createSmimeCertificate({\n\t\t\t\t\tcertificate,\n\t\t\t\t\tprivateKey,\n\t\t\t\t})\n\t\t\t\tshowSuccess(t('mail', 'Certificate imported successfully'))\n\t\t\t\tthis.resetImportForm()\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Failed to import a S/MIME certificate: ${error.response?.data?.data}`,\n\t\t\t\t\t{ error },\n\t\t\t\t)\n\t\t\t\tif (privateKey) {\n\t\t\t\t\tshowError(t('mail', 'Failed to import the certificate. Please make sure that the private key matches the certificate and is not protected by a passphrase.'))\n\t\t\t\t} else {\n\t\t\t\t\tshowError(t('mail', 'Failed to import the certificate'))\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\tthis.loading = false\n\t\t\t}\n\t\t},\n\t\tresetImportForm() {\n\t\t\tthis.certificateType = TYPE_PKCS12\n\t\t\tthis.showImportScreen = false\n\t\t\tthis.certificate = undefined\n\t\t\tthis.privateKey = undefined\n\t\t\tthis.password = ''\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.empty-content{\n\theight: 100%;\n\tdisplay: flex;\n}\n.certificate-modal {\n\tpadding: calc(var(--default-grid-baseline) * 5);\n\n\t&__list {\n\t\ttable {\n\t\t\ttable-layout: fixed;\n\t\t\twidth: 100%;\n\n\t\t\tth {\n\t\t\t\tcolor: var(--color-text-maxcontrast);\n\t\t\t}\n\n\t\t\tth, td {\n\t\t\t\tpadding: calc(var(--default-grid-baseline) * 0.5);\n\t\t\t\ttext-overflow: ellipsis;\n\t\t\t\twhite-space: nowrap;\n\t\t\t\toverflow: hidden;\n\t\t\t\tflex: 5 1 0px;\n\t\t\t}\n\n\t\t\tth:last-child, td:last-child {\n\t\t\t\tflex: 1 1 0px;\n\t\t\t}\n\n\t\t\tspan {\n\t\t\t\ttext-overflow: ellipsis;\n\t\t\t}\n\n\t\t\ttr {\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: row;\n\t\t\t\talign-items: center;\n\t\t\t}\n\n\t\t\t// Disable default hover style\n\t\t\ttr:hover {\n\t\t\t\tbackground-color: unset;\n\t\t\t}\n\t\t}\n\n\t\t&__actions {\n\t\t\tmargin: calc(var(--default-grid-baseline) * 3);\n\t\t\tfloat: right;\n\t\t}\n\t}\n\n\t&__import {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: calc(var(--default-grid-baseline) * 2);\n\n\t\tinput[type=file] {\n\t\t\tdisplay: flex;\n\t\t\twidth: 100%;\n\t\t}\n\n\t\t&__type {\n\t\t\tdisplay: flex;\n\t\t\tgap: 0 calc(var(--default-grid-baseline) * 5);\n\t\t\tflex-wrap: wrap;\n\n\t\t\t> div {\n\t\t\t\tdisplay: flex;\n\t\t\t\tgap: var(--default-grid-baseline);\n\t\t\t\talign-items: center;\n\t\t\t}\n\t\t}\n\n\t\t&__hints {\n\t\t\tcolor: var(--color-text-maxcontrast);\n\t\t}\n\n\t\t&__actions {\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: space-between;\n\t\t\tgap: calc(var(--default-grid-baseline) * 4);\n\t\t}\n\t}\n}\n</style>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SmimeCertificateModal.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SmimeCertificateModal.vue?vue&type=script&lang=js\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SmimeCertificateModal.vue?vue&type=style&index=0&id=491f7784&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SmimeCertificateModal.vue?vue&type=style&index=0&id=491f7784&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./SmimeCertificateModal.vue?vue&type=template&id=491f7784&scoped=true\"\nimport script from \"./SmimeCertificateModal.vue?vue&type=script&lang=js\"\nexport * from \"./SmimeCertificateModal.vue?vue&type=script&lang=js\"\nimport style0 from \"./SmimeCertificateModal.vue?vue&type=style&index=0&id=491f7784&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"491f7784\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('NcModal',{on:{\"close\":function($event){return _vm.$emit('close')}}},[_c('div',{staticClass:\"certificate-modal\"},[(!_vm.showImportScreen)?_c('div',{staticClass:\"certificate-modal__list\"},[_c('h2',[_vm._v(_vm._s(_vm.t('mail', 'S/MIME certificates')))]),_vm._v(\" \"),_c('table',{staticClass:\"certificate-modal__list__table\"},[_c('thead',[_c('tr',[_c('th',[_vm._v(_vm._s(_vm.t('mail', 'Certificate name')))]),_vm._v(\" \"),_c('th',[_vm._v(_vm._s(_vm.t('mail', 'E-mail address')))]),_vm._v(\" \"),_c('th',[_vm._v(_vm._s(_vm.t('mail', 'Valid until')))]),_vm._v(\" \"),_c('th')])]),_vm._v(\" \"),_c('tbody',_vm._l((_vm.certificates),function(certificate){return _c('tr',{key:certificate.id},[_c('td',{attrs:{\"title\":certificate.info.commonName}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(certificate.info.commonName)+\"\\n\\t\\t\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('td',{attrs:{\"title\":certificate.info.emailAddress}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(certificate.info.emailAddress)+\"\\n\\t\\t\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('td',{attrs:{\"title\":_vm.moment.unix(certificate.info.notAfter).format('LL')}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.moment.unix(certificate.info.notAfter).format('LL'))+\"\\n\\t\\t\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('td',[_c('NcButton',{attrs:{\"type\":\"tertiary-no-background\",\"aria-label\":_vm.t('mail', 'Delete certificate')},on:{\"click\":function($event){return _vm.deleteCertificate(certificate.id)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('DeleteIcon',{attrs:{\"title\":_vm.t('mail', 'Delete certificate'),\"size\":16}})]},proxy:true}],null,true)})],1)])}),0)]),_vm._v(\" \"),(_vm.certificates.length === 0)?_c('NcEmptyContent',{staticClass:\"certificate__empty\",attrs:{\"name\":_vm.t('mail', 'No certificate imported yet')}}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"certificate-modal__list__actions\"},[_c('NcButton',{attrs:{\"type\":\"primary\",\"aria-label\":_vm.t('mail', 'Import certificate')},on:{\"click\":function($event){_vm.showImportScreen = true}}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Import certificate'))+\"\\n\\t\\t\\t\\t\")])],1)],1):_c('form',{staticClass:\"certificate-modal__import\",on:{\"submit\":function($event){$event.preventDefault();return _vm.uploadCertificate.apply(null, arguments)}}},[_c('h2',[_vm._v(_vm._s(_vm.t('mail', 'Import S/MIME certificate')))]),_vm._v(\" \"),_c('fieldset',{staticClass:\"certificate-modal__import__type\"},[_c('div',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.certificateType),expression:\"certificateType\"}],attrs:{\"id\":\"certificate-type-pkcs12\",\"name\":\"certificate-type\",\"type\":\"radio\"},domProps:{\"value\":_vm.TYPE_PKCS12,\"checked\":_vm._q(_vm.certificateType,_vm.TYPE_PKCS12)},on:{\"change\":function($event){_vm.certificateType=_vm.TYPE_PKCS12}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"certificate-type-pkcs12\"}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'PKCS #12 Certificate'))+\"\\n\\t\\t\\t\\t\\t\")])]),_vm._v(\" \"),_c('div',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.certificateType),expression:\"certificateType\"}],attrs:{\"id\":\"certificate-type-pem\",\"name\":\"certificate-type\",\"type\":\"radio\"},domProps:{\"value\":_vm.TYPE_PEM,\"checked\":_vm._q(_vm.certificateType,_vm.TYPE_PEM)},on:{\"change\":function($event){_vm.certificateType=_vm.TYPE_PEM}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"certificate-type-pem\"}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'PEM Certificate'))+\"\\n\\t\\t\\t\\t\\t\")])])]),_vm._v(\" \"),_c('fieldset',[_c('label',{attrs:{\"for\":\"certificate\"}},[_vm._v(_vm._s(_vm.t('mail', 'Certificate')))]),_vm._v(\" \"),_c('input',{ref:\"certificate\",attrs:{\"id\":\"certificate\",\"type\":\"file\",\"required\":\"\"},on:{\"change\":function($event){_vm.certificate = $event.target.files[0]}}})]),_vm._v(\" \"),(_vm.certificateType === _vm.TYPE_PEM)?_c('fieldset',[_c('label',{attrs:{\"for\":\"private-key\"}},[_vm._v(_vm._s(_vm.t('mail', 'Private key (optional)')))]),_vm._v(\" \"),_c('input',{ref:\"privateKey\",attrs:{\"id\":\"private-key\",\"type\":\"file\"},on:{\"change\":function($event){_vm.privateKey = $event.target.files[0]}}})]):_vm._e(),_vm._v(\" \"),(_vm.certificateType === _vm.TYPE_PKCS12)?_c('fieldset',[_c('label',{attrs:{\"for\":\"password\"}},[_vm._v(_vm._s(_vm.t('mail', 'Password')))]),_vm._v(\" \"),_c('NcPasswordField',{attrs:{\"value\":_vm.password,\"label\":_vm.t('mail', 'Password')},on:{\"update:value\":function($event){_vm.password=$event}}})],1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"certificate-modal__import__hints\"},[(_vm.certificateType === _vm.TYPE_PEM)?_c('p',[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'The private key is only required if you intend to send signed and encrypted emails using this certificate.'))+\"\\n\\t\\t\\t\\t\")]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"certificate-modal__import__actions\"},[_c('NcButton',{attrs:{\"type\":\"tertiary-no-background\",\"aria-label\":_vm.t('mail', 'Back')},on:{\"click\":_vm.resetImportForm}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Back'))+\"\\n\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('NcButton',{attrs:{\"type\":\"primary\",\"aria-label\":_vm.t('mail', 'Submit'),\"native-type\":\"submit\",\"disabled\":_vm.loading || !_vm.inputFormIsValid}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Submit'))+\"\\n\\t\\t\\t\\t\")])],1)])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_vm._l((_vm.sortedSenders),function(sender){return _c('div',{key:sender.email},[_vm._v(\"\\n\\t\\t\"+_vm._s(sender.email)+\"\\n\\t\\t\"+_vm._s(_vm.senderType(sender.type))+\"\\n\\t\\t\"),_c('ButtonVue',{staticClass:\"button\",attrs:{\"type\":\"tertiary\",\"aria-label\":_vm.t('mail','Remove')},on:{\"click\":function($event){return _vm.removeSender(sender)}}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail','Remove'))+\"\\n\\t\\t\")])],1)}),_vm._v(\" \"),(!_vm.sortedSenders.length)?_c('span',[_vm._v(\" \"+_vm._s(_vm.t('mail', 'No senders are trusted at the moment.')))]):_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<div>\n\t\t<div v-for=\"sender in sortedSenders\"\n\t\t\t:key=\"sender.email\">\n\t\t\t{{ sender.email }}\n\t\t\t{{ senderType(sender.type) }}\n\t\t\t<ButtonVue type=\"tertiary\"\n\t\t\t\tclass=\"button\"\n\t\t\t\t:aria-label=\"t('mail','Remove')\"\n\t\t\t\t@click=\"removeSender(sender)\">\n\t\t\t\t{{ t('mail','Remove') }}\n\t\t\t</ButtonVue>\n\t\t</div>\n\t\t<span v-if=\"!sortedSenders.length\"> {{ t('mail', 'No senders are trusted at the moment.') }}</span>\n\t</div>\n</template>\n\n<script>\n\nimport { fetchTrustedSenders, trustSender } from '../service/TrustedSenderService.js'\nimport { NcButton as ButtonVue } from '@nextcloud/vue'\nimport prop from 'lodash/fp/prop.js'\nimport sortBy from 'lodash/fp/sortBy.js'\nimport logger from '../logger.js'\nimport { showError } from '@nextcloud/dialogs'\n\nconst sortByEmail = sortBy(prop('email'))\n\nexport default {\n\tname: 'TrustedSenders',\n\tcomponents: {\n\t\tButtonVue,\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\tlist: [],\n\t\t}\n\t},\n\tcomputed: {\n\t\tsortedSenders() {\n\t\t\treturn sortByEmail(this.list)\n\t\t},\n\t},\n\tasync mounted() {\n\t\tthis.list = await fetchTrustedSenders()\n\t},\n\tmethods: {\n\t\tasync removeSender(sender) {\n\t\t\t// Remove the item immediately\n\t\t\tthis.list = this.list.filter(s => s.id !== sender.id)\n\t\t\ttry {\n\t\t\t\tawait trustSender(\n\t\t\t\t\tsender.email,\n\t\t\t\t\tsender.type,\n\t\t\t\t\tfalse,\n\t\t\t\t)\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error(`Could not remove trusted sender ${sender.email}`, {\n\t\t\t\t\terror,\n\t\t\t\t})\n\t\t\t\tshowError(t('mail', 'Could not remove trusted sender {sender}', {\n\t\t\t\t\tsender: sender.email,\n\t\t\t\t}))\n\t\t\t\t// Put the sender back\n\t\t\t\tthis.list.push(sender)\n\t\t\t}\n\t\t},\n\t\tsenderType(type) {\n\t\t\tswitch (type) {\n\t\t\tcase 'individual':\n\t\t\t\treturn t('mail', 'individual')\n\t\t\tcase 'domain':\n\t\t\t\treturn t('mail', 'domain')\n\t\t\t}\n\t\t\treturn type\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.button-vue:deep() {\n\tdisplay: inline-block !important;\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrustedSenders.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrustedSenders.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrustedSenders.vue?vue&type=style&index=0&id=0cf1c097&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrustedSenders.vue?vue&type=style&index=0&id=0cf1c097&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./TrustedSenders.vue?vue&type=template&id=0cf1c097&scoped=true\"\nimport script from \"./TrustedSenders.vue?vue&type=script&lang=js\"\nexport * from \"./TrustedSenders.vue?vue&type=script&lang=js\"\nimport style0 from \"./TrustedSenders.vue?vue&type=style&index=0&id=0cf1c097&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0cf1c097\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_vm._l((_vm.sortedDomains),function(domain){return _c('div',{key:domain.address,staticClass:\"address\"},[_vm._v(\"\\n\\t\\t\"+_vm._s(domain.address)+\"\\n\\t\\t\"),_c('p',{staticClass:\"address__type\"},[_vm._v(\"\\n\\t\\t\\t(\"+_vm._s(_vm.t('mail', 'domain'))+\")\\n\\t\\t\")]),_vm._v(\" \"),_c('ButtonVue',{staticClass:\"button\",attrs:{\"type\":\"tertiary\",\"aria-label\":_vm.t('mail', 'Remove')},on:{\"click\":function($event){return _vm.removeInternalAddress(domain)}}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail','Remove'))+\"\\n\\t\\t\")])],1)}),_vm._v(\" \"),_vm._l((_vm.sortedEmails),function(email){return _c('div',{key:email.address,staticClass:\"address\"},[_vm._v(\"\\n\\t\\t\"+_vm._s(email.address)+\"\\n\\t\\t\"),_c('p',{staticClass:\"address__type\"},[_vm._v(\"\\n\\t\\t\\t(\"+_vm._s(_vm.t('mail', 'email'))+\")\\n\\t\\t\")]),_vm._v(\" \"),_c('ButtonVue',{staticClass:\"button\",attrs:{\"type\":\"tertiary\",\"aria-label\":_vm.t('mail','Remove')},on:{\"click\":function($event){return _vm.removeInternalAddress(email)}}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail','Remove'))+\"\\n\\t\\t\")])],1)}),_vm._v(\" \"),_c('ButtonVue',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.openDialog = true}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconAdd',{attrs:{\"size\":20}})]},proxy:true}])},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('mail', 'Add internal address'))+\"\\n\\t\")]),_vm._v(\" \"),_c('NcDialog',{attrs:{\"open\":_vm.openDialog,\"buttons\":_vm.buttons,\"name\":_vm.t('mail', 'Add internal address')},on:{\"update:open\":function($event){_vm.openDialog=$event},\"close\":function($event){_vm.openDialog = false}}},[_c('NcTextField',{staticClass:\"input\",attrs:{\"label\":_vm.t('mail', 'Add internal email or domain'),\"value\":_vm.newAddress},on:{\"update:value\":function($event){_vm.newAddress=$event}}})],1)],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2024 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<div>\n\t\t<div v-for=\"domain in sortedDomains\"\n\t\t\t:key=\"domain.address\"\n\t\t\tclass=\"address\">\n\t\t\t{{ domain.address }}\n\t\t\t<p class=\"address__type\">\n\t\t\t\t({{ t('mail', 'domain') }})\n\t\t\t</p>\n\t\t\t<ButtonVue type=\"tertiary\"\n\t\t\t\tclass=\"button\"\n\t\t\t\t:aria-label=\"t('mail', 'Remove')\"\n\t\t\t\t@click=\"removeInternalAddress(domain)\">\n\t\t\t\t{{ t('mail','Remove') }}\n\t\t\t</ButtonVue>\n\t\t</div>\n\t\t<div v-for=\"email in sortedEmails\"\n\t\t\t:key=\"email.address\"\n\t\t\tclass=\"address\">\n\t\t\t{{ email.address }}\n\t\t\t<p class=\"address__type\">\n\t\t\t\t({{ t('mail', 'email') }})\n\t\t\t</p>\n\t\t\t<ButtonVue type=\"tertiary\"\n\t\t\t\tclass=\"button\"\n\t\t\t\t:aria-label=\"t('mail','Remove')\"\n\t\t\t\t@click=\"removeInternalAddress(email)\">\n\t\t\t\t{{ t('mail','Remove') }}\n\t\t\t</ButtonVue>\n\t\t</div>\n\t\t<ButtonVue type=\"primary\"\n\t\t\t@click=\"openDialog = true\">\n\t\t\t<template #icon>\n\t\t\t\t<IconAdd :size=\"20\" />\n\t\t\t</template>\n\t\t\t{{ t('mail', 'Add internal address') }}\n\t\t</ButtonVue>\n\t\t<NcDialog :open.sync=\"openDialog\"\n\t\t\t:buttons=\"buttons\"\n\t\t\t:name=\"t('mail', 'Add internal address')\"\n\t\t\t@close=\"openDialog = false\">\n\t\t\t<NcTextField class=\"input\" :label=\"t('mail', 'Add internal email or domain')\" :value.sync=\"newAddress\" />\n\t\t</NcDialog>\n\t</div>\n</template>\n\n<script>\n\nimport { NcButton as ButtonVue, NcDialog, NcTextField } from '@nextcloud/vue'\nimport prop from 'lodash/fp/prop.js'\nimport sortBy from 'lodash/fp/sortBy.js'\nimport IconAdd from 'vue-material-design-icons/Plus.vue'\nimport IconCancel from '@mdi/svg/svg/cancel.svg'\nimport IconCheck from '@mdi/svg/svg/check.svg'\nimport logger from '../logger.js'\nimport { showError } from '@nextcloud/dialogs'\nimport { mapStores } from 'pinia'\nimport useMainStore from '../store/mainStore.js'\n\nconst sortByAddress = sortBy(prop('address'))\n\nexport default {\n\tname: 'InternalAddress',\n\tcomponents: {\n\t\tButtonVue,\n\t\tNcDialog,\n\t\tNcTextField,\n\t\tIconAdd,\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\topenDialog: false,\n\t\t\tnewAddress: '',\n\t\t\tbuttons: [\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Cancel',\n\t\t\t\t\ticon: IconCancel,\n\t\t\t\t\tcallback: () => { this.openDialog = false },\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Ok',\n\t\t\t\t\ttype: 'primary',\n\t\t\t\t\ticon: IconCheck,\n\t\t\t\t\tcallback: () => { this.addInternalAddress() },\n\t\t\t\t},\n\t\t\t],\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapStores(useMainStore),\n\t\tlist() {\n\t\t\treturn this.mainStore.getInternalAddresses\n\t\t},\n\t\tsortedDomains() {\n\t\t\treturn sortByAddress(this.list.filter(a => a.type === 'domain'))\n\t\t},\n\t\tsortedEmails() {\n\t\t\treturn sortByAddress(this.list.filter(a => a.type === 'individual'))\n\t\t},\n\t},\n\tmethods: {\n\t\tasync removeInternalAddress(sender) {\n\t\t\t// Remove the item immediately\n\t\t\ttry {\n\t\t\t\tawait this.mainStore.removeInternalAddress({ id: sender.id, address: sender.address, type: sender.type })\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error(`Could not remove internal address ${sender.email}`, {\n\t\t\t\t\terror,\n\t\t\t\t})\n\t\t\t\tshowError(t('mail', 'Could not remove internal address {sender}', {\n\t\t\t\t\tsender: sender.address,\n\t\t\t\t}))\n\t\t\t}\n\t\t},\n\t\tasync addInternalAddress() {\n\t\t\tconst type = this.checkType()\n\t\t\ttry {\n\t\t\t\tawait this.mainStore.addInternalAddress({\n\t\t\t\t\taddress: this.newAddress,\n\t\t\t\t\ttype,\n\t\t\t\t}).then(async () => {\n\t\t\t\t\tthis.newAddress = ''\n\t\t\t\t\tthis.openDialog = false\n\t\t\t\t})\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error(`Could not add internal address ${this.newAddress}`, {\n\t\t\t\t\terror,\n\t\t\t\t})\n\t\t\t\tshowError(t('mail', 'Could not add internal address {address}', {\n\t\t\t\t\taddress: this.newAddress,\n\t\t\t\t}))\n\t\t\t}\n\t\t},\n\t\tcheckType() {\n\t\t\tconst parts = this.newAddress.split('@')\n\t\t\tif (parts.length !== 2) {\n\t\t\t\treturn 'domain'\n\t\t\t}\n\t\t\t// remove '@'' from domain if added by mistake\n\t\t\tif (parts[0].length === 0) {\n\t\t\t\tthis.newAddress = parts[1]\n\t\t\t\treturn 'domain'\n\t\t\t}\n\t\t\treturn 'individual'\n\t\t},\n\t\tsenderType(type) {\n\t\t\tswitch (type) {\n\t\t\tcase 'individual':\n\t\t\t\treturn t('mail', 'individual')\n\t\t\tcase 'domain':\n\t\t\t\treturn t('mail', 'domain')\n\t\t\t}\n\t\t\treturn type\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.address {\n\tdisplay: flex;\n\talign-items: center;\n\t&__type{\n\t\tcolor: var(--color-text-maxcontrast);\n\t}\n}\n\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InternalAddress.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InternalAddress.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InternalAddress.vue?vue&type=style&index=0&id=39d85f9a&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InternalAddress.vue?vue&type=style&index=0&id=39d85f9a&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./InternalAddress.vue?vue&type=template&id=39d85f9a&scoped=true\"\nimport script from \"./InternalAddress.vue?vue&type=script&lang=js\"\nexport * from \"./InternalAddress.vue?vue&type=script&lang=js\"\nimport style0 from \"./InternalAddress.vue?vue&type=style&index=0&id=39d85f9a&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"39d85f9a\",\n  null\n  \n)\n\nexport default component.exports","<!--\n  - SPDX-FileCopyrightText: 2018 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<div class=\"app-settings\">\n\t\t<NcAppSettingsDialog id=\"app-settings-dialog\"\n\t\t\t:name=\"t('mail', 'Mail settings')\"\n\t\t\t:show-navigation=\"true\"\n\t\t\t:open.sync=\"showSettings\">\n\t\t\t<NcAppSettingsSection id=\"account-creation\" :name=\"t('mail', 'Accounts')\">\n\t\t\t\t<NcButton v-if=\"allowNewMailAccounts\"\n\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\tto=\"/setup\"\n\t\t\t\t\t:aria-label=\"t('mail', 'Add mail account')\"\n\t\t\t\t\tclass=\"app-settings-button\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<IconAdd :size=\"16\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('mail', 'Add mail account') }}\n\t\t\t\t</NcButton>\n\n\t\t\t\t<h6>{{ t('mail', 'Account settings') }}</h6>\n\t\t\t\t<p>{{ t('mail', 'Settings for:') }}</p>\n\t\t\t\t<li v-for=\"account in getAccounts\" :key=\"account.id\">\n\t\t\t\t\t<NcButton v-if=\"account && account.emailAddress\"\n\t\t\t\t\t\tclass=\"app-settings-button\"\n\t\t\t\t\t\ttype=\"secondary\"\n\t\t\t\t\t\t:aria-label=\"t('mail', 'Account settings')\"\n\t\t\t\t\t\t@click=\"openAccountSettings(account.id)\">\n\t\t\t\t\t\t{{ account.emailAddress }}\n\t\t\t\t\t</NcButton>\n\t\t\t\t</li>\n\t\t\t</NcAppSettingsSection>\n\n\t\t\t<NcAppSettingsSection id=\"appearance-and-accessibility\" :name=\"t('mail', 'General')\">\n\t\t\t\t<h6>{{ t('mail', 'Layout') }}</h6>\n\t\t\t\t<NcCheckboxRadioSwitch value=\"no-split\"\n\t\t\t\t\t:button-variant=\"true\"\n\t\t\t\t\tname=\"mail-layout\"\n\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t:checked=\"layoutMode\"\n\t\t\t\t\tbutton-variant-grouped=\"vertical\"\n\t\t\t\t\t@update:checked=\"setLayout('no-split')\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<CompactMode :size=\"16\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('mail', 'List') }}\n\t\t\t\t</NcCheckboxRadioSwitch>\n\t\t\t\t<NcCheckboxRadioSwitch value=\"vertical-split\"\n\t\t\t\t\t:button-variant=\"true\"\n\t\t\t\t\tname=\"mail-layout\"\n\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t:checked=\"layoutMode\"\n\t\t\t\t\tbutton-variant-grouped=\"vertical\"\n\t\t\t\t\t@update:checked=\"setLayout('vertical-split')\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<VerticalSplit :size=\"16\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('mail', 'Vertical split') }}\n\t\t\t\t</NcCheckboxRadioSwitch>\n\t\t\t\t<NcCheckboxRadioSwitch value=\"horizontal-split\"\n\t\t\t\t\t:button-variant=\"true\"\n\t\t\t\t\tname=\"mail-layout\"\n\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t:checked=\"layoutMode\"\n\t\t\t\t\tbutton-variant-grouped=\"vertical\"\n\t\t\t\t\t@update:checked=\"setLayout('horizontal-split')\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<HorizontalSplit :size=\"16\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('mail', 'Horizontal split') }}\n\t\t\t\t</NcCheckboxRadioSwitch>\n\n\t\t\t\t<h6>{{ t('mail', 'Sorting') }}</h6>\n\t\t\t\t<div class=\"sorting\">\n\t\t\t\t\t<NcCheckboxRadioSwitch class=\"sorting__switch\"\n\t\t\t\t\t\t:checked=\"sortOrder\"\n\t\t\t\t\t\tvalue=\"newest\"\n\t\t\t\t\t\tname=\"order_radio\"\n\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t@update:checked=\"onSortByDate\">\n\t\t\t\t\t\t{{ t('mail', 'Newest') }}\n\t\t\t\t\t</NcCheckboxRadioSwitch>\n\t\t\t\t\t<NcCheckboxRadioSwitch class=\"sorting__switch\"\n\t\t\t\t\t\t:checked=\"sortOrder\"\n\t\t\t\t\t\tvalue=\"oldest\"\n\t\t\t\t\t\tname=\"order_radio\"\n\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t@update:checked=\"onSortByDate\">\n\t\t\t\t\t\t{{ t('mail', 'Oldest') }}\n\t\t\t\t\t</NcCheckboxRadioSwitch>\n\t\t\t\t</div>\n\n\t\t\t\t<h6>{{ t('mail', 'Search in body') }}</h6>\n\t\t\t\t<p v-if=\"loadingPrioritySettings\" class=\"app-settings\">\n\t\t\t\t\t{{ prioritySettingsText }}\n\t\t\t\t</p>\n\t\t\t\t<p v-else class=\"app-settings\">\n\t\t\t\t\t<input id=\"priority-inbox-toggle\"\n\t\t\t\t\t\tclass=\"checkbox\"\n\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t:checked=\"searchPriorityBody\"\n\t\t\t\t\t\t@change=\"onToggleSearchPriorityBody\">\n\t\t\t\t\t<label for=\"priority-inbox-toggle\">{{ prioritySettingsText }}</label>\n\t\t\t\t</p>\n\n\t\t\t\t<h6>{{ t('mail', 'Reply text position') }}</h6>\n\t\t\t\t<p v-if=\"loadingReplySettings\" class=\"app-settings reply-settings\">\n\t\t\t\t\t<IconLoading :size=\"16\" />\n\t\t\t\t\t{{ replySettingsText }}\n\t\t\t\t</p>\n\t\t\t\t<p v-else class=\"app-settings\">\n\t\t\t\t\t<input id=\"bottom-reply-enabled\"\n\t\t\t\t\t\tclass=\"checkbox\"\n\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t:checked=\"useBottomReplies\"\n\t\t\t\t\t\t@change=\"onToggleButtonReplies\">\n\t\t\t\t\t<label for=\"bottom-reply-enabled\">{{ replySettingsText }}</label>\n\t\t\t\t</p>\n\n\t\t\t\t<h6>{{ t('mail', 'Gravatar settings') }}</h6>\n\t\t\t\t<p v-if=\"loadingAvatarSettings\" class=\"app-settings avatar-settings\">\n\t\t\t\t\t<IconLoading :size=\"16\" />\n\t\t\t\t\t{{ t('mail', 'Use Gravatar and favicon avatars') }}\n\t\t\t\t</p>\n\t\t\t\t<p v-else class=\"app-settings\">\n\t\t\t\t\t<input id=\"gravatar-enabled\"\n\t\t\t\t\t\tclass=\"checkbox\"\n\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t:checked=\"useExternalAvatars\"\n\t\t\t\t\t\t@change=\"onToggleExternalAvatars\">\n\t\t\t\t\t<label for=\"gravatar-enabled\">{{ t('mail', 'Use Gravatar and favicon avatars') }}</label>\n\t\t\t\t</p>\n\n\t\t\t\t<h6>{{ t('mail', 'Mailto') }}</h6>\n\t\t\t\t<p class=\"settings-hint\">\n\t\t\t\t\t{{ t('mail', 'Register as application for mail links') }}\n\t\t\t\t</p>\n\t\t\t\t<NcButton type=\"secondary\"\n\t\t\t\t\tclass=\"app-settings-button\"\n\t\t\t\t\t:aria-label=\"t('mail', 'Register as application for mail links')\"\n\t\t\t\t\t@click=\"registerProtocolHandler\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<IconEmail :size=\"16\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('mail', 'Register') }}\n\t\t\t\t</NcButton>\n\t\t\t</NcAppSettingsSection>\n\n\t\t\t<NcAppSettingsSection id=\"privacy-and-security\" :name=\"t('mail', 'Privacy and security')\">\n\t\t\t\t<h6>{{ t('mail', 'Data collection consent') }}</h6>\n\t\t\t\t<p class=\"settings-hint\">\n\t\t\t\t\t{{ t('mail', 'Allow the app to collect data about your interactions. Based on this data, the app will adapt to your preferences. The data will only be stored locally.') }}\n\t\t\t\t</p>\n\t\t\t\t<p v-if=\"loadingOptOutSettings\" class=\"app-settings\">\n\t\t\t\t\t<IconLoading :size=\"16\" />\n\t\t\t\t\t{{ optOutSettingsText }}\n\t\t\t\t</p>\n\t\t\t\t<p v-else class=\"app-settings\">\n\t\t\t\t\t<input id=\"data-collection-toggle\"\n\t\t\t\t\t\tclass=\"checkbox\"\n\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t:checked=\"useDataCollection\"\n\t\t\t\t\t\t@change=\"onToggleCollectData\">\n\t\t\t\t\t<label for=\"data-collection-toggle\">{{ optOutSettingsText }}</label>\n\t\t\t\t</p>\n\n\t\t\t\t<h6>{{ t('mail', 'Trusted senders') }}</h6>\n\t\t\t\t<TrustedSenders />\n\n\t\t\t\t<h6>{{ t('mail', 'Internal addresses') }}</h6>\n\t\t\t\t<p class=\"settings-hint\">\n\t\t\t\t\t{{ t('mail', 'Highlight external email addresses by enabling this feature, manage your internal addresses and domains to ensure recognized contacts stay unmarked.') }}\n\t\t\t\t</p>\n\t\t\t\t<p class=\"app-settings\">\n\t\t\t\t\t<input id=\"internal-address-toggle\"\n\t\t\t\t\t\tclass=\"checkbox\"\n\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t:checked=\"useInternalAddresses\"\n\t\t\t\t\t\t@change=\"onToggleInternalAddress\">\n\t\t\t\t\t<label for=\"internal-address-toggle\">{{ internalAddressText }}</label>\n\t\t\t\t</p>\n\t\t\t\t<InternalAddress />\n\n\t\t\t\t<h6>{{ t('mail', 'S/MIME') }}</h6>\n\t\t\t\t<NcButton class=\"app-settings-button\"\n\t\t\t\t\ttype=\"secondary\"\n\t\t\t\t\t:aria-label=\"t('mail', 'Manage S/MIME certificates')\"\n\t\t\t\t\t@click.prevent.stop=\"displaySmimeCertificateModal = true\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<IconLock :size=\"16\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('mail', 'Manage S/MIME certificates') }}\n\t\t\t\t</NcButton>\n\t\t\t\t<SmimeCertificateModal v-if=\"displaySmimeCertificateModal\"\n\t\t\t\t\t@close=\"displaySmimeCertificateModal = false\" />\n\n\t\t\t\t<h6>{{ t('mail', 'Mailvelope') }}</h6>\n\t\t\t\t<div class=\"mailvelope-section\">\n\t\t\t\t\t<div v-if=\"mailvelopeIsAvailable\">\n\t\t\t\t\t\t{{ t('mail', 'Mailvelope is enabled for the current domain!') }}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div v-else>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t{{ t('mail', 'Looking for a way to encrypt your emails?') }}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<a href=\"https://www.mailvelope.com/\"\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\tclass=\"button\"\n\t\t\t\t\t\t\t\trel=\"noopener noreferrer\">\n\t\t\t\t\t\t\t\t{{ t('mail', 'Install Mailvelope browser extension by clicking here') }}\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<a class=\"button\"\n\t\t\t\t\t\t\t\t@click=\"mailvelopeAuthorizeDomain\">\n\t\t\t\t\t\t\t\t{{ t('mail', 'Enable Mailvelope for the current domain') }}\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</NcAppSettingsSection>\n\n\t\t\t<NcAppSettingsSection id=\"autotagging-settings\" :name=\"t('mail', 'Assistance features')\">\n\t\t\t\t<p v-if=\"toggleAutoTagging\" class=\"app-settings\">\n\t\t\t\t\t<IconLoading :size=\"16\" />\n\t\t\t\t</p>\n\t\t\t\t<p v-else class=\"app-settings\">\n\t\t\t\t\t<input id=\"auto-tagging-toggle\"\n\t\t\t\t\t\tclass=\"checkbox\"\n\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t:checked=\"useAutoTagging\"\n\t\t\t\t\t\t@change=\"onToggleAutoTagging\">\n\t\t\t\t\t<label for=\"auto-tagging-toggle\">{{ autoTaggingText }}</label>\n\t\t\t\t</p>\n\t\t\t\t<p v-if=\"followUpFeatureAvailable\" class=\"app-settings\">\n\t\t\t\t\t<input id=\"follow-up-reminder-toggle\"\n\t\t\t\t\t\tclass=\"checkbox\"\n\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t:checked=\"useFollowUpReminders\"\n\t\t\t\t\t\t@change=\"onToggleFollowUpReminders\">\n\t\t\t\t\t<label for=\"follow-up-reminder-toggle\">{{ followUpReminderText }}</label>\n\t\t\t\t</p>\n\t\t\t</NcAppSettingsSection>\n\t\t\t<NcAppSettingsSection id=\"about-settings\" :name=\"t('mail', 'About')\">\n\t\t\t\t<p>{{ t('mail', 'This application includes CKEditor, an open-source editor. Copyright © CKEditor contributors. Licensed under GPLv2.') }}</p>\n\t\t\t</NcAppSettingsSection>\n\t\t\t<NcAppSettingsSection id=\"keyboard-shortcut-settings\" :name=\"t('mail', 'Keyboard shortcuts')\">\n\t\t\t\t<dl>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<dt><kbd>C</kbd></dt>\n\t\t\t\t\t\t<dd>{{ t('mail', 'Compose new message') }}</dd>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<dt><kbd>←</kbd></dt>\n\t\t\t\t\t\t<dd>{{ t('mail', 'Newer message') }}</dd>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<dt><kbd>→</kbd></dt>\n\t\t\t\t\t\t<dd>{{ t('mail', 'Older message') }}</dd>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<dt><kbd>S</kbd></dt>\n\t\t\t\t\t\t<dd>{{ t('mail', 'Toggle star') }}</dd>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<dt><kbd>U</kbd></dt>\n\t\t\t\t\t\t<dd>{{ t('mail', 'Toggle unread') }}</dd>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<dt><kbd>A</kbd></dt>\n\t\t\t\t\t\t<dd>{{ t('mail', 'Archive') }}</dd>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<dt><kbd>Del</kbd></dt>\n\t\t\t\t\t\t<dd>{{ t('mail', 'Delete') }}</dd>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<dt><kbd>Ctrl</kbd> + <kbd>F</kbd></dt>\n\t\t\t\t\t\t<dd>{{ t('mail', 'Search') }}</dd>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<dt><kbd>Ctrl</kbd> + <kbd>Enter</kbd></dt>\n\t\t\t\t\t\t<dd>{{ t('mail', 'Send') }}</dd>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<dt><kbd>R</kbd></dt>\n\t\t\t\t\t\t<dd>{{ t('mail', 'Refresh') }}</dd>\n\t\t\t\t\t</div>\n\t\t\t\t</dl>\n\t\t\t</NcAppSettingsSection>\n\t\t</NcAppSettingsDialog>\n\t</div>\n</template>\n\n<script>\nimport { generateUrl } from '@nextcloud/router'\nimport { showError } from '@nextcloud/dialogs'\nimport CompactMode from 'vue-material-design-icons/ReorderHorizontal.vue'\n\nimport { NcAppSettingsSection, NcAppSettingsDialog, NcButton, NcLoadingIcon as IconLoading, NcCheckboxRadioSwitch } from '@nextcloud/vue'\n\nimport IconAdd from 'vue-material-design-icons/Plus.vue'\nimport IconEmail from 'vue-material-design-icons/Email.vue'\nimport IconLock from 'vue-material-design-icons/Lock.vue'\nimport VerticalSplit from 'vue-material-design-icons/FormatColumns.vue'\nimport HorizontalSplit from 'vue-material-design-icons/ViewSplitHorizontal.vue'\nimport Logger from '../logger.js'\nimport SmimeCertificateModal from './smime/SmimeCertificateModal.vue'\nimport TrustedSenders from './TrustedSenders.vue'\nimport InternalAddress from './InternalAddress.vue'\nimport isMobile from '@nextcloud/vue/dist/Mixins/isMobile.js'\nimport useMainStore from '../store/mainStore.js'\nimport { mapStores, mapState } from 'pinia'\n\nexport default {\n\tname: 'AppSettingsMenu',\n\tcomponents: {\n\t\tTrustedSenders,\n\t\tInternalAddress,\n\t\tNcButton,\n\t\tIconEmail,\n\t\tIconAdd,\n\t\tIconLoading,\n\t\tIconLock,\n\t\tSmimeCertificateModal,\n\t\tNcCheckboxRadioSwitch,\n\t\tNcAppSettingsDialog,\n\t\tNcAppSettingsSection,\n\t\tCompactMode,\n\t\tVerticalSplit,\n\t\tHorizontalSplit,\n\t},\n\tmixins: [isMobile],\n\tprops: {\n\t\topen: {\n\t\t\trequired: true,\n\t\t\ttype: Boolean,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tloadingAvatarSettings: false,\n\t\t\tprioritySettingsText: t('mail', 'Search in the body of messages in priority Inbox'),\n\t\t\tloadingPrioritySettings: false,\n\t\t\t// eslint-disable-next-line\n\t\t\toptOutSettingsText: t('mail', 'Activate'),\n\t\t\tloadingOptOutSettings: false,\n\t\t\t// eslint-disable-next-line\n\t\t\treplySettingsText: t('mail', 'Put my text to the bottom of a reply instead of on top of it.'),\n\t\t\tloadingReplySettings: false,\n\t\t\t// eslint-disable-next-line\n\t\t\tautoTaggingText: t('mail', 'Mark as important'),\n\t\t\t// eslint-disable-next-line\n\t\t\tfollowUpReminderText: t('mail', 'Remind about messages that require a reply but received none'),\n\t\t\tinternalAddressText: t('mail', 'Use internal addresses'),\n\t\t\ttoggleAutoTagging: false,\n\t\t\tdisplaySmimeCertificateModal: false,\n\t\t\tsortOrder: 'newest',\n\t\t\tshowSettings: false,\n\t\t\tshowAccountSettings: false,\n\t\t\tshowMailSettings: true,\n\t\t\tselectedAccount: null,\n\t\t\tmailvelopeIsAvailable: false,\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapStores(useMainStore),\n\t\t...mapState(useMainStore, ['getAccounts', 'followUpFeatureAvailable']),\n\t\tsearchPriorityBody() {\n\t\t\treturn this.mainStore.getPreference('search-priority-body', 'false') === 'true'\n\t\t},\n\t\tuseBottomReplies() {\n\t\t\treturn this.mainStore.getPreference('reply-mode', 'top') === 'bottom'\n\t\t},\n\t\tuseExternalAvatars() {\n\t\t\treturn this.mainStore.getPreference('external-avatars', 'true') === 'true'\n\t\t},\n\t\tuseDataCollection() {\n\t\t\treturn this.mainStore.getPreference('collect-data', 'true') === 'true'\n\t\t},\n\t\tuseAutoTagging() {\n\t\t\treturn this.mainStore.getPreference('tag-classified-messages', 'true') === 'true'\n\t\t},\n\t\tuseInternalAddresses() {\n\t\t\treturn this.mainStore.getPreference('internal-addresses', 'false') === 'true'\n\t\t},\n\t\tuseFollowUpReminders() {\n\t\t\treturn this.mainStore.getPreference('follow-up-reminders', 'true') === 'true'\n\t\t},\n\t\tallowNewMailAccounts() {\n\t\t\treturn this.mainStore.getPreference('allow-new-accounts', true)\n\t\t},\n\t\tlayoutMode() {\n\t\t\treturn this.mainStore.getPreference('layout-mode', 'vertical-split')\n\t\t},\n\t},\n\twatch: {\n\t\tshowSettings(value) {\n\t\t\tif (!value) {\n\t\t\t\tthis.$emit('update:open', value)\n\t\t\t}\n\t\t},\n\t\tasync open(value) {\n\t\t\tif (value) {\n\t\t\t\tawait this.onOpen()\n\t\t\t}\n\t\t},\n\t},\n\tmounted() {\n\t\tthis.sortOrder = this.mainStore.getPreference('sort-order', 'newest')\n\t\tdocument.addEventListener.call(window, 'mailvelope', () => this.checkMailvelope())\n\t},\n\tupdated() {\n\t\tthis.checkMailvelope()\n\t},\n\tmethods: {\n\t\tcloseAccountSettings() {\n\t\t\tthis.showAccountSettings = false\n\t\t},\n\t\topenAccountSettings(accountId) {\n\t\t\tthis.mainStore.showSettingsForAccountMutation(accountId)\n\t\t\tthis.showSettings = false\n\t\t},\n\t\tcheckMailvelope() {\n\t\t\tthis.mailvelopeIsAvailable = !!window.mailvelope\n\t\t},\n\t\tasync setLayout(layoutMode) {\n\t\t\ttry {\n\t\t\t\tawait this.mainStore.savePreference({\n\t\t\t\t\tkey: 'layout-mode',\n\t\t\t\t\tvalue: layoutMode,\n\t\t\t\t})\n\t\t\t} catch (error) {\n\t\t\t\tLogger.error('Could not save preferences', { error })\n\t\t\t}\n\t\t},\n\t\tasync onOpen() {\n\t\t\tthis.showSettings = true\n\t\t},\n\t\tonToggleButtonReplies(e) {\n\t\t\tthis.loadingReplySettings = true\n\n\t\t\tthis.mainStore.savePreference({\n\t\t\t\tkey: 'reply-mode',\n\t\t\t\tvalue: e.target.checked ? 'bottom' : 'top',\n\t\t\t})\n\t\t\t\t.catch((error) => Logger.error('could not save preferences', { error }))\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.loadingReplySettings = false\n\t\t\t\t})\n\t\t},\n\t\tonToggleExternalAvatars(e) {\n\t\t\tthis.loadingAvatarSettings = true\n\n\t\t\tthis.mainStore.savePreference({\n\t\t\t\tkey: 'external-avatars',\n\t\t\t\tvalue: e.target.checked ? 'true' : 'false',\n\t\t\t})\n\t\t\t\t.catch((error) => Logger.error('could not save preferences', { error }))\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.loadingAvatarSettings = false\n\t\t\t\t})\n\t\t},\n\t\tasync onToggleSearchPriorityBody(e) {\n\t\t\tthis.loadingPrioritySettings = true\n\t\t\ttry {\n\t\t\t\tawait this.mainStore.savePreference({\n\t\t\t\t\tkey: 'search-priority-body',\n\t\t\t\t\tvalue: e.target.checked ? 'true' : 'false',\n\t\t\t\t})\n\t\t\t} catch (error) {\n\t\t\t\tLogger.error('could not save preferences', { error })\n\t\t\t} finally {\n\t\t\t\tthis.loadingPrioritySettings = false\n\t\t\t}\n\t\t},\n\t\tonToggleCollectData(e) {\n\t\t\tthis.loadingOptOutSettings = true\n\n\t\t\tthis.mainStore.savePreference({\n\t\t\t\tkey: 'collect-data',\n\t\t\t\tvalue: e.target.checked ? 'true' : 'false',\n\t\t\t})\n\t\t\t\t.catch((error) => Logger.error('could not save preferences', { error }))\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.loadingOptOutSettings = false\n\t\t\t\t})\n\t\t},\n\t\tasync onSortByDate(e) {\n\t\t\tconst previousValue = this.sortOrder\n\t\t\ttry {\n\t\t\t\tthis.sortOrder = e\n\t\t\t\tawait this.mainStore.savePreference({\n\t\t\t\t\tkey: 'sort-order',\n\t\t\t\t\tvalue: e,\n\t\t\t\t})\n\t\t\t\tthis.mainStore.removeAllEnvelopesMutation()\n\t\t\t} catch (error) {\n\t\t\t\tLogger.error('could not save preferences', { error })\n\t\t\t\tthis.sortOrder = previousValue\n\t\t\t\tshowError(t('mail', 'Could not update preference'))\n\t\t\t}\n\t\t},\n\t\tasync onToggleAutoTagging(e) {\n\t\t\tthis.toggleAutoTagging = true\n\n\t\t\ttry {\n\t\t\t\tawait this.mainStore.savePreference({\n\t\t\t\t\tkey: 'tag-classified-messages',\n\t\t\t\t\tvalue: e.target.checked ? 'true' : 'false',\n\t\t\t\t})\n\t\t\t} catch (error) {\n\t\t\t\tLogger.error('could not save preferences', { error })\n\n\t\t\t\tshowError(t('mail', 'Could not update preference'))\n\t\t\t} finally {\n\t\t\t\tthis.toggleAutoTagging = false\n\t\t\t}\n\t\t},\n\t\tasync onToggleFollowUpReminders(e) {\n\t\t\ttry {\n\t\t\t\tawait this.mainStore.savePreference({\n\t\t\t\t\tkey: 'follow-up-reminders',\n\t\t\t\t\tvalue: e.target.checked ? 'true' : 'false',\n\t\t\t\t})\n\t\t\t} catch (error) {\n\t\t\t\tLogger.error('Could not save preferences', { error })\n\t\t\t\tshowError(t('mail', 'Could not update preference'))\n\t\t\t}\n\t\t},\n\t\tasync onToggleInternalAddress(e) {\n\t\t\ttry {\n\t\t\t\tawait this.mainStore.savePreference({\n\t\t\t\t\tkey: 'internal-addresses',\n\t\t\t\t\tvalue: e.target.checked ? 'true' : 'false',\n\t\t\t\t})\n\t\t\t} catch (error) {\n\t\t\t\tLogger.error('Could not save preferences', { error })\n\t\t\t\tshowError(t('mail', 'Could not update preference'))\n\t\t\t}\n\t\t},\n\t\tregisterProtocolHandler() {\n\t\t\tif (window.navigator.registerProtocolHandler) {\n\t\t\t\tconst url\n\t\t\t\t\t= window.location.protocol + '//' + window.location.host + generateUrl('apps/mail/compose?uri=%s')\n\t\t\t\ttry {\n\t\t\t\t\twindow.navigator.registerProtocolHandler('mailto', url, OC.theme.name + ' Mail')\n\t\t\t\t} catch (err) {\n\t\t\t\t\tLogger.error('could not register protocol handler', { err })\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tmailvelopeAuthorizeDomain() {\n\t\t\tconst iframe = document.createElement('iframe')\n\t\t\tiframe.style = 'display: none'\n\t\t\tiframe.src = 'https://api.mailvelope.com/authorize-domain/?api=true'\n\t\t\tdocument.body.append(iframe)\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\np.app-settings span.loading-icon {\n\tdisplay: inline-block;\n\tvertical-align: middle;\n\tpadding: var(--default-grid-baseline) 0;\n}\np.app-settings {\n\tpadding: calc(var(--default-grid-baseline) * 2) 0;\n}\n.app-settings-button {\n\tdisplay: inline-flex;\n\tbackground-position: 10px center;\n\ttext-align: left;\n\tmargin-top: calc(var(--default-grid-baseline) * 2);\n}\n.app-settings-button.button.primary.new-button {\n\tcolor: var(--color-primary-element-text);\n\t//this style will be removed after we migrate also the  'add mail account' to material design\n\tpadding-left: 34px;\n\tgap: var(--default-grid-baseline);\n\twidth: fit-content;\n}\n.app-settings-link {\n\ttext-decoration: underline;\n}\n:deep(.button-vue__text) {\n\ttext-overflow: clip;\n\twhite-space: normal;\n}\n:deep(.button-vue__wrapper) {\n\tjustify-content: flex-start;\n}\n.mailvelope-section {\n\tpadding-top: calc(var(--default-grid-baseline) * 4);\n\n\ta.button {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tline-height: normal;\n\t\tmin-height: calc(var(--default-grid-baseline) * 11);\n\t\tfont-size: unset;\n\n\t\t&:focus-visible,\n\t\t&:hover {\n\t\t\tbox-shadow: 0 0 0 1px var(--color-primary-element);\n\t\t}\n\t}\n}\n.material-design-icon {\n\t&.lock-icon {\n\t\tmargin-right: calc(var(--default-grid-baseline) * 2);\n\t}\n\n}\n.section-title {\n\tmargin-top: calc(var(--default-grid-baseline) * 5);\n\tmargin-bottom: calc(var(--default-grid-baseline) * 2);\n}\n.sorting {\n\tdisplay: flex;\n\twidth: 100%;\n\t&__switch{\n\t\twidth: 50%;\n\t}\n}\n.mail-creation-button {\n\twidth: 100%;\n}\n.settings-hint {\n\tmargin-top: calc(var(--default-grid-baseline) * -3);\n\tmargin-bottom: calc(var(--default-grid-baseline) * 2);\n\tcolor: var(--color-text-maxcontrast);\n}\n.app-settings-section {\n\tlist-style: none;\n}\n// align it with the checkbox\n.internal_address{\n\tmargin-left: 3px;\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppSettingsMenu.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppSettingsMenu.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppSettingsMenu.vue?vue&type=style&index=0&id=442b0fb5&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppSettingsMenu.vue?vue&type=style&index=0&id=442b0fb5&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./AppSettingsMenu.vue?vue&type=template&id=442b0fb5&scoped=true\"\nimport script from \"./AppSettingsMenu.vue?vue&type=script&lang=js\"\nexport * from \"./AppSettingsMenu.vue?vue&type=script&lang=js\"\nimport style0 from \"./AppSettingsMenu.vue?vue&type=style&index=0&id=442b0fb5&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"442b0fb5\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Navigation.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Navigation.vue?vue&type=script&lang=js\"","<!--\n  - SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<AppNavigation>\n\t\t<template #search>\n\t\t\t<NewMessageButtonHeader />\n\t\t</template>\n\t\t<template #list>\n\t\t\t<!-- Special mailboxes first -->\n\t\t\t<NavigationMailbox v-for=\"mailbox in unifiedMailboxes\"\n\t\t\t\t:key=\"'mailbox-' + mailbox.databaseId\"\n\t\t\t\t:account=\"unifiedAccount\"\n\t\t\t\t:mailbox=\"mailbox\" />\n\n\t\t\t<!-- All other mailboxes grouped by their account -->\n\t\t\t<template v-for=\"group in menu\">\n\t\t\t\t<NavigationAccount v-if=\"group.account\"\n\t\t\t\t\t:key=\"group.account.id\"\n\t\t\t\t\t:account=\"group.account\"\n\t\t\t\t\t:first-mailbox=\"group.mailboxes[0]\"\n\t\t\t\t\t:is-first=\"isFirst(group.account)\"\n\t\t\t\t\t:is-last=\"isLast(group.account)\"\n\t\t\t\t\t:is-disabled=\"isDisabled(group.account)\" />\n\t\t\t\t<template v-if=\"!isDisabled(group.account)\">\n\t\t\t\t\t<template v-for=\"item in group.mailboxes\">\n\t\t\t\t\t\t<NavigationMailbox v-show=\"\n\t\t\t\t\t\t\t\t!group.isCollapsible ||\n\t\t\t\t\t\t\t\t\t!group.account.collapsed ||\n\t\t\t\t\t\t\t\t\t!isCollapsed(group.account, item)\n\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\t:key=\"'mailbox-' + item.databaseId\"\n\t\t\t\t\t\t\t:account=\"group.account\"\n\t\t\t\t\t\t\t:mailbox=\"item\" />\n\t\t\t\t\t\t<NavigationMailbox v-if=\"!group.account.isUnified && item.specialRole === 'inbox'\"\n\t\t\t\t\t\t\t:key=\"item.databaseId + '-starred'\"\n\t\t\t\t\t\t\t:account=\"group.account\"\n\t\t\t\t\t\t\t:mailbox=\"item\"\n\t\t\t\t\t\t\tfilter=\"starred\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t<NavigationAccountExpandCollapse v-if=\"!group.account.isUnified && group.isCollapsible\"\n\t\t\t\t\t\t:key=\"'collapse-' + group.account.id\"\n\t\t\t\t\t\t:account=\"group.account\" />\n\t\t\t\t</template>\n\t\t\t</template>\n\t\t</template>\n\t\t<template #footer>\n\t\t\t<div v-if=\"outboxMessages.length !== 0\" class=\"outbox__border\">\n\t\t\t\t<NavigationOutbox class=\"outbox\" />\n\t\t\t</div>\n\t\t\t<div class=\"mail-settings\">\n\t\t\t\t<AppNavigationItem class=\"mail-settings__button\"\n\t\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t\t:name=\"t('mail', 'Mail settings')\"\n\t\t\t\t\t@click=\"showMailSettings\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<IconSetting :size=\"16\" />\n\t\t\t\t\t</template>\n\t\t\t\t</AppNavigationItem>\n\t\t\t</div>\n\t\t</template>\n\t\t<AppSettingsMenu :open.sync=\"showSettings\" />\n\t</AppNavigation>\n</template>\n\n<script>\nimport { NcAppNavigation as AppNavigation, NcAppNavigationItem as AppNavigationItem } from '@nextcloud/vue'\nimport NewMessageButtonHeader from './NewMessageButtonHeader.vue'\n\nimport NavigationAccount from './NavigationAccount.vue'\nimport NavigationAccountExpandCollapse from './NavigationAccountExpandCollapse.vue'\nimport NavigationMailbox from './NavigationMailbox.vue'\nimport NavigationOutbox from './NavigationOutbox.vue'\nimport IconSetting from 'vue-material-design-icons/Cog.vue'\nimport AppSettingsMenu from '../components/AppSettingsMenu.vue'\nimport { UNIFIED_ACCOUNT_ID } from '../store/constants.js'\nimport useOutboxStore from '../store/outboxStore.js'\nimport useMainStore from '../store/mainStore.js'\nimport { mapStores } from 'pinia'\n\nexport default {\n\tname: 'Navigation',\n\tcomponents: {\n\t\tAppNavigation,\n\t\tAppSettingsMenu,\n\t\tNavigationAccount,\n\t\tNavigationAccountExpandCollapse,\n\t\tNavigationMailbox,\n\t\tNavigationOutbox,\n\t\tNewMessageButtonHeader,\n\t\tIconSetting,\n\t\tAppNavigationItem,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\trefreshing: false,\n\t\t\tshowSettings: false,\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapStores(useOutboxStore, useMainStore),\n\t\tmenu() {\n\t\t\treturn this.mainStore.getAccounts\n\t\t\t\t.filter(account => account.id !== UNIFIED_ACCOUNT_ID)\n\t\t\t\t.map(account => {\n\t\t\t\t\tconst mailboxes = this.mainStore.getMailboxes(account.id)\n\t\t\t\t\tconst nonSpecialRoleMailboxes = mailboxes.filter(\n\t\t\t\t\t\t(mailbox) => this.isCollapsed(account, mailbox),\n\t\t\t\t\t)\n\t\t\t\t\tconst isCollapsible = nonSpecialRoleMailboxes.length > 1\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\tid: account.id,\n\t\t\t\t\t\taccount,\n\t\t\t\t\t\tmailboxes,\n\t\t\t\t\t\tisCollapsible,\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t},\n\t\tunifiedAccount() {\n\t\t\treturn this.mainStore.getAccount(UNIFIED_ACCOUNT_ID)\n\t\t},\n\t\tunifiedMailboxes() {\n\t\t\treturn this.mainStore.getMailboxes(UNIFIED_ACCOUNT_ID)\n\t\t},\n\t\t/**\n\t\t * Whether the current session is using passwordless authentication.\n\t\t *\n\t\t * @return {boolean}\n\t\t */\n\t\tpasswordIsUnavailable() {\n\t\t\treturn this.mainStore.getPreference('password-is-unavailable', false)\n\t\t},\n\t\toutboxMessages() {\n\t\t\treturn this.outboxStore.getAllMessages\n\t\t},\n\t},\n\tmethods: {\n\t\tshowMailSettings() {\n\t\t\tthis.showSettings = true\n\t\t},\n\t\tisCollapsed(account, mailbox) {\n\t\t\tif (mailbox.specialRole === 'inbox') {\n\t\t\t\t// INBOX is always visible\n\t\t\t\treturn false\n\t\t\t}\n\n\t\t\tif (mailbox.databaseId === account.draftsMailboxId\n\t\t\t\t|| mailbox.databaseId === account.sentMailboxId\n\t\t\t\t|| mailbox.databaseId === account.trashMailboxId) {\n\t\t\t\t// Special folders are always visible\n\t\t\t\treturn false\n\t\t\t}\n\n\t\t\treturn true\n\t\t},\n\t\tisFirst(account) {\n\t\t\tconst accounts = this.mainStore.getAccounts\n\t\t\treturn account === accounts[1]\n\t\t},\n\t\tisLast(account) {\n\t\t\tconst accounts = this.mainStore.getAccounts\n\t\t\treturn account === accounts[accounts.length - 1]\n\t\t},\n\t\t/**\n\t\t * Disable provisioned accounts when no password is available.\n\t\t * Loading messages of those accounts will fail and an endless spinner will be shown.\n\t\t *\n\t\t * @param {object} account Account object\n\t\t * @return {boolean} True if the account should be disabled\n\t\t */\n\t\tisDisabled(account) {\n\n\t\t\treturn (this.passwordIsUnavailable && !!account.provisioningId) && !!this.mainStore.masterPasswordEnabled\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@keyframes rotation {\nfrom {\n\ttransform: rotate(-0deg);\n}\nto {\n\t\ttransform: rotate(-360deg);\n\t}\n}\n.outbox {\n\tpadding: calc(var(--default-grid-baseline, 4px) * 2);\n\tpadding-bottom: 0;\n\n\twidth: auto;\n\t&__border {\n\t\tborder-top: 1px solid var(--color-background-darker);\n\t}\n}\n.mail-settings {\n\tpadding: calc(var(--default-grid-baseline, 4px) * 2);\n\tpadding-top: 0;\n\n\t&__button {\n\t\tdisplay: flex;\n\t\twidth: 100% !important;\n\t\tjustify-content: start !important;\n\t}\n}\n\n.v-popper__inner {\n\theight: unset !important;\n}\n\n</style>\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Navigation.vue?vue&type=style&index=0&id=6762f534&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Navigation.vue?vue&type=style&index=0&id=6762f534&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Navigation.vue?vue&type=template&id=6762f534&scoped=true\"\nimport script from \"./Navigation.vue?vue&type=script&lang=js\"\nexport * from \"./Navigation.vue?vue&type=script&lang=js\"\nimport style0 from \"./Navigation.vue?vue&type=style&index=0&id=6762f534&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6762f534\",\n  null\n  \n)\n\nexport default component.exports","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.button-vue[data-v-0cf1c097] {display:inline-block !important}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/TrustedSenders.vue\"],\"names\":[],\"mappings\":\"AACA,8BACC,+BAAA\",\"sourcesContent\":[\"\\n.button-vue:deep() {\\n\\tdisplay: inline-block !important;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.address[data-v-39d85f9a]{display:flex;align-items:center}.address__type[data-v-39d85f9a]{color:var(--color-text-maxcontrast)}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/InternalAddress.vue\"],\"names\":[],\"mappings\":\"AACA,0BACC,YAAA,CACA,kBAAA,CACA,gCACC,mCAAA\",\"sourcesContent\":[\"\\n.address {\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\t&__type{\\n\\t\\tcolor: var(--color-text-maxcontrast);\\n\\t}\\n}\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"header\"},[_c('ButtonVue',{attrs:{\"aria-label\":_vm.t('mail', 'New message'),\"type\":\"secondary\",\"button-id\":\"mail_new_message\",\"role\":\"complementary\",\"wide\":true},on:{\"click\":_vm.onNewMessage},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconAdd',{attrs:{\"size\":16}})]},proxy:true}])},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('mail', 'New message'))+\"\\n\\t\")]),_vm._v(\" \"),(_vm.currentMailbox)?_c('ButtonVue',{staticClass:\"refresh__button\",attrs:{\"aria-label\":_vm.t('mail', 'Refresh'),\"type\":\"tertiary-no-background\",\"disabled\":_vm.refreshing},on:{\"click\":_vm.refreshMailbox},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [(!_vm.refreshing)?_c('IconRefresh',{attrs:{\"size\":16}}):_vm._e(),_vm._v(\" \"),(_vm.refreshing)?_c('IconLoading',{attrs:{\"size\":16}}):_vm._e()]},proxy:true}],null,false,2775302732)}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<div class=\"header\">\n\t\t<ButtonVue :aria-label=\"t('mail', 'New message')\"\n\t\t\ttype=\"secondary\"\n\t\t\tbutton-id=\"mail_new_message\"\n\t\t\trole=\"complementary\"\n\t\t\t:wide=\"true\"\n\t\t\t@click=\"onNewMessage\">\n\t\t\t<template #icon>\n\t\t\t\t<IconAdd :size=\"16\" />\n\t\t\t</template>\n\t\t\t{{ t('mail', 'New message') }}\n\t\t</ButtonVue>\n\t\t<ButtonVue v-if=\"currentMailbox\"\n\t\t\t:aria-label=\"t('mail', 'Refresh')\"\n\t\t\ttype=\"tertiary-no-background\"\n\t\t\tclass=\"refresh__button\"\n\t\t\t:disabled=\"refreshing\"\n\t\t\t@click=\"refreshMailbox\">\n\t\t\t<template #icon>\n\t\t\t\t<IconRefresh v-if=\"!refreshing\"\n\t\t\t\t\t:size=\"16\" />\n\t\t\t\t<IconLoading v-if=\"refreshing\"\n\t\t\t\t\t:size=\"16\" />\n\t\t\t</template>\n\t\t</ButtonVue>\n\t</div>\n</template>\n\n<script>\nimport { NcButton as ButtonVue } from '@nextcloud/vue'\nimport IconAdd from 'vue-material-design-icons/Plus.vue'\nimport IconRefresh from 'vue-material-design-icons/Refresh.vue'\nimport IconLoading from '@nextcloud/vue/components/NcLoadingIcon'\nimport logger from '../logger.js'\nimport { mapStores } from 'pinia'\nimport useMainStore from '../store/mainStore.js'\n\nexport default {\n\tname: 'NewMessageButtonHeader',\n\tcomponents: {\n\t\tButtonVue,\n\t\tIconAdd,\n\t\tIconRefresh,\n\t\tIconLoading,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\trefreshing: false,\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapStores(useMainStore),\n\t\tcurrentMailbox() {\n\t\t\tif (this.$route.name === 'message' || this.$route.name === 'mailbox') {\n\t\t\t\treturn this.mainStore.getMailbox(this.$route.params.mailboxId)\n\t\t\t}\n\t\t\treturn undefined\n\t\t},\n\t},\n\tmethods: {\n\t\tasync refreshMailbox() {\n\t\t\tif (this.refreshing === true) {\n\t\t\t\tlogger.debug('already sync\\'ing mailbox.. aborting')\n\t\t\t\treturn\n\t\t\t}\n\t\t\tthis.refreshing = true\n\t\t\ttry {\n\t\t\t\tawait this.mainStore.syncEnvelopes({ mailboxId: this.currentMailbox.databaseId })\n\t\t\t\tlogger.debug('Current mailbox is sync\\'ing ')\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error('could not sync current mailbox', { error })\n\t\t\t} finally {\n\t\t\t\tthis.refreshing = false\n\t\t\t}\n\t\t},\n\t\tasync onNewMessage() {\n\t\t\tawait this.mainStore.startComposerSession({\n\t\t\t\tisBlankMessage: true,\n\t\t\t})\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.header {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tpadding: calc(var(--default-grid-baseline, 4px) * 2);\n\tgap: var(--default-grid-baseline);\n}\n.refresh__button {\n\tbackground-color: transparent;\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewMessageButtonHeader.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewMessageButtonHeader.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewMessageButtonHeader.vue?vue&type=style&index=0&id=682ee4b3&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewMessageButtonHeader.vue?vue&type=style&index=0&id=682ee4b3&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./NewMessageButtonHeader.vue?vue&type=template&id=682ee4b3&scoped=true\"\nimport script from \"./NewMessageButtonHeader.vue?vue&type=script&lang=js\"\nexport * from \"./NewMessageButtonHeader.vue?vue&type=script&lang=js\"\nimport style0 from \"./NewMessageButtonHeader.vue?vue&type=style&index=0&id=682ee4b3&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"682ee4b3\",\n  null\n  \n)\n\nexport default component.exports","/**\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\n/**\n * @param {object} mailbox object\n * @param {string} rights list of rights to check\n * @return {boolean}\n */\nexport function mailboxHasRights(mailbox, rights) {\n\tif (!mailbox.myAcls) {\n\t\treturn true\n\t}\n\n\tconst acls = [...mailbox.myAcls]\n\n\tfor (const right of [...rights]) {\n\t\tif (!acls.includes(right)) {\n\t\t\treturn false\n\t\t}\n\t}\n\n\treturn true\n}\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.counter-bubble__counter[data-v-573bab89]{max-width:initial}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/NavigationMailbox.vue\"],\"names\":[],\"mappings\":\"AACA,0CACC,iBAAA\",\"sourcesContent\":[\"\\n.counter-bubble__counter {\\n\\tmax-width: initial;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","/**\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport mitt from 'mitt'\nconst dragEventBus = mitt()\nexport default dragEventBus\n","/**\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport { generateUrl } from '@nextcloud/router'\nimport axios from '@nextcloud/axios'\n\nexport async function trustSender(email, type, trustFlag) {\n\tconst url = generateUrl('/apps/mail/api/trustedsenders/{email}?type={type}', {\n\t\temail,\n\t\ttype,\n\t})\n\n\tif (trustFlag) {\n\t\tawait axios.put(url)\n\t} else {\n\t\tawait axios.delete(url)\n\t}\n}\nexport async function fetchTrustedSenders() {\n\tconst url = generateUrl('/apps/mail/api/trustedsenders')\n\tconst response = await axios.get(url)\n\treturn response.data.data\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('Modal',{on:{\"close\":_vm.onClose}},[_c('div',{ref:\"content\",staticClass:\"modal-content\"},[_c('h2',{staticClass:\"oc-dialog-title\"},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Choose target mailbox'))+\"\\n\\t\\t\")]),_vm._v(\" \"),_c('span',{staticClass:\"crumbs\"},[_c('div',{on:{\"click\":function($event){$event.preventDefault();return _vm.onClickHome.apply(null, arguments)}}},[_c('IconInbox',{attrs:{\"size\":16}})],1),_vm._v(\" \"),_vm._l((_vm.mailboxCrumbs),function(box,index){return _c('div',{key:box.databaseId,staticClass:\"level\"},[_c('IconBreadcrumb',{attrs:{\"size\":16}}),_vm._v(\" \"),_c('a',{on:{\"click\":function($event){$event.preventDefault();return _vm.onClickCrumb(index)}}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.getMailboxTitle(box))+\"\\n\\t\\t\\t\\t\")])],1)})],2),_vm._v(\" \"),_c('div',{staticClass:\"mailbox-list\"},[(_vm.filteredMailboxes.length > 0)?_c('ul',_vm._l((_vm.filteredMailboxes),function(box){return _c('li',{key:box.databaseId,on:{\"click\":function($event){$event.preventDefault();return _vm.onClickMailbox(box)}}},[(box.specialRole === 'inbox')?_c('IconInbox',{attrs:{\"size\":16}}):(box.specialRole === 'drafts')?_c('IconDraft',{attrs:{\"size\":16}}):(box.specialRole === 'sent')?_c('IconSent',{attrs:{\"size\":16}}):(box.specialRole === 'archive')?_c('IconArchive',{attrs:{\"size\":16}}):(box.specialRole === 'trash')?_c('IconTrash',{attrs:{\"size\":16}}):_c('IconFolder',{attrs:{\"size\":16}}),_vm._v(\" \"),_c('div',{staticClass:\"mailbox-title\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.getMailboxTitle(box))+\"\\n\\t\\t\\t\\t\\t\")])],1)}),0):_c('IconFolder',{attrs:{\"size\":65}}),_vm._v(\" \"),_c('div',{staticClass:\"empty-icon empty\"}),_vm._v(\" \"),_c('h2',[_vm._v(_vm._s(_vm.t('mail', 'No more submailboxes in here')))])],1),_vm._v(\" \"),_c('div',{staticClass:\"buttons\"},[_c('ButtonVue',{attrs:{\"type\":\"primary\",\"disabled\":_vm.loading || (!_vm.allowRoot && !_vm.selectedMailboxId),\"aria-label\":_vm.loading ? _vm.labelSelectLoading : _vm.labelSelect},on:{\"click\":_vm.onSelect},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [(_vm.loading)?_c('IconLoading',{attrs:{\"size\":16}}):_vm._e()]},proxy:true}])},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.loading ? _vm.labelSelectLoading : _vm.labelSelect)+\"\\n\\t\\t\\t\")])],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<Modal @close=\"onClose\">\n\t\t<div ref=\"content\" class=\"modal-content\">\n\t\t\t<h2 class=\"oc-dialog-title\">\n\t\t\t\t{{ t('mail', 'Choose target mailbox') }}\n\t\t\t</h2>\n\t\t\t<span class=\"crumbs\">\n\t\t\t\t<div @click.prevent=\"onClickHome\">\n\t\t\t\t\t<IconInbox :size=\"16\" />\n\t\t\t\t</div>\n\t\t\t\t<div v-for=\"(box, index) in mailboxCrumbs\"\n\t\t\t\t\t:key=\"box.databaseId\"\n\t\t\t\t\tclass=\"level\">\n\t\t\t\t\t<IconBreadcrumb :size=\"16\" />\n\t\t\t\t\t<a @click.prevent=\"onClickCrumb(index)\">\n\t\t\t\t\t\t{{ getMailboxTitle(box) }}\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</span>\n\t\t\t<div class=\"mailbox-list\">\n\t\t\t\t<ul v-if=\"filteredMailboxes.length > 0\">\n\t\t\t\t\t<li v-for=\"box in filteredMailboxes \"\n\t\t\t\t\t\t:key=\"box.databaseId\"\n\t\t\t\t\t\t@click.prevent=\"onClickMailbox(box)\">\n\t\t\t\t\t\t<IconInbox v-if=\"box.specialRole === 'inbox'\" :size=\"16\" />\n\t\t\t\t\t\t<IconDraft v-else-if=\"box.specialRole === 'drafts'\"\n\t\t\t\t\t\t\t:size=\"16\" />\n\t\t\t\t\t\t<IconSent v-else-if=\"box.specialRole === 'sent'\"\n\t\t\t\t\t\t\t:size=\"16\" />\n\t\t\t\t\t\t<IconArchive v-else-if=\"box.specialRole === 'archive'\"\n\t\t\t\t\t\t\t:size=\"16\" />\n\t\t\t\t\t\t<IconTrash v-else-if=\"box.specialRole === 'trash'\"\n\t\t\t\t\t\t\t:size=\"16\" />\n\t\t\t\t\t\t<IconFolder v-else\n\t\t\t\t\t\t\t:size=\"16\" />\n\t\t\t\t\t\t<div class=\"mailbox-title\">\n\t\t\t\t\t\t\t{{ getMailboxTitle(box) }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t\t<IconFolder v-else :size=\"65\" />\n\t\t\t\t<div class=\"empty-icon empty\" />\n\t\t\t\t<h2>{{ t('mail', 'No more submailboxes in here') }}</h2>\n\t\t\t</div>\n\t\t\t<div class=\"buttons\">\n\t\t\t\t<ButtonVue type=\"primary\"\n\t\t\t\t\t:disabled=\"loading || (!allowRoot && !selectedMailboxId)\"\n\t\t\t\t\t:aria-label=\"loading ? labelSelectLoading : labelSelect\"\n\t\t\t\t\t@click=\"onSelect\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<IconLoading v-if=\"loading\" :size=\"16\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ loading ? labelSelectLoading : labelSelect }}\n\t\t\t\t</ButtonVue>\n\t\t\t</div>\n\t\t</div>\n\t</Modal>\n</template>\n<script>\nimport { NcModal as Modal, NcLoadingIcon as IconLoading, NcButton as ButtonVue } from '@nextcloud/vue'\nimport IconBreadcrumb from 'vue-material-design-icons/ChevronRight.vue'\nimport IconInbox from 'vue-material-design-icons/Home.vue'\nimport IconDraft from 'vue-material-design-icons/Pencil.vue'\nimport IconSent from 'vue-material-design-icons/Send.vue'\nimport IconArchive from 'vue-material-design-icons/PackageDown.vue'\nimport IconTrash from 'vue-material-design-icons/Delete.vue'\nimport IconFolder from 'vue-material-design-icons/Folder.vue'\n\nimport { translate as t } from '@nextcloud/l10n'\nimport { translate as translateMailboxName } from '../i18n/MailboxTranslator.js'\nimport { mailboxHasRights } from '../util/acl.js'\nimport { mapStores } from 'pinia'\nimport useMainStore from '../store/mainStore.js'\n\nexport default {\n\tname: 'MailboxPicker',\n\tcomponents: {\n\t\tButtonVue,\n\t\tModal,\n\t\tIconInbox,\n\t\tIconDraft,\n\t\tIconSent,\n\t\tIconArchive,\n\t\tIconTrash,\n\t\tIconFolder,\n\t\tIconBreadcrumb,\n\t\tIconLoading,\n\t},\n\tprops: {\n\t\taccount: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tselected: {\n\t\t\ttype: Number,\n\t\t\trequired: false,\n\t\t\tdefault: undefined,\n\t\t},\n\t\tloading: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t\tdefault: false,\n\t\t},\n\t\tlabelSelect: {\n\t\t\ttype: String,\n\t\t\tdefault: t('mail', 'Choose'),\n\t\t},\n\t\tlabelSelectLoading: {\n\t\t\ttype: String,\n\t\t\tdefault: t('mail', 'Choose'),\n\t\t},\n\t\tpickedMailbox: {\n\t\t\ttype: Object,\n\t\t\trequired: false,\n\t\t\tdefault: () => undefined,\n\t\t},\n\t\tallowRoot: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tselectedMailboxId: undefined,\n\t\t\tmailboxCrumbs: [],\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapStores(useMainStore),\n\t\tmailboxes() {\n\t\t\tif (!this.selectedMailboxId) {\n\t\t\t\treturn this.mainStore.getMailboxes(this.account.accountId)\n\t\t\t} else {\n\t\t\t\treturn this.mainStore.getSubMailboxes(this.selectedMailboxId)\n\t\t\t}\n\t\t},\n\t\tfilteredMailboxes() {\n\t\t\tif (this.pickedMailbox) {\n\t\t\t\treturn this.mailboxes.filter(mailbox => mailbox.databaseId !== this.pickedMailbox.databaseId && mailboxHasRights(mailbox, 'k'))\n\t\t\t}\n\t\t\treturn this.mailboxes.filter(mailbox => mailboxHasRights(mailbox, 'i'))\n\t\t},\n\t},\n\tmethods: {\n\t\tgetMailboxIcon(mailbox) {\n\t\t\treturn mailbox.specialRole ? 'icon-' + mailbox.specialRole : 'icon-folder'\n\t\t},\n\t\tgetMailboxTitle(mailbox) {\n\t\t\treturn translateMailboxName(mailbox)\n\t\t},\n\t\tonClickHome() {\n\t\t\tthis.selectedMailboxId = undefined\n\t\t\tthis.$emit('update:selected', undefined)\n\t\t\tthis.mailboxCrumbs = []\n\t\t},\n\t\tonClickCrumb(index) {\n\t\t\tthis.selectedMailboxId = this.mailboxCrumbs[index].databaseId\n\t\t\tthis.$emit('update:selected', this.selectedMailboxId)\n\t\t\tthis.mailboxCrumbs = this.mailboxCrumbs.slice(0, index + 1)\n\t\t},\n\t\tonClickMailbox(mailbox) {\n\t\t\tthis.selectedMailboxId = mailbox.databaseId\n\t\t\tthis.$emit('update:selected', this.selectedMailboxId)\n\t\t\tthis.mailboxCrumbs.push(mailbox)\n\t\t},\n\t\tonSelect() {\n\t\t\tthis.$emit('select', this.selectedMailboxId)\n\t\t},\n\t\tonClose() {\n\t\t\tthis.$emit('close')\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n:deep(.modal-container) {\n\twidth: calc(100vw - 120px) !important;\n\theight: calc(100vh - 120px) !important;\n\tmax-width: 600px !important;\n\tmax-height: 500px !important;\n}\n\n.modal-content {\n\tdisplay: flex;\n\tbox-sizing: border-box;\n\twidth: 100%;\n\theight: 100%;\n\tflex-direction: column;\n\tpadding: calc(var(--default-grid-baseline) * 4);\n}\n\n.crumbs {\n\tdisplay: inline-flex;\n\tpadding-right: 0;\n\tflex-wrap: wrap;\n\n\t.level {\n\t\tdisplay: inline-flex;\n\t\theight: 44px;\n\t\tmin-width: 0px;\n\t\tflex: 0 0 auto;\n\t\torder: 1;\n\t\tpadding-right: calc(var(--default-grid-baseline) * 2);\n\t\tbackground-position: right center;\n\t\tbackground-size: auto 24px;\n\t\tmargin-top: calc(var(--default-grid-baseline) * -2.5);\n\t}\n\n\ta {\n\t\tposition: relative;\n\t\tpadding: calc(var(--default-grid-baseline) * 3);\n\t\topacity: 0.5;\n\t\ttext-overflow: ellipsis;\n\t\twhite-space: nowrap;\n\t\toverflow: hidden;\n\t\tflex: 0 0 auto;\n\t\tmin-width: 0px;\n\t\tmax-width: 200px;\n\n\t\t&:hover {\n\t\t\topacity: 0.7;\n\t\t}\n\t}\n\n\ta.icon-home {\n\t\twidth: 0px;\n\t\tbackground-position: left center;\n\t}\n}\n\n.mailbox-list {\n\tdisplay: inline-block;\n\twidth: 100%;\n\theight: 100%;\n\toverflow-y: auto;\n\tflex: 1;\n\n\tli {\n\t\tdisplay: flex;\n\t\tcursor: pointer;\n\n\t\t&:hover {\n\t\t\tbackground-color: var(--color-background-hover);\n\t\t}\n\n\t\t&:not(:last-child) {\n\t\t\tborder-bottom: var(--border-width-input) solid var(--color-border);\n\t\t}\n\t}\n\n\th2 {\n\t\twidth: 100%;\n\t\tcolor: var(--color-text-maxcontrast);\n\t\ttext-align: center;\n\t\tmargin-top: 80px;\n\t\topacity: 0.4;\n\t\tbackground-size: 64px;\n\t\theight: 64px;\n\t}\n\n\t.mailbox-icon {\n\t\twidth: 24px;\n\t\theight: 24px;\n\t\tpadding: calc(var(--default-grid-baseline) * 3);\n\t\topacity: 0.9;\n\t\tbackground-size: 24px;\n\t}\n\n\t.mailbox-title {\n\t\tpadding: calc(var(--default-grid-baseline) * 3) calc(var(--default-grid-baseline) * 3) calc(var(--default-grid-baseline) * 3) 0;\n\t\tflex: 1;\n\t\toverflow: hidden;\n\t\twhite-space: nowrap;\n\t\ttext-overflow: ellipsis;\n\t}\n}\n\n.buttons {\n\tdisplay: flex;\n\tjustify-content: flex-end;\n\tpadding-top: calc(var(--default-grid-baseline) * 2);\n\n\t.spinner {\n\t\tmargin-right: var(--default-grid-baseline);\n\t}\n}\n.material-design-icon {\n\topacity: .7;\n\tmargin-right: calc(var(--default-grid-baseline) * 1.5);\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MailboxPicker.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MailboxPicker.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MailboxPicker.vue?vue&type=style&index=0&id=947a7176&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MailboxPicker.vue?vue&type=style&index=0&id=947a7176&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./MailboxPicker.vue?vue&type=template&id=947a7176&scoped=true\"\nimport script from \"./MailboxPicker.vue?vue&type=script&lang=js\"\nexport * from \"./MailboxPicker.vue?vue&type=script&lang=js\"\nimport style0 from \"./MailboxPicker.vue?vue&type=style&index=0&id=947a7176&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"947a7176\",\n  null\n  \n)\n\nexport default component.exports","/**\n * SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport { translate as t } from '@nextcloud/l10n'\n\nconst translateSpecial = (mailbox) => {\n\tif (mailbox.specialUse.includes('all')) {\n\t\t// TRANSLATORS: translated mail box name\n\t\treturn t('mail', 'All')\n\t}\n\tif (mailbox.specialUse.includes('archive')) {\n\t\t// TRANSLATORS: translated mail box name\n\t\treturn t('mail', 'Archive')\n\t}\n\tif (mailbox.specialUse.includes('drafts')) {\n\t\t// TRANSLATORS: translated mail box name\n\t\treturn t('mail', 'Drafts')\n\t}\n\tif (mailbox.specialUse.includes('flagged')) {\n\t\t// TRANSLATORS: translated mail box name\n\t\treturn t('mail', 'Favorites')\n\t}\n\tif (mailbox.specialUse.includes('inbox')) {\n\t\tif (mailbox.isPriorityInbox) {\n\t\t\t// TRANSLATORS: translated mail box name\n\t\t\treturn t('mail', 'Priority inbox')\n\t\t} else if (mailbox.isUnified) {\n\t\t\t// TRANSLATORS: translated mail box name\n\t\t\treturn t('mail', 'All inboxes')\n\t\t} else {\n\t\t\t// TRANSLATORS: translated mail box name\n\t\t\treturn t('mail', 'Inbox')\n\t\t}\n\t}\n\tif (mailbox.specialUse.includes('junk')) {\n\t\t// TRANSLATORS: translated mail box name\n\t\treturn t('mail', 'Junk')\n\t}\n\tif (mailbox.specialUse.includes('sent')) {\n\t\t// TRANSLATORS: translated mail box name\n\t\treturn t('mail', 'Sent')\n\t}\n\tif (mailbox.specialUse.includes('trash')) {\n\t\t// TRANSLATORS: translated mail box name\n\t\treturn t('mail', 'Trash')\n\t}\n\tthrow new Error(`unknown special use ${mailbox.specialUse}`)\n}\n\nexport const translate = (mailbox) => {\n\tif (mailbox.specialUse.length > 0) {\n\t\ttry {\n\t\t\treturn translateSpecial(mailbox)\n\t\t} catch (e) {\n\t\t\tconsole.error('could not translate special mailbox', e)\n\t\t}\n\t}\n\treturn mailbox.displayName\n}\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `p.app-settings span.loading-icon[data-v-442b0fb5]{display:inline-block;vertical-align:middle;padding:var(--default-grid-baseline) 0}p.app-settings[data-v-442b0fb5]{padding:calc(var(--default-grid-baseline)*2) 0}.app-settings-button[data-v-442b0fb5]{display:inline-flex;background-position:10px center;text-align:left;margin-top:calc(var(--default-grid-baseline)*2)}.app-settings-button.button.primary.new-button[data-v-442b0fb5]{color:var(--color-primary-element-text);padding-left:34px;gap:var(--default-grid-baseline);width:fit-content}.app-settings-link[data-v-442b0fb5]{text-decoration:underline}[data-v-442b0fb5] .button-vue__text{text-overflow:clip;white-space:normal}[data-v-442b0fb5] .button-vue__wrapper{justify-content:flex-start}.mailvelope-section[data-v-442b0fb5]{padding-top:calc(var(--default-grid-baseline)*4)}.mailvelope-section a.button[data-v-442b0fb5]{display:flex;align-items:center;line-height:normal;min-height:calc(var(--default-grid-baseline)*11);font-size:unset}.mailvelope-section a.button[data-v-442b0fb5]:focus-visible,.mailvelope-section a.button[data-v-442b0fb5]:hover{box-shadow:0 0 0 1px var(--color-primary-element)}.material-design-icon.lock-icon[data-v-442b0fb5]{margin-right:calc(var(--default-grid-baseline)*2)}.section-title[data-v-442b0fb5]{margin-top:calc(var(--default-grid-baseline)*5);margin-bottom:calc(var(--default-grid-baseline)*2)}.sorting[data-v-442b0fb5]{display:flex;width:100%}.sorting__switch[data-v-442b0fb5]{width:50%}.mail-creation-button[data-v-442b0fb5]{width:100%}.settings-hint[data-v-442b0fb5]{margin-top:calc(var(--default-grid-baseline)*-3);margin-bottom:calc(var(--default-grid-baseline)*2);color:var(--color-text-maxcontrast)}.app-settings-section[data-v-442b0fb5]{list-style:none}.internal_address[data-v-442b0fb5]{margin-left:3px}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/AppSettingsMenu.vue\"],\"names\":[],\"mappings\":\"AACA,kDACC,oBAAA,CACA,qBAAA,CACA,sCAAA,CAED,gCACC,8CAAA,CAED,sCACC,mBAAA,CACA,+BAAA,CACA,eAAA,CACA,+CAAA,CAED,gEACC,uCAAA,CAEA,iBAAA,CACA,gCAAA,CACA,iBAAA,CAED,oCACC,yBAAA,CAED,oCACC,kBAAA,CACA,kBAAA,CAED,uCACC,0BAAA,CAED,qCACC,gDAAA,CAEA,8CACC,YAAA,CACA,kBAAA,CACA,kBAAA,CACA,gDAAA,CACA,eAAA,CAEA,gHAEC,iDAAA,CAKF,iDACC,iDAAA,CAIF,gCACC,+CAAA,CACA,kDAAA,CAED,0BACC,YAAA,CACA,UAAA,CACA,kCACC,SAAA,CAGF,uCACC,UAAA,CAED,gCACC,gDAAA,CACA,kDAAA,CACA,mCAAA,CAED,uCACC,eAAA,CAGD,mCACC,eAAA\",\"sourcesContent\":[\"\\np.app-settings span.loading-icon {\\n\\tdisplay: inline-block;\\n\\tvertical-align: middle;\\n\\tpadding: var(--default-grid-baseline) 0;\\n}\\np.app-settings {\\n\\tpadding: calc(var(--default-grid-baseline) * 2) 0;\\n}\\n.app-settings-button {\\n\\tdisplay: inline-flex;\\n\\tbackground-position: 10px center;\\n\\ttext-align: left;\\n\\tmargin-top: calc(var(--default-grid-baseline) * 2);\\n}\\n.app-settings-button.button.primary.new-button {\\n\\tcolor: var(--color-primary-element-text);\\n\\t//this style will be removed after we migrate also the  'add mail account' to material design\\n\\tpadding-left: 34px;\\n\\tgap: var(--default-grid-baseline);\\n\\twidth: fit-content;\\n}\\n.app-settings-link {\\n\\ttext-decoration: underline;\\n}\\n:deep(.button-vue__text) {\\n\\ttext-overflow: clip;\\n\\twhite-space: normal;\\n}\\n:deep(.button-vue__wrapper) {\\n\\tjustify-content: flex-start;\\n}\\n.mailvelope-section {\\n\\tpadding-top: calc(var(--default-grid-baseline) * 4);\\n\\n\\ta.button {\\n\\t\\tdisplay: flex;\\n\\t\\talign-items: center;\\n\\t\\tline-height: normal;\\n\\t\\tmin-height: calc(var(--default-grid-baseline) * 11);\\n\\t\\tfont-size: unset;\\n\\n\\t\\t&:focus-visible,\\n\\t\\t&:hover {\\n\\t\\t\\tbox-shadow: 0 0 0 1px var(--color-primary-element);\\n\\t\\t}\\n\\t}\\n}\\n.material-design-icon {\\n\\t&.lock-icon {\\n\\t\\tmargin-right: calc(var(--default-grid-baseline) * 2);\\n\\t}\\n\\n}\\n.section-title {\\n\\tmargin-top: calc(var(--default-grid-baseline) * 5);\\n\\tmargin-bottom: calc(var(--default-grid-baseline) * 2);\\n}\\n.sorting {\\n\\tdisplay: flex;\\n\\twidth: 100%;\\n\\t&__switch{\\n\\t\\twidth: 50%;\\n\\t}\\n}\\n.mail-creation-button {\\n\\twidth: 100%;\\n}\\n.settings-hint {\\n\\tmargin-top: calc(var(--default-grid-baseline) * -3);\\n\\tmargin-bottom: calc(var(--default-grid-baseline) * 2);\\n\\tcolor: var(--color-text-maxcontrast);\\n}\\n.app-settings-section {\\n\\tlist-style: none;\\n}\\n// align it with the checkbox\\n.internal_address{\\n\\tmargin-left: 3px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.empty-content[data-v-491f7784]{height:100%;display:flex}.certificate-modal[data-v-491f7784]{padding:calc(var(--default-grid-baseline)*5)}.certificate-modal__list table[data-v-491f7784]{table-layout:fixed;width:100%}.certificate-modal__list table th[data-v-491f7784]{color:var(--color-text-maxcontrast)}.certificate-modal__list table th[data-v-491f7784],.certificate-modal__list table td[data-v-491f7784]{padding:calc(var(--default-grid-baseline)*.5);text-overflow:ellipsis;white-space:nowrap;overflow:hidden;flex:5 1 0px}.certificate-modal__list table th[data-v-491f7784]:last-child,.certificate-modal__list table td[data-v-491f7784]:last-child{flex:1 1 0px}.certificate-modal__list table span[data-v-491f7784]{text-overflow:ellipsis}.certificate-modal__list table tr[data-v-491f7784]{display:flex;flex-direction:row;align-items:center}.certificate-modal__list table tr[data-v-491f7784]:hover{background-color:unset}.certificate-modal__list__actions[data-v-491f7784]{margin:calc(var(--default-grid-baseline)*3);float:right}.certificate-modal__import[data-v-491f7784]{display:flex;flex-direction:column;gap:calc(var(--default-grid-baseline)*2)}.certificate-modal__import input[type=file][data-v-491f7784]{display:flex;width:100%}.certificate-modal__import__type[data-v-491f7784]{display:flex;gap:0 calc(var(--default-grid-baseline)*5);flex-wrap:wrap}.certificate-modal__import__type>div[data-v-491f7784]{display:flex;gap:var(--default-grid-baseline);align-items:center}.certificate-modal__import__hints[data-v-491f7784]{color:var(--color-text-maxcontrast)}.certificate-modal__import__actions[data-v-491f7784]{display:flex;justify-content:space-between;gap:calc(var(--default-grid-baseline)*4)}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/smime/SmimeCertificateModal.vue\"],\"names\":[],\"mappings\":\"AACA,gCACC,WAAA,CACA,YAAA,CAED,oCACC,4CAAA,CAGC,gDACC,kBAAA,CACA,UAAA,CAEA,mDACC,mCAAA,CAGD,sGACC,6CAAA,CACA,sBAAA,CACA,kBAAA,CACA,eAAA,CACA,YAAA,CAGD,4HACC,YAAA,CAGD,qDACC,sBAAA,CAGD,mDACC,YAAA,CACA,kBAAA,CACA,kBAAA,CAID,yDACC,sBAAA,CAIF,mDACC,2CAAA,CACA,WAAA,CAIF,4CACC,YAAA,CACA,qBAAA,CACA,wCAAA,CAEA,6DACC,YAAA,CACA,UAAA,CAGD,kDACC,YAAA,CACA,0CAAA,CACA,cAAA,CAEA,sDACC,YAAA,CACA,gCAAA,CACA,kBAAA,CAIF,mDACC,mCAAA,CAGD,qDACC,YAAA,CACA,6BAAA,CACA,wCAAA\",\"sourcesContent\":[\"\\n.empty-content{\\n\\theight: 100%;\\n\\tdisplay: flex;\\n}\\n.certificate-modal {\\n\\tpadding: calc(var(--default-grid-baseline) * 5);\\n\\n\\t&__list {\\n\\t\\ttable {\\n\\t\\t\\ttable-layout: fixed;\\n\\t\\t\\twidth: 100%;\\n\\n\\t\\t\\tth {\\n\\t\\t\\t\\tcolor: var(--color-text-maxcontrast);\\n\\t\\t\\t}\\n\\n\\t\\t\\tth, td {\\n\\t\\t\\t\\tpadding: calc(var(--default-grid-baseline) * 0.5);\\n\\t\\t\\t\\ttext-overflow: ellipsis;\\n\\t\\t\\t\\twhite-space: nowrap;\\n\\t\\t\\t\\toverflow: hidden;\\n\\t\\t\\t\\tflex: 5 1 0px;\\n\\t\\t\\t}\\n\\n\\t\\t\\tth:last-child, td:last-child {\\n\\t\\t\\t\\tflex: 1 1 0px;\\n\\t\\t\\t}\\n\\n\\t\\t\\tspan {\\n\\t\\t\\t\\ttext-overflow: ellipsis;\\n\\t\\t\\t}\\n\\n\\t\\t\\ttr {\\n\\t\\t\\t\\tdisplay: flex;\\n\\t\\t\\t\\tflex-direction: row;\\n\\t\\t\\t\\talign-items: center;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Disable default hover style\\n\\t\\t\\ttr:hover {\\n\\t\\t\\t\\tbackground-color: unset;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t&__actions {\\n\\t\\t\\tmargin: calc(var(--default-grid-baseline) * 3);\\n\\t\\t\\tfloat: right;\\n\\t\\t}\\n\\t}\\n\\n\\t&__import {\\n\\t\\tdisplay: flex;\\n\\t\\tflex-direction: column;\\n\\t\\tgap: calc(var(--default-grid-baseline) * 2);\\n\\n\\t\\tinput[type=file] {\\n\\t\\t\\tdisplay: flex;\\n\\t\\t\\twidth: 100%;\\n\\t\\t}\\n\\n\\t\\t&__type {\\n\\t\\t\\tdisplay: flex;\\n\\t\\t\\tgap: 0 calc(var(--default-grid-baseline) * 5);\\n\\t\\t\\tflex-wrap: wrap;\\n\\n\\t\\t\\t> div {\\n\\t\\t\\t\\tdisplay: flex;\\n\\t\\t\\t\\tgap: var(--default-grid-baseline);\\n\\t\\t\\t\\talign-items: center;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t&__hints {\\n\\t\\t\\tcolor: var(--color-text-maxcontrast);\\n\\t\\t}\\n\\n\\t\\t&__actions {\\n\\t\\t\\tdisplay: flex;\\n\\t\\t\\tjustify-content: space-between;\\n\\t\\t\\tgap: calc(var(--default-grid-baseline) * 4);\\n\\t\\t}\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `[data-v-13e744b3] .app-navigation-entry__title{color:var(--color-text-maxcontrast)}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/NavigationAccountExpandCollapse.vue\"],\"names\":[],\"mappings\":\"AACA,+CACC,mCAAA\",\"sourcesContent\":[\"\\n:deep(.app-navigation-entry__title) {\\n\\tcolor: var(--color-text-maxcontrast);\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `@keyframes rotation-6762f534{from{transform:rotate(0deg)}to{transform:rotate(-360deg)}}.outbox[data-v-6762f534]{padding:calc(var(--default-grid-baseline, 4px)*2);padding-bottom:0;width:auto}.outbox__border[data-v-6762f534]{border-top:1px solid var(--color-background-darker)}.mail-settings[data-v-6762f534]{padding:calc(var(--default-grid-baseline, 4px)*2);padding-top:0}.mail-settings__button[data-v-6762f534]{display:flex;width:100% !important;justify-content:start !important}.v-popper__inner[data-v-6762f534]{height:unset !important}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/Navigation.vue\"],\"names\":[],\"mappings\":\"AACA,6BACA,KACC,sBAAA,CAED,GACE,yBAAA,CAAA,CAGF,yBACC,iDAAA,CACA,gBAAA,CAEA,UAAA,CACA,iCACC,mDAAA,CAGF,gCACC,iDAAA,CACA,aAAA,CAEA,wCACC,YAAA,CACA,qBAAA,CACA,gCAAA,CAIF,kCACC,uBAAA\",\"sourcesContent\":[\"\\n@keyframes rotation {\\nfrom {\\n\\ttransform: rotate(-0deg);\\n}\\nto {\\n\\t\\ttransform: rotate(-360deg);\\n\\t}\\n}\\n.outbox {\\n\\tpadding: calc(var(--default-grid-baseline, 4px) * 2);\\n\\tpadding-bottom: 0;\\n\\n\\twidth: auto;\\n\\t&__border {\\n\\t\\tborder-top: 1px solid var(--color-background-darker);\\n\\t}\\n}\\n.mail-settings {\\n\\tpadding: calc(var(--default-grid-baseline, 4px) * 2);\\n\\tpadding-top: 0;\\n\\n\\t&__button {\\n\\t\\tdisplay: flex;\\n\\t\\twidth: 100% !important;\\n\\t\\tjustify-content: start !important;\\n\\t}\\n}\\n\\n.v-popper__inner {\\n\\theight: unset !important;\\n}\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.header[data-v-682ee4b3]{display:flex;align-items:center;justify-content:space-between;padding:calc(var(--default-grid-baseline, 4px)*2);gap:var(--default-grid-baseline)}.refresh__button[data-v-682ee4b3]{background-color:rgba(0,0,0,0)}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/NewMessageButtonHeader.vue\"],\"names\":[],\"mappings\":\"AACA,yBACC,YAAA,CACA,kBAAA,CACA,6BAAA,CACA,iDAAA,CACA,gCAAA,CAED,kCACC,8BAAA\",\"sourcesContent\":[\"\\n.header {\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tjustify-content: space-between;\\n\\tpadding: calc(var(--default-grid-baseline, 4px) * 2);\\n\\tgap: var(--default-grid-baseline);\\n}\\n.refresh__button {\\n\\tbackground-color: transparent;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.dialog__actions{flex-wrap:wrap}.dialog__actions>button{flex:1 auto}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/NavigationAccount.vue\"],\"names\":[],\"mappings\":\"AAGC,iBACC,cAAA,CAEA,wBACC,WAAA\",\"sourcesContent\":[\"\\n// Fix very long button labels overflowing the modal\\n.dialog {\\n\\t&__actions {\\n\\t\\tflex-wrap: wrap;\\n\\n\\t\\t> button {\\n\\t\\t\\tflex: 1 auto;\\n\\t\\t}\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `[data-v-947a7176] .modal-container{width:calc(100vw - 120px) !important;height:calc(100vh - 120px) !important;max-width:600px !important;max-height:500px !important}.modal-content[data-v-947a7176]{display:flex;box-sizing:border-box;width:100%;height:100%;flex-direction:column;padding:calc(var(--default-grid-baseline)*4)}.crumbs[data-v-947a7176]{display:inline-flex;padding-right:0;flex-wrap:wrap}.crumbs .level[data-v-947a7176]{display:inline-flex;height:44px;min-width:0px;flex:0 0 auto;order:1;padding-right:calc(var(--default-grid-baseline)*2);background-position:right center;background-size:auto 24px;margin-top:calc(var(--default-grid-baseline)*-2.5)}.crumbs a[data-v-947a7176]{position:relative;padding:calc(var(--default-grid-baseline)*3);opacity:.5;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;flex:0 0 auto;min-width:0px;max-width:200px}.crumbs a[data-v-947a7176]:hover{opacity:.7}.crumbs a.icon-home[data-v-947a7176]{width:0px;background-position:left center}.mailbox-list[data-v-947a7176]{display:inline-block;width:100%;height:100%;overflow-y:auto;flex:1}.mailbox-list li[data-v-947a7176]{display:flex;cursor:pointer}.mailbox-list li[data-v-947a7176]:hover{background-color:var(--color-background-hover)}.mailbox-list li[data-v-947a7176]:not(:last-child){border-bottom:var(--border-width-input) solid var(--color-border)}.mailbox-list h2[data-v-947a7176]{width:100%;color:var(--color-text-maxcontrast);text-align:center;margin-top:80px;opacity:.4;background-size:64px;height:64px}.mailbox-list .mailbox-icon[data-v-947a7176]{width:24px;height:24px;padding:calc(var(--default-grid-baseline)*3);opacity:.9;background-size:24px}.mailbox-list .mailbox-title[data-v-947a7176]{padding:calc(var(--default-grid-baseline)*3) calc(var(--default-grid-baseline)*3) calc(var(--default-grid-baseline)*3) 0;flex:1;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.buttons[data-v-947a7176]{display:flex;justify-content:flex-end;padding-top:calc(var(--default-grid-baseline)*2)}.buttons .spinner[data-v-947a7176]{margin-right:var(--default-grid-baseline)}.material-design-icon[data-v-947a7176]{opacity:.7;margin-right:calc(var(--default-grid-baseline)*1.5)}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/MailboxPicker.vue\"],\"names\":[],\"mappings\":\"AACA,mCACC,oCAAA,CACA,qCAAA,CACA,0BAAA,CACA,2BAAA,CAGD,gCACC,YAAA,CACA,qBAAA,CACA,UAAA,CACA,WAAA,CACA,qBAAA,CACA,4CAAA,CAGD,yBACC,mBAAA,CACA,eAAA,CACA,cAAA,CAEA,gCACC,mBAAA,CACA,WAAA,CACA,aAAA,CACA,aAAA,CACA,OAAA,CACA,kDAAA,CACA,gCAAA,CACA,yBAAA,CACA,kDAAA,CAGD,2BACC,iBAAA,CACA,4CAAA,CACA,UAAA,CACA,sBAAA,CACA,kBAAA,CACA,eAAA,CACA,aAAA,CACA,aAAA,CACA,eAAA,CAEA,iCACC,UAAA,CAIF,qCACC,SAAA,CACA,+BAAA,CAIF,+BACC,oBAAA,CACA,UAAA,CACA,WAAA,CACA,eAAA,CACA,MAAA,CAEA,kCACC,YAAA,CACA,cAAA,CAEA,wCACC,8CAAA,CAGD,mDACC,iEAAA,CAIF,kCACC,UAAA,CACA,mCAAA,CACA,iBAAA,CACA,eAAA,CACA,UAAA,CACA,oBAAA,CACA,WAAA,CAGD,6CACC,UAAA,CACA,WAAA,CACA,4CAAA,CACA,UAAA,CACA,oBAAA,CAGD,8CACC,wHAAA,CACA,MAAA,CACA,eAAA,CACA,kBAAA,CACA,sBAAA,CAIF,0BACC,YAAA,CACA,wBAAA,CACA,gDAAA,CAEA,mCACC,yCAAA,CAGF,uCACC,UAAA,CACA,mDAAA\",\"sourcesContent\":[\"\\n:deep(.modal-container) {\\n\\twidth: calc(100vw - 120px) !important;\\n\\theight: calc(100vh - 120px) !important;\\n\\tmax-width: 600px !important;\\n\\tmax-height: 500px !important;\\n}\\n\\n.modal-content {\\n\\tdisplay: flex;\\n\\tbox-sizing: border-box;\\n\\twidth: 100%;\\n\\theight: 100%;\\n\\tflex-direction: column;\\n\\tpadding: calc(var(--default-grid-baseline) * 4);\\n}\\n\\n.crumbs {\\n\\tdisplay: inline-flex;\\n\\tpadding-right: 0;\\n\\tflex-wrap: wrap;\\n\\n\\t.level {\\n\\t\\tdisplay: inline-flex;\\n\\t\\theight: 44px;\\n\\t\\tmin-width: 0px;\\n\\t\\tflex: 0 0 auto;\\n\\t\\torder: 1;\\n\\t\\tpadding-right: calc(var(--default-grid-baseline) * 2);\\n\\t\\tbackground-position: right center;\\n\\t\\tbackground-size: auto 24px;\\n\\t\\tmargin-top: calc(var(--default-grid-baseline) * -2.5);\\n\\t}\\n\\n\\ta {\\n\\t\\tposition: relative;\\n\\t\\tpadding: calc(var(--default-grid-baseline) * 3);\\n\\t\\topacity: 0.5;\\n\\t\\ttext-overflow: ellipsis;\\n\\t\\twhite-space: nowrap;\\n\\t\\toverflow: hidden;\\n\\t\\tflex: 0 0 auto;\\n\\t\\tmin-width: 0px;\\n\\t\\tmax-width: 200px;\\n\\n\\t\\t&:hover {\\n\\t\\t\\topacity: 0.7;\\n\\t\\t}\\n\\t}\\n\\n\\ta.icon-home {\\n\\t\\twidth: 0px;\\n\\t\\tbackground-position: left center;\\n\\t}\\n}\\n\\n.mailbox-list {\\n\\tdisplay: inline-block;\\n\\twidth: 100%;\\n\\theight: 100%;\\n\\toverflow-y: auto;\\n\\tflex: 1;\\n\\n\\tli {\\n\\t\\tdisplay: flex;\\n\\t\\tcursor: pointer;\\n\\n\\t\\t&:hover {\\n\\t\\t\\tbackground-color: var(--color-background-hover);\\n\\t\\t}\\n\\n\\t\\t&:not(:last-child) {\\n\\t\\t\\tborder-bottom: var(--border-width-input) solid var(--color-border);\\n\\t\\t}\\n\\t}\\n\\n\\th2 {\\n\\t\\twidth: 100%;\\n\\t\\tcolor: var(--color-text-maxcontrast);\\n\\t\\ttext-align: center;\\n\\t\\tmargin-top: 80px;\\n\\t\\topacity: 0.4;\\n\\t\\tbackground-size: 64px;\\n\\t\\theight: 64px;\\n\\t}\\n\\n\\t.mailbox-icon {\\n\\t\\twidth: 24px;\\n\\t\\theight: 24px;\\n\\t\\tpadding: calc(var(--default-grid-baseline) * 3);\\n\\t\\topacity: 0.9;\\n\\t\\tbackground-size: 24px;\\n\\t}\\n\\n\\t.mailbox-title {\\n\\t\\tpadding: calc(var(--default-grid-baseline) * 3) calc(var(--default-grid-baseline) * 3) calc(var(--default-grid-baseline) * 3) 0;\\n\\t\\tflex: 1;\\n\\t\\toverflow: hidden;\\n\\t\\twhite-space: nowrap;\\n\\t\\ttext-overflow: ellipsis;\\n\\t}\\n}\\n\\n.buttons {\\n\\tdisplay: flex;\\n\\tjustify-content: flex-end;\\n\\tpadding-top: calc(var(--default-grid-baseline) * 2);\\n\\n\\t.spinner {\\n\\t\\tmargin-right: var(--default-grid-baseline);\\n\\t}\\n}\\n.material-design-icon {\\n\\topacity: .7;\\n\\tmargin-right: calc(var(--default-grid-baseline) * 1.5);\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n"],"names":["___CSS_LOADER_EXPORT___","push","module","id","name","props","title","type","String","default","size","Number","fillColor","_c","_vm","_g","_b","staticClass","class","data","attrs","listeners","_v","components","NcAppNavigationCaption","Fragment","ActionButton","ActionCheckbox","ActionInput","ActionText","AccountSettings","IconInfo","IconSettings","IconFolderAdd","MenuDown","MenuUp","IconDelete","IconLoading","account","Object","required","firstMailbox","isFirst","Boolean","isLast","isDisabled","menuOpen","loading","delete","savingShowOnlySubscribed","quota","undefined","editing","showSaving","createMailboxName","showMailboxes","nameInput","nameLabel","computed","mapStores","useMainStore","showSettings","mainStore","showSettingsForAccount","visible","isUnified","quotaText","t","usage","formatFileSize","limit","methods","createMailbox","e","logger","info","error","showError","openCreateMailbox","removeAccount","dialog","DialogBuilder","setName","setText","email","emailAddress","setButtons","label","callback","deleteAccount","location","href","generateUrl","build","show","changeAccountOrderUp","moveAccount","up","catch","changeAccountOrderDown","changeShowSubscribedOnly","onlySubscribed","patchAccount","showSubscribedOnly","then","onMenuToggle","open","console","debug","fetchQuota","showAccountSettings","showSettingsForAccountMutation","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","locals","this","_self","key","on","scopedSlots","_u","fn","proxy","_s","_e","$event","preventDefault","stopPropagation","apply","arguments","provisioningId","AppNavigationItem","collapsed","toggleCollapse","toggleAccountCollapsedMutation","setAccountSetting","accountId","value","MailboxPicker","mailbox","moving","destMailboxId","onClose","$emit","onMove","newName","getMailbox","delimiter","displayName","renameMailbox","genId","databaseId","setActivePinia","createPinia","DroppableMailbox","constructor","el","componentInstance","registerListeners","bind","setInitialAttributes","draggableInfo","setStatus","update","instance","dragEventBus","onDragStart","onDragEnd","firstChild","addEventListener","onDragOver","onDragLeave","onDrop","removeListeners","off","removeEventListener","status","setAttribute","canBeDropped","isSameAccount","isValidDropTarget","isCurrentlyDragging","keys","length","event","mailboxId","dataTransfer","dropEffect","envelopesBeingDragged","JSON","parse","getData","emit","envelopes","processedEnvelopes","map","async","processDroppedItem","envelope","Promise","all","movedEnvelopes","item","document","querySelector","moveThread","removeAttribute","DroppableMailboxDirective","binding","vnode","context","componentUpdated","CounterBubble","IconSend","IconEmailCheck","IconExternal","IconFolderRename","IconFolderSync","IconAllInboxes","IconFavorite","IconFolder","IconFolderShared","IconDraft","IconArchive","IconJunk","IconInbox","IconWrench","EraserVariant","ImportantIcon","MoveMailboxModal","AlarmIcon","directives","droppableMailbox","filter","window","OC","mailboxStats","loadingMarkAsRead","clearingCache","changeSubscription","changingSyncInBackground","showSubMailboxes","renameLabel","renameInput","mailboxName","showMoveModal","hasDelimiter","UNIFIED_INBOX_ID","repairing","attributes","includes","isUnifiedButOnlyInbox","notInbox","toLowerCase","notVirtual","specialRole","translateMailboxName","specialUse","to","params","hasSubMailboxes","subMailboxes","getSubMailboxes","statsText","unread","n","total","isSubscribed","isDroppableSpecialMailbox","draftsMailboxId","sentMailboxId","isActive","$route","hasInsertAcl","getAccounts","showUnreadCounter","subCounter","reduce","carry","mb","hasRenameAcl","myAcls","parent","getParentMailbox","mailboxHasRights","hasSeenAcl","hasSubmailboxActionAcl","hasDeleteAcl","hasClearMailboxAcl","mounted","onEnvelopesMoved","beforeDestroy","fetchMailboxStats","stats","getMailboxStatus","withPrefix","markAsRead","markMailboxRead","changeFolderSubscription","subscribed","changeMailboxSubscription","changeSyncInBackground","syncInBackground","patchMailbox","clearCache","reload","clearMailbox","dialogs","confirmDestructive","YES_NO_BUTTONS","confirm","confirmClasses","cancel","result","deleteMailbox","parseInt","$router","PRIORITY_INBOX_ID","path","showInfo","openRenameInput","onOpenMoveModal","onCloseMoveModal","_ref","expandAccountMutation","_ref2","_ref3","openedMessageHasBeenMoved","find","movedEnvelope","envelopeId","threadId","repair","repairMailbox","response","rawName","expression","isPriorityInbox","archiveMailboxId","trashMailboxId","junkMailboxId","snoozeMailboxId","shared","_l","subMailbox","IconOutbox","useOutboxStore","count","outboxStore","getAllMessages","InvalidPkcs12CertificateError","Error","super","TYPE_PKCS12","NcModal","NcButton","NcPasswordField","NcEmptyContent","DeleteIcon","TYPE_PEM","moment","showImportScreen","certificateType","certificate","privateKey","password","mapState","certificates","inputFormIsValid","fetchSmimeCertificates","deleteCertificate","deleteSmimeCertificate","uploadCertificate","$refs","files","pkcs12Der","der","forge","ByteBuffer","asn1","fromDer","p12","pkcs12FromAsn1","getBags","bagType","certBags","oids","certBag","keyBags","pkcs8ShroudedKeyBag","certificateToPem","cert","join","privateKeyToPem","convertPkcs12ToPem","arrayBuffer","Blob","createSmimeCertificate","showSuccess","resetImportForm","domProps","_q","ref","target","commonName","unix","notAfter","format","sortByEmail","sortBy","prop","ButtonVue","list","sortedSenders","fetchTrustedSenders","removeSender","sender","s","trustSender","senderType","sortByAddress","NcDialog","NcTextField","IconAdd","openDialog","newAddress","buttons","icon","IconCancel","IconCheck","addInternalAddress","getInternalAddresses","sortedDomains","a","sortedEmails","removeInternalAddress","address","checkType","parts","split","domain","TrustedSenders","InternalAddress","IconEmail","IconLock","SmimeCertificateModal","NcCheckboxRadioSwitch","NcAppSettingsDialog","NcAppSettingsSection","CompactMode","VerticalSplit","HorizontalSplit","mixins","isMobile","loadingAvatarSettings","prioritySettingsText","loadingPrioritySettings","optOutSettingsText","loadingOptOutSettings","replySettingsText","loadingReplySettings","autoTaggingText","followUpReminderText","internalAddressText","toggleAutoTagging","displaySmimeCertificateModal","sortOrder","showMailSettings","selectedAccount","mailvelopeIsAvailable","searchPriorityBody","getPreference","useBottomReplies","useExternalAvatars","useDataCollection","useAutoTagging","useInternalAddresses","useFollowUpReminders","allowNewMailAccounts","layoutMode","watch","onOpen","call","checkMailvelope","updated","closeAccountSettings","openAccountSettings","mailvelope","setLayout","savePreference","Logger","onToggleButtonReplies","checked","onToggleExternalAvatars","onToggleSearchPriorityBody","onToggleCollectData","onSortByDate","previousValue","removeAllEnvelopesMutation","onToggleAutoTagging","onToggleFollowUpReminders","onToggleInternalAddress","registerProtocolHandler","navigator","url","protocol","host","theme","err","mailvelopeAuthorizeDomain","iframe","createElement","style","src","body","append","followUpFeatureAvailable","AppNavigation","AppSettingsMenu","NavigationAccount","NavigationAccountExpandCollapse","NavigationMailbox","NavigationOutbox","NewMessageButtonHeader","IconSetting","refreshing","menu","UNIFIED_ACCOUNT_ID","mailboxes","getMailboxes","isCollapsible","isCollapsed","unifiedAccount","getAccount","unifiedMailboxes","passwordIsUnavailable","outboxMessages","accounts","masterPasswordEnabled","group","IconRefresh","currentMailbox","refreshMailbox","syncEnvelopes","onNewMessage","startComposerSession","isBlankMessage","rights","acls","right","mitt","trustFlag","axios","put","get","Modal","IconSent","IconTrash","IconBreadcrumb","selected","labelSelect","labelSelectLoading","pickedMailbox","allowRoot","selectedMailboxId","mailboxCrumbs","filteredMailboxes","getMailboxIcon","getMailboxTitle","onClickHome","onClickCrumb","index","slice","onClickMailbox","onSelect","box","translate","translateSpecial"],"sourceRoot":""}