"use strict";(()=>{(self.webpackChunktalk=self.webpackChunktalk||[]).push([["node_modules_nextcloud_upload_dist_chunks_InvalidFilenameDialog-B2HT8YV2_mjs"],{4466:(m,s,t)=>{t.d(s,{A:()=>h});var l=t(71354),u=t.n(l),c=t(76314),v=t.n(c),o=v()(u());o.push([m.id,`
.invalid-filename-dialog__input[data-v-3a479259] {
	/* Ensure the helper text can always be shown without jumping */
	min-height: calc(var(--default-clickable-area) + 4 * var(--default-font-size));
}
`,"",{version:3,sources:["webpack://./node_modules/@nextcloud/upload/dist/assets/InvalidFilenameDialog-YDOzIzS6.css"],names:[],mappings:";AACA;CACC,+DAA+D;CAC/D,8EAA8E;AAC/E",sourcesContent:[`
.invalid-filename-dialog__input[data-v-3a479259] {
	/* Ensure the helper text can always be shown without jumping */
	min-height: calc(var(--default-clickable-area) + 4 * var(--default-font-size));
}
`],sourceRoot:""}]);const h=o},16429:(m,s,t)=>{t.r(s),t.d(s,{default:()=>S});var l=t(85072),u=t.n(l),c=t(97825),v=t.n(c),o=t(77659),h=t.n(o),g=t(55056),A=t.n(g),y=t(10540),D=t.n(y),N=t(41113),T=t.n(N),d=t(4466),i={};i.styleTagTransform=T(),i.setAttributes=A(),i.insert=h().bind(null,"head"),i.domAPI=v(),i.insertStyleElement=D();var M=u()(d.A,i);const _=d.A&&d.A.locals?d.A.locals:void 0;var r=t(78113),p=t(85471),n=t(94997),C=t(94219),I=t(82182),F=t(40083);const x=(0,p.pM)({components:{NcDialog:C.A,NcNoteCard:F.A,NcTextField:I.A},props:{error:{type:r.di,required:!0},validateFilename:{type:Function,required:!0}},setup(){return{t:n.t}},data(){return{newName:"",validationError:""}},computed:{isValidName(){return this.validationError===""},isInvalidFileType(){return this.error.reason===r.nF.Extension&&this.error.segment.match(/^\.\w/)!==null},canRename(){return!this.isInvalidFileType},dialogButtons(){const a=[{label:(0,n.t)("Cancel"),type:"error",callback:()=>{this.$emit("close",{cancel:!0})}},{label:(0,n.t)("Skip"),callback:()=>{this.$emit("close",{skip:!0})}}];return this.canRename&&a.push({label:(0,n.t)("Rename"),type:"primary",disabled:!this.isValidName,callback:()=>{this.$emit("close",{rename:this.newName.trimEnd()})}}),a}},watch:{error:{handler(){this.validationError=this.getErrorText(this.error),this.newName=this.error.filename},immediate:!0},newName(){try{this.validateFilename(this.newName.trimEnd()),this.validationError=""}catch(a){this.validationError=this.getErrorText(a)}finally{const a=this.$refs.textfield?.$el.querySelector("input");a&&(a.setCustomValidity(this.validationError),a.reportValidity())}}},methods:{getErrorText(a){switch(a.reason){case r.nF.Character:return(0,n.t)('"{segment}" is not allowed inside a file or folder name.',{segment:a.segment});case r.nF.ReservedName:return(0,n.t)('"{segment}" is a forbidden file or folder name.',{segment:a.segment});case r.nF.Extension:return a.segment.match(/\.\w/)?(0,n.t)('"{segment}" is a forbidden file type.',{segment:a.segment}):(0,n.t)('Filenames must not end with "{segment}".',{segment:a.segment})}}}});var P=function(){var e=this,f=e._self._c;return e._self._setupProxy,f("NcDialog",{attrs:{buttons:e.dialogButtons,name:e.t("Invalid filename")},on:{close:function(E){return e.$emit("close",{cancel:!0})}}},[f("NcNoteCard",{attrs:{severity:"error"}},[e._v(" "+e._s(e.getErrorText(e.error))+" "+e._s(e.t("You can either rename the file, skip this file or cancel the whole operation."))+" ")]),e.canRename?f("NcTextField",{ref:"textfield",staticClass:"invalid-filename-dialog__input",attrs:{error:!e.isValidName,"helper-text":e.validationError,label:e.t("New filename"),value:e.newName},on:{"update:value":function(E){e.newName=E}}}):e._e()],1)},O=[],R=(0,n.n)(x,P,O,!1,null,"3a479259");const S=R.exports},82182:(m,s,t)=>{t.d(s,{A:()=>l.N});var l=t(59890)}}]);})();

//# sourceMappingURL=talk-node_modules_nextcloud_upload_dist_chunks_InvalidFilenameDialog-B2HT8YV2_mjs.js.map?v=ce4bc26f29a8cde37a6d